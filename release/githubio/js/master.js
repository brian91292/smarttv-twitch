(function(root) {

    /** Detect free variables */
    var smartTwitchTVGlobal = typeof global === 'object' && global;
    if (
        smartTwitchTVGlobal.global === smartTwitchTVGlobal ||
        smartTwitchTVGlobal.window === smartTwitchTVGlobal ||
        smartTwitchTVGlobal.self === smartTwitchTVGlobal
    ) {
        root = smartTwitchTVGlobal;
    }
    var smartTwitchTV;
var STR_BODY='<div id="body_container" style="margin:0px auto;"><div id="scene1" class="screen_size" style="background-color:rgba(0, 0, 0, 1);"><div id="dialog_loading" class="screens dialogs hide" style="z-index:98;margin-top:50vh;overflow:visible;"><div class="loading"><div></div><div></div><div></div><div></div></div></div><div id="main_remove_dialog" class="screens hide" style="z-index:100;background:rgba(0, 0, 0, 0.75);"><div class="dialog_exit" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_dialog_focused button_dialog" style="margin-left:0%;"></div><div id="remove_yes" class="button_dialog"></div></div></div></div><div id="main_dialog_user" class="screens hide" style="z-index:100;background:rgba(0, 0, 0, 0.75);"><div class="dialog_exit" style="width:80%;margin-left:10%;"><div id="main_dialog_user_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="main_dialog_user_first" class="button_dialog_focused button_dialog" style="margin-left:0%;"></div><div id="main_dialog_user_key" class="button_dialog" style="width:35%;"></div><div id="main_dialog_user_remove" class="button_dialog" style="width:22%;"></div></div></div></div><div id="main_dialog_exit" class="screens hide" style="z-index:100;background:rgba(0, 0, 0, 0.75);"><div class="dialog_exit"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_dialog_focused button_dialog" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_dialog"></div><div id="exit_app_close" class="button_dialog"></div></div></div></div><div id="dialog_period" class="screens hide" style="z-index:100;background:rgba(0, 0, 0, 0.75);"><div class="dialog_period"><div id="dialog_period_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="dialog_period_1" class="button_dialog" style="margin-left:0%;"></div><div id="dialog_period_2" class="button_dialog"></div><div id="dialog_period_3" class="button_dialog"></div><div id="dialog_period_4" class="button_dialog"></div></div></div></div><div id="dialog_OffSet" class="screens hide" style="z-index:100;background:rgba(0, 0, 0, 0.75);"><div class="dialog_period"><div id="dialog_OffSet_text" class="exit_text"></div><div id="dialog_OffSet_text_summary" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;color:#FFFFFF;font-size:200%;"><div class="settings_arraw_div"><div id="dialog_OffSet_left" class="left" style="opacity:1;"></div></div><div id="dialog_OffSet_val" class="strokedeline settings_value settings_value_focus"></div><div class="settings_arraw_div"><div id="dialog_OffSet_right" class="right" style="opacity:1;"></div></div></div></div></div><div id="dialog_warning" class="strokedeline dialogs hide" style="z-index:100;margin-top:31%;width:60%;margin-left:20%;"><div id="dialog_warning_text" class="strokedeline" style="font-size:150%;"></div></div><div id="dialog_about" class="screens hide" style="z-index:200;background:rgba(0, 0, 0, 0.75);"><div class="about_dialogs" style="width:95%;margin-left:2.5%;"><div id="dialog_about_text" class="about_text"></div></div></div><div id="dialog_controls" class="screens hide" style="z-index:200;background:rgba(0, 0, 0, 0.75);"><div class="about_dialogs" style="width:85%;margin-left:7.5%;"><div id="dialog_controls_text" class="controls_text"></div></div></div><div id="dialog_counter" style="position:absolute;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="screens_holder" class="screens"><div id="UserChannels_scroll" class="screen_holder_channel hide"><div id="stream_table_user_channels" class="streams_div" style="margin-left:6.5%;"></div></div><div id="SearchChannels_scroll" class="screen_holder_channel hide"><div id="stream_table_search_channel" class="streams_div"></div></div><div id="channel_content_scroll" class="screen_holder_switch hide"><div id="stream_table_channel_content" class="streams_div"><div><div id="channel_content_celly_0" class="stream_cell_period"><div id="channel_content_thumbdivy_0" class="stream_thumbnail_channel_vod"><div id="channel_content_titley_0" class="stream_channel_follow_game"></div></div></div><div id="channel_content_celly_1" class="stream_cell_period"><div id="channel_content_thumbdivy_1" class="stream_thumbnail_channel_vod"><div id="channel_content_titley_1" class="stream_channel_follow_game"></div></div></div><div id="channel_content_celly_2" class="stream_cell_period"><div id="channel_content_thumbdivy_2" class="stream_thumbnail_channel_vod"><div id="channel_content_titley_2" class="stream_channel_follow_game"></div></div></div></div><div id="channel_content_row0"><div class="stream_thumbnail_live_holder"><div class="stream_thumbnail_live"><div id="channel_content_thumbdiv0_1" class="stream_thumbnail_live_img"></div></div></div><div id="channel_content_cell0_1" class="stream_thumbnail_live_holder"><div id="channel_content_thumbdiv0_0" class="stream_thumbnail_live"></div></div><div class="stream_thumbnail_live_holder" style="padding-right:0;padding-left:0;"><div class="stream_thumbnail_live"><div id="channel_content_infodiv0_1" class="stream_thumbnail_live_text_holder channel_about"></div></div></div></div><div id="channel_content_img0_1"></div></div></div><div id="Clip_scroll" class="screen_holder_switch hide"><div id="stream_table_clip" class="streams_div"></div></div><div id="ChannelClip_scroll" class="screen_holder_switch hide"><div id="stream_table_channel_clip" class="streams_div"></div></div><div id="AGameClip_scroll" class="screen_holder_switch hide"><div id="stream_table_a_game_clip" class="streams_div"></div></div><div id="user_scroll" class="screen_holder_user hide"><div id="stream_table_user" class="streams_div"></div></div><div id="settings_holder" class="settings_holder hide"><div id="settings_scroll" class="screen_holder_settings"><div id="settings_main" class="settings_main"></div><div id="settings_lang" class="settings_main hide"></div></div></div><div id="Game_scroll" class="screen_holder_games hide"><div id="stream_table_games" class="streams_game_div"></div></div><div id="UserGames_scroll" class="screen_holder_games hide"><div id="stream_table_user_games" class="streams_game_div"></div></div><div id="SearchGames_scroll" class="screen_holder_games hide"><div id="stream_table_search_game" class="streams_game_div"></div></div><div id="add_user_scroll" class="screen_holder hide"><div id="add_user" class="input_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div></div><div id="oauth_scroll" class="screen_holder hide"><div id="oauth" class="input_text_box" style="margin-top:0;"><div id="oauth_text" class="class_bold" style="color:#FFFFFF;font-size:88%;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div></div><div id="search_scroll" class="screen_holder hide"><div id="search" class="input_text_box" style="margin-top:10%;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div></div><div id="Live_scroll" class="screen_holder hide"><div id="stream_table_live" class="streams_div"></div></div><div id="Featured_scroll" class="screen_holder hide"><div id="stream_table_featured" class="streams_div"></div></div><div id="UserHost_scroll" class="screen_holder hide"><div id="stream_table_user_host" class="streams_div"></div></div><div id="UserLive_scroll" class="screen_holder hide"><div id="stream_table_user_live" class="streams_div"></div></div><div id="AGame_scroll" class="screen_holder_switch hide"><div id="stream_table_a_game" class="streams_div"></div></div><div id="SearchLive_scroll" class="screen_holder hide"><div id="stream_table_search_live" class="streams_div"></div></div><div id="Vod_scroll" class="screen_holder_switch hide"><div id="stream_table_vod" class="streams_div"></div></div><div id="AGameVod_scroll" class="screen_holder_switch hide"><div id="stream_table_a_game_vod" class="streams_div"></div></div><div id="ChannelVod_scroll" class="screen_holder_switch hide"><div id="stream_table_channel_vod" class="streams_div"></div></div><div id="UserVod_scroll" class="screen_holder_switch hide"><div id="stream_table_user_vod" class="streams_div"></div></div></div><div id="topbar" class="topbar hide"><div class="top_clock"><div id="label_clock" class="icon_top_label" style="text-align:right;"></div></div><div id="controls_div" class="controls_div"><div id="label_update" class="icon_top_label hide"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_side_panel" class="icon_top_label hide"></div></div><div id="top_lable" class="top_lable"></div></div><div id="side_panel_new_holder" class="hide"><div id="side_panel_movel" class="side_panel_movel side_panel_border side_panel_background_color"><div class="side_panel_fix_top"><div class="side_panel_movel_top_text"><div class="side_panel_icons"><i class="icon icon-arrow-left"></i></div>&nbsp;<span id="side_panel_movel_top_text"></span></div><div class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_0" class="side_panel_new_icons_text_holder" style="height:1.9em;"></div><div class="side_panel_new_icons_text_holder"></div></div><div class="side_panel_fix_top_2"><div class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_1" class="side_panel_new_icons_text_holder"></div><div class="side_panel_new_icons_text_holder"></div></div><div id="side_panel_movel_center" class="side_panel_fix_center"><div id="side_panel_movel_user_text_holder" class="side_panel_movel_user_text hide"><span id="side_panel_movel_user_text"></span></div><div id="side_panel_movel_new_2" class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_3" class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_4" class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_5" class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_6" class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_7" class="side_panel_new_icons_text_holder"></div><div id="side_panel_movel_new_8" class="side_panel_new_icons_text_holder hide"></div></div><div id="side_panel_movel_bottom" class="side_panel_fix_bottom"><div class="side_panel_movel_bottom_holder"><div class="side_panel_movel_bottom_text"><div id="side_panel_movel_new_9"></div></div><div class="side_panel_movel_bottom_text"><div id="side_panel_movel_new_10"></div></div><div class="side_panel_movel_bottom_text"><div id="side_panel_movel_new_11"></div></div><div class="side_panel_movel_bottom_text"><div id="side_panel_movel_new_12"></div></div></div></div></div><div id="side_panel_fix" class="side_panel_fix"><div class="side_panel_fix_top" style="background-color:#000000;"><div class="side_panel_new_icons"></div><div id="side_panel_new_0" class="side_panel_new_icons"><div id="side_panel_new_0_img"></div></div><div class="side_panel_new_icons"></div></div><div class="side_panel_fix_top_2"><div class="side_panel_new_icons"></div><div id="side_panel_new_1" class="side_panel_new_icons"><i class="icon icon-search side_panel_new_icons_pad"></i></div><div class="side_panel_new_icons"></div></div><div id="side_panel_fix_center" class="side_panel_fix_center" style="background-color:#000000;"><div id="side_panel_new_2" class="side_panel_new_icons"><i class="icon icon-arrow-left side_panel_new_icons_pad"></i></div><div id="side_panel_new_3" class="side_panel_new_icons"><i class="icon icon-play side_panel_new_icons_pad"></i></div><div id="side_panel_new_4" class="side_panel_new_icons"><i class="icon icon-users side_panel_new_icons_pad"></i></div><div id="side_panel_new_5" class="side_panel_new_icons"><i class="icon icon-star side_panel_new_icons_pad"></i></div><div id="side_panel_new_6" class="side_panel_new_icons"><i class="icon icon-gamepad side_panel_new_icons_pad"></i></div><div id="side_panel_new_7" class="side_panel_new_icons"><i class="icon icon-movie-play side_panel_new_icons_pad"></i></div><div id="side_panel_new_8" class="side_panel_new_icons"><i class="icon icon-movie side_panel_new_icons_pad"></i></div></div><div id="side_panel_fix_botton" class="side_panel_fix_bottom" style="width:30%;background-color:#000000;"></div></div></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"><div id="chat_inner_container" class="chat_size_default"><div class="chat_box_holder"><div style="transform:rotate(180deg);"><div id="chat_box" class="chat_box"></div></div></div><div id="play_chat_dialog" style="position:absolute;text-align:center;width:100%;margin-top:50%;"><div id="play_chat_dialog_text" class="strokedeline" style="display:inline-block;font-size:100%;color:#FFFFFF;"></div></div></div></div><div id="scene_channel_panel" class="screen_size scene_channel_panel"><div class="playerinfo"><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:9.5%;" alt="" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="><div id="stream_clock" class="playclock"></div><div class="playmaininfo"><div id="stream_info_name" class="class_bold" style="font-size:160%;margin-bottom:0.2em;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div><div id="stream_live_time" style="display:inline-block;width:auto;"></div><div id="stream_live_viewers" style="display:inline-block;width:auto;"></div><div id="stream_watching_time" class="playsideinfotext"></div></div></div><div id="controls_holder" class="controls_holder"></div><div id="progress_pause_holder" class="progress_pause_holder"><div id="progress_bar_div" class="progress_bar_div"><div id="progress_bar_jump_to" class="progress_bar_jump strokedeline" style="transform:translateY(-25%);"></div><div><div style="width:100%;position:relative;transform:translateY(-50%);"><div id="progress_bar_current_time" class="progress_bar_timer strokedeline"></div><div id="progress_bar" class="progress_bar_holder"><div class="progress_bar"><div id="inner_progress_bar" class="inner_progress_bar"></div></div></div><div id="progress_bar_duration" class="progress_bar_timer strokedeline"></div></div></div><div id="progress_bar_steps" class="progress_bar_jump strokedeline" style="position:relative;top:35%;transform:translateY(-110%);"></div></div><div id="pause_next_div" class="pause_next_div"><div style="width:44%;display:inline-block;text-align:right;"><div id="back_button" class="next_button" style="opacity:0;"><div id="back_button_text" class="next_text"><div id="back_button_text_name" class="next_channel strokedeline" style="text-align:right;"></div><div id="back_button_text_title" class="next_info strokedeline" style="text-align:right;"></div></div><i class="pause_button3d icon-back"></i></div></div><div style="width:5%;display:inline-block;text-align:center;margin-left:0.5ch;margin-right:0.5ch;"><div id="pause_button" class="pause_button" style="width:90%;padding-top:0.375em;padding-bottom:0.375em;"><div><i class="pause_button3d icon-pause"></i></div></div></div><div style="width:44%;display:inline-block;text-align:left;"><div id="next_button" class="next_button" style="opacity:0;"><i class="pause_button3d icon-next"></i><div id="next_button_text" class="next_text"><div id="next_button_text_name" class="next_channel strokedeline"></div><div id="next_button_text_title" class="next_info strokedeline"></div></div></div></div></div></div></div><div id="playsideinfo" class="playsideinfo hide"><div id="stream_quality" class="playsideinfostatus"></div><div id="stream_status" class="playsideinfostatus"></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:100%;z-index:2;"><div id="dialog_vod_start" class="dialogs hide" style="z-index:3;font-size:150%;height:75%;margin-top:25%;"><div id="dialog_vod_text" class="strokedeline" style="font-size:140%;padding-bottom:2%;"></div><div id="dialog_vod_0" class="dialog_end_icons_start dialog_end_icons_focus"><i class="icon-history strokicon" style="font-size:225%;"></i><div id="dialog_vod_saved_text" class="strokedeline"></div></div><div id="dialog_vod_1" class="dialog_end_icons_start"><i class="icon-play strokicon" style="font-size:225%;"></i><div id="dialog_vod_start_text" class="strokedeline"></div></div></div><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:150%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedeline" style="margin-top:15%;font-size:145%;padding-bottom:1%;"></div><div id="dialog_end_-1" class="dialog_end_icons hide"><i class="icon-next strokicon icon_end"></i><div id="dialog_end_next_text" class="strokedeline"></div><div class="end_texts_holder"><div id="end_next_button_text_name" class="end_text next_channel strokedeline"></div><div id="end_next_button_text_title" class="next_info_dialog strokedeline"></div></div></div><div id="dialog_end_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-refresh strokicon icon_end"></i><div id="dialog_end_replay_text" class="strokedeline"></div><div class="end_texts_holder"><div id="end_replay_name_text" class="end_text next_channel strokedeline"></div><div id="end_replay_title_text" class="next_info_dialog strokedeline"></div></div></div><div id="dialog_end_1" class="dialog_end_icons"><i class="icon-play strokicon icon_end"></i><div id="dialog_end_vod_text" class="strokedeline"></div><div class="end_texts_holder"><div id="end_vod_name_text" class="end_text next_channel strokedeline"></div><div id="end_vod_title_text" class="next_info_dialog strokedeline"></div></div></div><div id="dialog_end_2" class="dialog_end_icons"><i class="icon-filmstrip strokicon icon_end"></i><div id="dialog_end_channel_text" class="end_text strokedeline"></div><div id="end_channel_name_text" class="strokedeline" style="font-size:85%;overflow:hidden;text-overflow:ellipsis;"></div></div><div id="dialog_end_3" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:6.75vh;"></i><div id="dialog_end_game_text" class="strokedeline"></div><div class="end_texts_holder"><div id="end_game_name_text" class="end_text next_channel strokedeline" style="text-align:center;"></div></div></div></div><div id="dialog_loading_play" class="screen_size dialogs hide" style="z-index:98;margin-top:50vh;overflow:visible;"><div class="loading"><div></div><div></div><div></div><div></div></div></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:11%;"><div id="play_dialog_exit_text" class="strokedelinebig" style="font-size:230%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:10%;"><div id="dialog_warning_play_text" class="strokedelinebig" style="font-size:140%;"></div></div></div></div><div id="scenefeed" class="feed_screen"><div id="user_feed_notify" class="user_feed_notify user_feed_notify_hide" style="margin-top:-20%;"><div id="user_feed_notify_content" class="side_panel_not"><div id="user_feed_notify_main" class="class_bold" style="text-align:center;"></div><div><div id="user_feed_notify_img_holder" class="side_panel_iner_div1"></div><div class="notification_holder"><div id="user_feed_notify_name" class="notification_name"></div><div id="user_feed_notify_title" class="notification_title"></div><div id="user_feed_notify_game" class="notification_game"></div></div></div></div></div><div id="user_feed" class="user_feed user_feed_hide"><div id="icon_feed_refresh" class="icon_feed_refresh"></div><div id="dialog_loading_feed" class="dialogs_feed hide" style="margin-top:5.5%;overflow:visible;"><div class="loading"><div></div><div></div><div></div><div></div></div></div><div id="user_feed_scroll" class="user_feed_scroll user_feed_scroll_ani"></div></div><div id="side_panel_feed_thumb" class="side_panel_feed_thumb hide"><div class="stream_thumbnail_clip"><img id="feed_thumb_img" class="stream_img_side" alt="" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="></div><div class="side_panel_feed_thumb_text_holder"><div class="stream_text_holder"><div id="feed_thum_name" class="side_panel_feed_thumb_text class_bold" style="width:75%;display:inline-block;font-size:110%;"></div><div id="feed_thum_quality" class="side_panel_feed_thumb_text" style="width:24%;float:right;text-align:right;"></div><div id="feed_thum_title" class="side_panel_feed_thumb_title_text"></div><div id="feed_thum_game" class="side_panel_feed_thumb_text"></div><div id="feed_thum_views" class="side_panel_feed_thumb_text"></div></div></div></div><div id="side_panel" class="side_panel side_panel_border side_panel_background_color side_panel_hide" style="margin-left:-31.5%;"><div id="side_panel_new" style="width:100%;position:absolute;"><div id="side_panel_feed_holder" style="width:94%;margin-left:6%;"><div id="dialog_loading_side_feed" class="side_panel_dialog hide"><div class="loading"><div></div><div></div><div></div><div></div></div></div><div id="side_panel_row_0"><div id="side_panel_cell0_0" style="width:100%;display:inline-block;padding:1%;"><div id="side_panel_thumbdiv0_0" class="side_panel_div"><div id="side_panel_feed_1" class="side_panel_feed_top"><div class="side_panel_icons"><i class="icon icon-arrow-right"></i></div>&nbsp;<span id="side_panel_feed_settings"></span></div><div id="side_panel_feed_2" class="side_panel_feed_top"><div class="side_panel_icons"><i class="icon icon-arrow-left"></i></div>&nbsp;<span id="side_panel_feed_refresh"></span></div></div></div></div><div id="side_panel_new_row_1" style="overflow:hidden;width:94%;position:absolute;"><div id="side_panel_holder" class="side_panel_holder_ani"></div><div id="side_panel_warn" class="side_panel_feed_top" style="display:none;"><span id="side_panel_warn_text"></span></div></div></div></div></div><div id="rest_warning" class="strokedeline dialogs hide" style="top:45vh;font-size:6vh;background:#000000;height:auto;"></div></div></div> ';
var STR_REFRESH,STR_SEARCH,STR_SETTINGS,STR_CONTROLS,STR_ABOUT,STR_HIDE,STR_SEARCH_EMPTY,STR_SEARCH_RESULT_EMPTY,STR_SWITCH,STR_SWITCH_USER,STR_SWITCH_VOD,STR_SWITCH_CLIP,STR_GO_TO,STR_USER,STR_LIVE,STR_GAMES,STR_PLAYING,STR_FOR,STR_WATCHING,STR_SINCE,STR_AGAME,STR_PLACEHOLDER_SEARCH,STR_PLACEHOLDER_OAUTH,STR_PLACEHOLDER_USER,STR_PLACEHOLDER_PRESS,STR_CHANNELS,STR_CHANNEL,STR_GOBACK,STR_IS_OFFLINE,STR_IS_SUB_ONLY,STR_REFRESH_PROBLEM,STR_NO,STR_FOR_THIS,STR_PLAYER_PROBLEM,STR_PAST_BROA,STR_PAST_HIGHL,STR_CLIPS,STR_CONTENT,STR_STREAM_ON,STR_DURATION,STR_VIEWS,STR_VIEWER,STR_EXIT_AGAIN,STR_EXIT_MESSAGE,STR_EXIT,STR_CLOSE,STR_MINIMIZE,STR_CANCEL,STR_NOT_LIVE,STR_LIVE_CHANNELS,STR_LIVE_HOSTS,STR_LIVE_GAMES,STR_USER_CHANNEL,STR_USER_ADD,STR_USER_REMOVE,STR_USER_ERROR,STR_USER_HOSTING,STR_USER_SET,STR_USER_MAKE_ONE,STR_USER_NUMBER_ONE,STR_ADD_USER_SH,STR_CLIP_DAY,STR_CLIP_WEEK,STR_CLIP_MONTH,STR_CLIP_ALL,STR_JUMP_TIME,STR_JUMP_T0,STR_JUMP_CANCEL,STR_JUMP_TIME_BIG,STR_SEC,STR_MIN,STR_HR,STR_SOURCE,STR_VERSION,STR_TWITCH_TV,STR_CLOSE_THIS,STR_PLAYER,STR_GENERAL,STR_UPDATE,STR_CURRENT_VERSION,STR_LATEST_VERSION,STR_CONTROLS_MAIN_2,STR_CONTROLS_MAIN_3,STR_CONTROLS_MAIN_4,STR_CONTROLS_MAIN_6,STR_CONTROLS_MAIN_10,STR_CONTROLS_MAIN_14,STR_ABOUT_INFO_1,STR_ABOUT_INFO_3,STR_ABOUT_INFO_4,STR_ABOUT_INFO_5,STR_ABOUT_INFO_6,STR_ABOUT_INFO_7,STR_ABOUT_INFO_8,STR_ABOUT_INFO_9,STR_ABOUT_INFO_10,STR_ABOUT_INFO_11,STR_ABOUT_INFO_12,STR_ABOUT_INFO_13,STR_ABOUT_INFO_14,STR_ABOUT_INFO_15,STR_CONTROLS_PLAY_1,STR_CONTROLS_PLAY_2,STR_CONTROLS_PLAY_3,STR_CONTROLS_PLAY_4,STR_CONTROLS_PLAY_5,STR_CONTROLS_PLAY_6,STR_CONTROLS_PLAY_7,STR_CONTROLS_PLAY_8,STR_CONTROLS_PLAY_9,STR_CONTROLS_PLAY_10,STR_CONTROLS_PLAY_11,STR_CONTROLS_PLAY_12,STR_CONTROLS_PLAY_14,STR_UPDATE_AVAILABLE,STR_OAUTH_IN,STR_USER_CODE,STR_USER_CODE_OK,STR_KEY_BAD,STR_KEY_OK,STR_OAUTH_WRONG,STR_OAUTH_WRONG2,STR_FOLLOWING,STR_FOLLOW,STR_IS_SUB_NOOAUTH,STR_IS_SUB_NOT_SUB,STR_IS_SUB_IS_SUB,STR_OAUTH_FAIL,STR_NOKEY,STR_NOKEY_WARN,STR_RESET,STR_CLIP,STR_CHANNEL_CONT,STR_NET_DOWN,STR_NET_UP,STR_FOLLOWERS,STR_CANT_FOLLOW,STR_GAME_CONT,STR_YES,STR_REMOVE_USER,STR_PLACEHOLDER_PRESS_UP,STR_FOLLOW_GAMES,STR_USER_GAMES_CHANGE,STR_GUIDE,STR_MONTHS,STR_DAYS,STR_STARTED,STR_KEY_UP_DOWN,STR_VIDEOS,STR_VIDEO,STR_REPLAY,STR_STREAM_END,STR_STREAM_END_EXIT,STR_FEATURED,STR_CREATED_AT,STR_OPEN_BROADCAST,STR_NO_BROADCAST,STR_NO_BROADCAST_WARNING,STR_NO_CHAT,STR_IS_NOW,STR_OPEN_HOST,STR_SETTINGS_PLAYER,STR_SETTINGS_BUFFER_SIZE,STR_SETTINGS_BUFFER_SIZE_SUMMARY,STR_SETTINGS_BUFFER_LIVE,STR_SETTINGS_BUFFER_VOD,STR_SETTINGS_BUFFER_CLIP,STR_SETTINGS_GENERAL,STR_SETTINGS_LANG,STR_LOADING_CHAT,STR_VOD_HISTORY,STR_FROM,STR_FROM_START,STR_CHAT_END,STR_TIME,STR_VIWES,STR_NOKEY_VIDEO_WARN,STR_SWITCH_TYPE,STR_ENABLE,STR_DISABLE,STR_RESTORE_PLAYBACK,STR_RESTORE_PLAYBACK_SUMARRY,STR_CHAT_FONT,STR_OAUTH_FAIL_USER,STR_VIDEOS_ANIMATION,STR_SIDE_PANEL,STR_SIZE,STR_BRIGHTNESS,STR_FORBIDDEN,STR_JUMPING_STEP,STR_SECONDS,STR_MINUTES,STR_RESTORE_PLAYBACK_WARN,STR_CLOCK_OFFSET,STR_APP_LANG,STR_CONTENT_LANG,STR_CONTENT_LANG_SUMARRY,STR_LANG_ALL,STR_NO_GAME,STR_ABOUT_INFO_2_SOURCE,STR_JUMP_BUFFER_WARNING,STR_CHAT_DISABLE,STR_CLIP_FAIL,STR_F_DISABLE_CHAT,STR_CHAT_BRIGHTNESS,STR_GOBACK_START,STR_PLAY_NEXT,STR_PLAY_ALL,STR_PLAY_NEXT_IN,STR_AUTO_PLAY_NEXT,STR_CONTROLS_MAIN_5,STR_SIDE_PANEL_SETTINGS,STR_UP,STR_LIVE_FEED,STR_NOKUSER_WARN,STR_END_DIALOG_SETTINGS,STR_END_DIALOG_SETTINGS_SUMMARY,STR_END_DIALOG_DISABLE,STR_CHAT_SIZE,STR_CHAT_POS,STR_CHAT,STR_CHAT_SIDE_FULL,STR_CHAT_SIDE,STR_SPEED,STR_QUALITY,STR_CHAT_VIDEO_MODE,STR_NORMAL,STR_AUTO,STR_DEF_QUALITY,STR_DEF_QUALITY_SUMARRY,STR_VERY_LOW,STR_LOW,STR_HIGH,STR_VERY_HIGH,STR_THUMB_RESOLUTION,STR_THUMB_RESOLUTION_SUMARRY,STR_PAYPAL_SUMMARY,STR_CHAT_DELAY,STR_SECOND,STR_PLAYER_PROBLEM_2,STR_EXIT_AGAIN_PICTURE,STR_PLAYER_AUTO_BIG,STR_PLAYER_AUTO_SMALLS,STR_PLAYER_RESYNC,STR_PLAYER_AUTO_ALL,STR_PLAYER_BITRATE,STR_PLAYER_BITRATE_SUMARRY,STR_PLAYER_BITRATE_MAIN,STR_PLAYER_BITRATE_SMALL,STR_PLAYER_BITRATE_SMALL_SUMARRY,STR_PLAYER_BITRATE_UNLIMITED,STR_PICTURE_LIVE_FEED,STR_AUDIO_SOURCE,STR_CHAT_5050,STR_CHAT_PP_SIDE_FULL,STR_SINGLE_EXIT,STR_SINGLE_EXIT_SUMMARY,STR_USER_MY_CHANNEL,STR_NOW_LIVE,STR_NOW_LIVE_SHOW,STR_NOW_DURATION,STR_GLOBAL_FONT,STR_GLOBAL_FONT_SUMMARY,STR_MAIN_MENU,STR_USER_MENU,STR_CH_IS_OFFLINE,STR_SCREEN_COUNTER,STR_SWITCH_POS,STR_SWITCH_POS_SUMMARY,STR_MAIN_USER,STR_USER_OPTION,STR_USER_TOP_LABLE,STR_USER_EXTRAS,STR_LOW_LATENCY,STR_LIVE_FEED_SORT,STR_LIVE_FEED_SORT_SUMMARY,STR_A_Z,STR_Z_A,STR_APP_ANIMATIONS,STR_LOW_LATENCY_SUMARRY,STR_OAUTH_EXPLAIN1,STR_OAUTH_EXPLAIN2,STR_OAUTH_EXPLAIN3,STR_OAUTH_EXPLAIN4,STR_OAUTH_EXPLAIN5,STR_OAUTH_EXPLAIN6,STR_OAUTH_EXPLAIN,STR_ENTER_REFRESH,STR_CONTROLS_PLAY_13,STR_RUNNINGTIME,STR_410_ERROR,STR_410_FEATURING,STR_CLICK_UNFOLLOW,STR_CLICK_FOLLOW,STR_HOLD_UP,STR_NAME_A_Z,STR_NAME_Z_A,STR_GAME_A_Z,STR_GAME_Z_A,STR_VIWES_MOST,STR_VIWES_LOWEST,STR_CREATED_NEWEST,STR_CREATED_OLDEST,STR_HOLD_RESET,STR_RESET_DONE,STR_FORCE_RESET;var STR_PAYPAL,STR_ABOUT_EMAIL="fglfgl27@gmail.com",STR_BR="<br>",STR_DOT='<i  class="icon-circle class_bold" style="font-size: 50%; vertical-align: middle;"></i>  ',STR_DIV_TITLE='<div class="about_text_title">',STR_DIV_TITLE_LEFT='<div class="about_text_title" style="text-align: left;">',STR_DIV_MIDLE_LEFT='<div style="text-align: left;">',STR_CONTROL_KEY="",STR_SEARCH_KEY="",STR_ABOUT_KEY="",STR_SETTINGS_KEY="",STR_CONTROLS_MAIN_0="",STR_ABOUT_INFO_HEADER="",STR_ABOUT_INFO_0="",STR_CONTROLS_PLAY_0="",STR_SPACE="&nbsp;";function DefaultLang(){STR_CONTROL_KEY=STR_CONTROLS+" (C)",STR_SEARCH_KEY=STR_SEARCH+" (D)",STR_SETTINGS_KEY=STR_SETTINGS+" (A)",STR_ABOUT_KEY=STR_ABOUT+" (A)",STR_SWITCH+=STR_KEY_UP_DOWN,STR_SWITCH_USER+=STR_KEY_UP_DOWN,STR_CONTROLS_MAIN_3+=STR_GUIDE,STR_GOBACK=STR_GOBACK_START,STR_PAYPAL='<div style="vertical-align: middle;"><img style="vertical-align: middle; display: inline-block; width: 4%;" alt="" src="https://brian91292.github.io/SmartTwitchTV/release/githubio/images/paypal.png"><div style="vertical-align: middle; display: inline-block;">'+STR_PAYPAL_SUMMARY+"</div></div>",STR_CONTROLS_PLAY_0=STR_DIV_TITLE+STR_PLAYER+"</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_CONTROLS_PLAY_4+STR_BR+STR_DOT+STR_CONTROLS_PLAY_1+STR_BR+STR_DOT+STR_CONTROLS_PLAY_2+STR_BR+"</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_CONTROLS_PLAY_3+STR_BR+STR_DOT+STR_CONTROLS_PLAY_5+STR_BR+STR_DOT+STR_CONTROLS_PLAY_6+STR_BR+STR_DOT+STR_CONTROLS_PLAY_13+STR_BR+STR_BR+STR_DIV_TITLE+STR_CHAT+":</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_CONTROLS_PLAY_7+STR_BR+STR_DOT+STR_CONTROLS_PLAY_8+STR_BR+STR_DOT+STR_CONTROLS_PLAY_9+STR_BR+STR_DOT+STR_CONTROLS_PLAY_10+STR_BR+STR_DOT+STR_CONTROLS_PLAY_11,STR_CONTROLS_MAIN_0=STR_DIV_TITLE+STR_CONTROLS+"</div>"+STR_DIV_TITLE+STR_GENERAL+"</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_SIDE_PANEL+STR_BR+STR_DOT+STR_CONTROLS_MAIN_2+STR_BR+STR_DOT+STR_CONTROLS_MAIN_3+STR_BR+STR_DOT+STR_CONTROLS_MAIN_4+STR_BR+STR_DOT+STR_CONTROLS_MAIN_5+STR_BR+STR_DOT+STR_FORCE_RESET+STR_BR+STR_DOT+STR_CONTROLS_MAIN_6+STR_BR+STR_DOT+STR_CONTROLS_MAIN_10+STR_BR+STR_DOT+STR_CONTROLS_MAIN_14+STR_BR+"</div>"+STR_CONTROLS_PLAY_0+STR_BR+STR_DIV_TITLE+STR_CLOSE_THIS+"</div>",STR_ABOUT_INFO_HEADER=STR_DIV_TITLE+STR_TWITCH_TV+"</div></div>",STR_ABOUT_INFO_0=STR_DIV_MIDLE_LEFT+STR_BR+STR_ABOUT_INFO_1+STR_BR+(Main_IsNotBrowser?"":STR_BR+'<div class="class_bold" style="display: inline-block; color: #FF0000; font-size: 110%;">'+STR_ABOUT_INFO_2_SOURCE+"</div>")+"</div>"+STR_BR+STR_DIV_TITLE+STR_ABOUT_INFO_3+"</div>"+STR_ABOUT_EMAIL+STR_BR+STR_PAYPAL+STR_ABOUT_INFO_4+STR_BR+STR_ABOUT_INFO_5+STR_BR+STR_BR+STR_DIV_TITLE_LEFT+STR_ABOUT_INFO_6+"</div>"+STR_DIV_MIDLE_LEFT+STR_SPACE+STR_SPACE+STR_ABOUT_INFO_14+STR_BR+STR_DOT+STR_ABOUT_INFO_7+STR_BR+STR_DOT+STR_ABOUT_INFO_11+STR_BR+STR_DOT+STR_ABOUT_INFO_15+STR_BR+STR_DOT+STR_ABOUT_INFO_10+STR_BR+STR_DOT+STR_ABOUT_INFO_12+STR_BR+STR_DOT+STR_ABOUT_INFO_13+STR_BR+STR_DOT+STR_ABOUT_INFO_9+STR_BR+STR_DOT+STR_ABOUT_INFO_8+STR_BR+STR_DIV_TITLE+STR_CLOSE_THIS+"</div></div>",STR_OAUTH_EXPLAIN=STR_OAUTH_EXPLAIN1+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN2.replace("link_link","<div style=\"display: inline-block; color: #FF0000; font-size: 110%; font-family: 'Roboto-Bold';\">http://tiny.cc/twitchkeycode</div>")+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN3+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN4+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN5+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN6}function en_USLang(){Main_IsDayFirst=!1,STR_KEY_UP_DOWN=" CH Up/Down",STR_GUIDE=" Hold enter or press Guide or Info",STR_REFRESH="Refresh",STR_SEARCH="Search",STR_SETTINGS="Settings",STR_CONTROLS="Controls",STR_ABOUT="About",STR_HIDE="Hide",STR_SEARCH_EMPTY="The text you entered is empty.",STR_SEARCH_RESULT_EMPTY="The search result is empty.",STR_SWITCH="Switch screen",STR_SWITCH_USER="Switch user screen",STR_SWITCH_VOD="Switch: Past Broadcasts or Highlights",STR_SWITCH_CLIP="Switch: Period (24h, 7d, 30d, all)",STR_GO_TO="Go to ",STR_USER="User",STR_LIVE="Live",STR_GAMES="Games",STR_PLAYING="Playing ",STR_FOR="for ",STR_WATCHING="Watch time ",STR_SINCE="Since ",STR_AGAME="A Game",STR_PLACEHOLDER_SEARCH="Type your search...",STR_PLACEHOLDER_OAUTH="Type your authentication key...",STR_PLACEHOLDER_USER="Type your username...",STR_PLACEHOLDER_PRESS="Press Enter or Select key to, ",STR_CHANNELS="Channels",STR_CHANNEL="Channel",STR_GOBACK_START="Back to previous screen: Back key",STR_IS_OFFLINE=" has ended",STR_IS_SUB_ONLY="This video is only available to subscribers.",STR_REFRESH_PROBLEM="Connection failed, unable to load content. Hit refresh to try again",STR_NO="No",STR_FOR_THIS=" for this ",STR_PLAYER_PROBLEM="Connection failed, unable to load video content exiting...",STR_PAST_BROA=" Past Broadcasts",STR_PAST_HIGHL=" Highlights",STR_CLIPS="Clips",STR_CONTENT=" Content",STR_STREAM_ON="Streamed ",STR_DURATION="Duration ",STR_VIEWS=" Views",STR_VIEWER="Viewers",STR_EXIT_AGAIN="Click again to exit!",STR_EXIT_AGAIN_PICTURE="Click again to exit Picture in Picture!",STR_EXIT_MESSAGE="Do you want to exit SmartTV Client for Twitch?",STR_EXIT="Exit",STR_CLOSE="Close",STR_MINIMIZE="Minimize",STR_CANCEL="Cancel",STR_NOT_LIVE="Rerun",STR_LIVE_CHANNELS=" Channels Live",STR_LIVE_HOSTS="Hosts",STR_LIVE_GAMES=" Games Live",STR_USER_CHANNEL=" Followed Channels",STR_USER_MY_CHANNEL="My Channel",STR_USER_ADD="Add User",STR_USER_REMOVE=" Remove User",STR_USER_ERROR="User doesn't exist",STR_USER_HOSTING=" hosting ",STR_USER_SET=" already set",STR_USER_MAKE_ONE="Switch to",STR_USER_NUMBER_ONE="First user can follow (when providing a key) and see live channels feed outside of the user screen<br>",STR_ADD_USER_SH="Add a Twitch user to display it's Followed Channels content here",STR_CLIP_DAY="24h",STR_CLIP_WEEK="7d",STR_CLIP_MONTH="30d",STR_CLIP_ALL="all",STR_JUMP_TIME="Jumping",STR_JUMP_T0=" to ",STR_JUMP_CANCEL="Jump Canceled",STR_JUMP_TIME_BIG=" , jump time bigger then duration",STR_SEC=" Sec",STR_MIN=" Min",STR_HR=" Hr",STR_SOURCE="Source",STR_VERSION="Version: ",STR_TWITCH_TV="SmartTV Client for Twitch",STR_CLOSE_THIS="Press back or enter key to close this.",STR_PLAYER="Player Related:",STR_CHAT="Chat Related:",STR_GENERAL="General Related:",STR_UPDATE="Update",STR_CURRENT_VERSION="Current installed version ",STR_LATEST_VERSION=" latest available version ",STR_CONTROLS_MAIN_2="Play a video: Navigate using Directional pad (up/down/left/right), press enter or play play/pause media",STR_CONTROLS_MAIN_3="Refresh screen content: ",STR_CONTROLS_MAIN_4="Exit the application: from side panel click exit",STR_CONTROLS_MAIN_5="Force close the application: Hold the back key until it auto force close",STR_CONTROLS_MAIN_6="Switch screen: CH Up/Down or use the side panel",STR_CONTROLS_MAIN_10="Start a search: from side panel click search, writing the search press the Enter key on the virtual keyboard and choose a search option",STR_CONTROLS_MAIN_14="About this application: from side panel click about",STR_ABOUT_INFO_1="This is a SmartTV Client for Twitch developed by a individual on his free time, for TVs that don't have access to a good official application, released for free to anyone who wants to use it.",STR_ABOUT_INFO_2_SOURCE="This version of the app is for test in browser only!",STR_ABOUT_INFO_3="Contact information:",STR_ABOUT_INFO_4="This is an open source application licensed under the GNU General Public License v3.0, check it on github",STR_ABOUT_INFO_5="github.com/fgl27/smarttv-twitch",STR_ABOUT_INFO_6="This application uses following dependencies:",STR_ABOUT_INFO_7="irc-message - Performant, streaming IRC message parser (https://github.com/sigkell/irc-message)",STR_ABOUT_INFO_8="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",STR_ABOUT_INFO_9="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",STR_ABOUT_INFO_10="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",STR_ABOUT_INFO_11="punycode - A robust Punycode converter that fully complies to RFC 3492 and RFC 5891 (https://github.com/bestiejs/punycode.js)",STR_ABOUT_INFO_12="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",STR_ABOUT_INFO_13="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",STR_ABOUT_INFO_14="Web:",STR_ABOUT_INFO_15="crass - A CSS minification, pretty printing, and general utility library written in JS (https://github.com/mattbasta/crass)",STR_CONTROLS_PLAY_0=STR_SPACE+"or in player bottom controls",STR_CONTROLS_PLAY_1="Show information panel: Press enter key or D-pad keys if live channel feed is not showing",STR_CONTROLS_PLAY_2="Close the video: press back key twice or media key Stop",STR_CONTROLS_PLAY_3="Play/Pause a video: open information panel and click on pause symbol",STR_CONTROLS_PLAY_4="Show user live channels feed: D-pad up",STR_CONTROLS_PLAY_5="Change video quality: use the player bottom controls Quality",STR_CONTROLS_PLAY_6="Force refresh a video (in case it freezes): Change video quality to the same",STR_CONTROLS_PLAY_7="Show or hide the Chat : Guide or Info"+STR_CONTROLS_PLAY_0,STR_CONTROLS_PLAY_8="Change Chat position : "+STR_KEY_UP_DOWN+STR_CONTROLS_PLAY_0,STR_CONTROLS_PLAY_9="Change Chat size : D-pad down"+STR_CONTROLS_PLAY_0,STR_CONTROLS_PLAY_10="Change Chat background brightness: change in player bottom controls",STR_CONTROLS_PLAY_11="Force refresh the Chat in Live streams (in case it freezes or doesn't load): use the player bottom controls Chat force disable (click twice)",STR_CONTROLS_PLAY_12='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',STR_CONTROLS_PLAY_13="All media keys are supported (play, pause, stop, next track, fast forward, etc...)",STR_CONTROLS_PLAY_14="Chat and video (Side by side): Color button red (A)",STR_F_DISABLE_CHAT="Chat force disable",STR_UPDATE_AVAILABLE="Update available, check google play store",STR_OAUTH_IN="Adding a key allows the app to access live user content faster, follow/unfollow channels/games<br><br> Add a key is not demanding and can be done at any point later.<br> In doubt read this link:<br> <br> https://https://github.com/fgl27/smarttv-twitch#twitchtv-authentication-key <br> <br>To add a key for ",STR_USER_CODE="Add Authentication key",STR_USER_CODE_OK="Key added OK",STR_KEY_BAD="Key test failed, new one needs to be added",STR_KEY_OK="Key test return OK",STR_OAUTH_WRONG="You try to add a key for user ",STR_OAUTH_WRONG2=" but this key is for user ",STR_FOLLOWING=" Following",STR_FOLLOW=" Follow",STR_IS_SUB_NOOAUTH=" And you have not set a authentication key the app can't check yours sub status.",STR_IS_SUB_NOT_SUB=" And you are not a sub of this channel",STR_IS_SUB_IS_SUB=" You are a sub of this channel but ",STR_OAUTH_FAIL="Fail authentication check with the provider key, please check and try again",STR_OAUTH_FAIL_USER="The added key doesn't belong to the user ",STR_NOKEY="No user",STR_NOKEY_WARN="Set user and an authentication key to be able to follow/unfollow",STR_NOKUSER_WARN="Set a user first",STR_RESET="Restart the",STR_CLIP=" Clip",STR_CHANNEL_CONT="Channel content",STR_NET_DOWN="Network is disconnected, the application can't work without INTERNET",STR_NET_UP="Network connection reestablished",STR_FOLLOWERS=" Followers",STR_CANT_FOLLOW=", Can't follow or unfollow ",STR_GAME_CONT="Game content",STR_YES="Yes",STR_REMOVE_USER="Are you sure you want to remove the user ",STR_PLACEHOLDER_PRESS_UP="Press Up to ",STR_FOLLOW_GAMES="Followed Games",STR_USER_GAMES_CHANGE="Change between",STR_MONTHS=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],STR_DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],STR_STARTED="Started ",STR_VIDEOS="Videos",STR_VIDEO=" Video",STR_REPLAY="Replay",STR_STREAM_END="exiting in ",STR_STREAM_END_EXIT='press "Return" to exit',STR_FEATURED="Featured",STR_CREATED_AT="Created ",STR_OPEN_BROADCAST="Open the Broadcast",STR_NO_BROADCAST="No Broadcast",STR_NO_BROADCAST_WARNING="There are no Past Broadcasts for this clip",STR_NO_CHAT="And because of that no chat",STR_IS_NOW=" is now",STR_OPEN_HOST="Open the Hosting",STR_SETTINGS_PLAYER="Player related",STR_SETTINGS_BUFFER_SIZE="Start Buffer size:",STR_SETTINGS_BUFFER_SIZE_SUMMARY="How much is needed to buffer before starting the playback, this is not related to maximum size the buffer can be, a lower value here will make the player start playing sooner, but it may cause re-buffering which will cause the player to pause to buffer.",STR_SETTINGS_BUFFER_LIVE="Live streams Start buffer",STR_SETTINGS_BUFFER_VOD="Videos (Past Broadcast and Highlight) Start buffer",STR_SETTINGS_BUFFER_CLIP="Clips Start buffer",STR_SETTINGS_GENERAL="General",STR_SETTINGS_LANG="Language",STR_LOADING_CHAT="Chat: Connecting to chat server..."+STR_BR+"Chat: Connected."+STR_BR+"Chat: Joined channel ",STR_VOD_HISTORY="Play from the start or from where you stopped watching last time?",STR_FROM="From:"+STR_BR,STR_FROM_START=STR_FROM+"Start",STR_CHAT_END="Chat: The Chat has ended!",STR_TIME=", Most recent",STR_VIWES=", Most views",STR_NOKEY_VIDEO_WARN="Set an user authentication key to be able to see followed videos",STR_SWITCH_TYPE="Switch: Most recent or views",STR_ENABLE="Enable",STR_DISABLE="Disable",STR_RESTORE_PLAYBACK_WARN="The app was closed while playing, restoring playback",STR_RESTORE_PLAYBACK="Restore playback",STR_RESTORE_PLAYBACK_SUMARRY="The app saves what was playing in case it gets close unintentionally (changing apps the system may run out of memory and close it) or force closed by the user, the app then can restore what was previously playing on next start",STR_CHAT_FONT="Chat font size",STR_VIDEOS_ANIMATION="Video's animated thumbnails",STR_SIDE_PANEL="Side panel: D-pad left or Back key",STR_SIZE="Size ",STR_BRIGHTNESS="Brightness ",STR_FORBIDDEN="Forbidden content, this is restricted in yours region or is restrained to the official Twitch app only",STR_JUMPING_STEP="Jump step ",STR_SECOND=" second",STR_SECONDS=STR_SECOND+"s",STR_MINUTES=" minutes",STR_CLOCK_OFFSET="Clock offset",STR_APP_LANG="Application language",STR_CONTENT_LANG="Content language",STR_CONTENT_LANG_SUMARRY="Press enter to change",STR_LANG_ALL="All",STR_NO_GAME="No game from this",STR_JUMP_BUFFER_WARNING="Isn't possible to jump during buffering",STR_CHAT_DISABLE="Chat is force disabled, enable it in player bottom controls Chat force disable",STR_CLIP_FAIL="This clip/video failed to load. Can't replay",STR_CHAT_BRIGHTNESS="Chat background brightness",STR_PLAY_NEXT="Play Next",STR_PLAY_NEXT_IN="Playing next in ",STR_PLAY_ALL="Play All",STR_AUTO_PLAY_NEXT="Auto Play next clip",STR_SIDE_PANEL_SETTINGS="Back to Main menu",STR_UP=" Press up",STR_HOLD_UP=" Hold up",STR_LIVE_FEED="Live Feed",STR_END_DIALOG_SETTINGS="End dialog",STR_END_DIALOG_SETTINGS_SUMMARY="Set the time that it will take for the stream/video/clip to end dialog taking action",STR_END_DIALOG_DISABLE="Disable the timer",STR_CHAT="Chat Show",STR_CHAT_SIZE="Chat size",STR_CHAT_POS="Chat position",STR_CHAT_VIDEO_MODE="Video mode",STR_CHAT_SIDE_FULL="Full screen",STR_CHAT_PP_SIDE_FULL="Big plus small screen",STR_CHAT_SIDE="Smaller screen and chat",STR_CHAT_5050="50/50 and chats",STR_CHAT_DELAY="Chat delay",STR_SPEED="Speed",STR_QUALITY="Quality",STR_NORMAL="Normal",STR_AUTO="Auto",STR_DEF_QUALITY="Default player start quality",STR_DEF_QUALITY_SUMARRY="Used when the app is first opened, after the user change the quality that becomes default for that section, a section ends when the apps is closed",STR_VERY_LOW="Very low",STR_LOW="Low",STR_HIGH="High",STR_VERY_HIGH="Very high",STR_THUMB_RESOLUTION="Thumbnails quality",STR_THUMB_RESOLUTION_SUMARRY="Default thumbnails resolution for live, videos and games (can't be applied for clips) a lower value will help the app load faster but the thumbnail may look blurry",STR_PAYPAL_SUMMARY="Donations use above Email.",STR_PLAYER_PROBLEM_2="Connection failed, unable to load second stream info",STR_PLAYER_RESYNC="Player Auto Sync",STR_PLAYER_AUTO_BIG="Main window",STR_PLAYER_AUTO_SMALLS="Small window",STR_PLAYER_AUTO_ALL="Both windows",STR_PLAYER_BITRATE_UNLIMITED="Unlimited",STR_PLAYER_BITRATE="Auto quality Bitrate limit:",STR_PLAYER_BITRATE_SUMARRY="The maximum video allowed bitrate for the auto quality, this is most to prevent lag or slowdowns when playing in picture and picture mode as that mode used Auto quality only, but also can be used to limit the Main window bitrate when using Auto quality and prevent the player from trying bitrate bigger then what yours internet supports, some devices will slowdown too much if the main and small window bitrate is too high, the recommended is 3Mbps for small and unlimited for main.",STR_PLAYER_BITRATE_MAIN="Main player bitrate",STR_PLAYER_BITRATE_SMALL="Small player bitrate (for Picture in Picture mode)",STR_PLAYER_BITRATE_SMALL_SUMARRY="Different values for Main and small player bitrate may cause a short loading call when changing video source, to prevent this set both values the same at the cost of possible app slowdowns if the bitrate values are too high, the best indicative for detecting too high bitrate for picture in picture is the player Drooped frames value if you are constantly drooping the bitrate is too high, other indicative is the constantly buffering of the stream.",STR_PICTURE_LIVE_FEED='Hold enter to start "Picture in Picture Mode" then use D-Pad left to move, right to resize or down to change videos',STR_AUDIO_SOURCE="Audio source",STR_SINGLE_EXIT="Single return key press",STR_SINGLE_EXIT_SUMMARY="Exit the player or exit picture in picture or exit 50/50 mode with a single key return click",STR_NOW_LIVE="Now Live",STR_NOW_LIVE_SHOW="Show Now Live notification",STR_NOW_DURATION="Now Live notification duration in seconds",STR_GLOBAL_FONT="Global app font size offset",STR_GLOBAL_FONT_SUMMARY="This will change the size of all text and most icons in the app (minus chat font size, because it has its own control), too small value may not be visible too big value will overflow the text box holder, that is way this value is limited",STR_MAIN_MENU="Main Menu",STR_USER_MENU="User Menu",STR_CH_IS_OFFLINE="Is offline",STR_SCREEN_COUNTER="Show screen position counter",STR_SWITCH_POS="Switch: Starting Position offset",STR_SWITCH_POS_SUMMARY="Instead of starting on the first possible video, start a a lower position on the list, prevents having to go down and down to find a older video",STR_USER_OPTION="Choose a option for user",STR_MAIN_USER="Main user",STR_USER_TOP_LABLE="Click on a user to see options",STR_USER_EXTRAS="User: Switch, add, key",STR_LOW_LATENCY="Low Latency",STR_LOW_LATENCY_SUMARRY="If start getting buffers issue disable "+STR_LOW_LATENCY+"<br>Use "+STR_SETTINGS_BUFFER_LIVE+" equal or bellow to 3 for this to have effect",STR_LIVE_FEED_SORT="Live feed sort",STR_LIVE_FEED_SORT_SUMMARY="Sorts side panel live feed and player live feed",STR_A_Z="Alphabetical A - Z",STR_Z_A="Alphabetical Z - A",STR_APP_ANIMATIONS="Enable app animations",STR_OAUTH_EXPLAIN1=", follow bellow steps:",STR_OAUTH_EXPLAIN2="Access the site link_link (using a computer or a smart phone)",STR_OAUTH_EXPLAIN3='Click the "Authorize" button which will take you to main Twitch.TV authentication site',STR_OAUTH_EXPLAIN4="Login to Twitch.TV using the username you are trying to add a key for",STR_OAUTH_EXPLAIN5="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",STR_OAUTH_EXPLAIN6="The web page will update and show a key code, the key only has lowercase letters and numbers.",STR_ENTER_REFRESH="Disable Hold enter to refresh",STR_RUNNINGTIME="App running for:",STR_410_ERROR="Unable to get stream link issue",STR_410_FEATURING="Third party app are current without access for this featuring.",STR_CLICK_UNFOLLOW="(Click to unfollow)",STR_CLICK_FOLLOW="(Click to follow)",STR_NAME_A_Z="Name A - Z",STR_NAME_Z_A="Name Z - A",STR_GAME_A_Z="Game A - Z",STR_GAME_Z_A="Game Z - A",STR_VIWES_MOST="Views highest",STR_VIWES_LOWEST="Views lowest",STR_CREATED_NEWEST="Created / Uptime newest",STR_CREATED_OLDEST="Created / Uptime Oldest",STR_RESET_DONE="All configuration erased the app will self restart",STR_HOLD_RESET="<br>Keep hold Key for 10 seconds to reset all app configuration this can help when the app is freezed, release to dismiss this<br><br>",STR_FORCE_RESET="Force erase all app config: in case the app misbehave and stop working, hold key channel UP or Down for 20 seconds anywhere in the app, after it 10 seconds there is a confirmation"}var KEY_PAUSE=19,KEY_PLAY=415,KEY_PLAYPAUSE=10252,KEY_STOP=413,KEY_MEDIAREWIND=412,KEY_MEDIAFASTFORWARD=417,KEY_LEFT=37,KEY_UP=38,KEY_RIGHT=39,KEY_DOWN=40,KEY_ENTER=13,KEY_PG_DOWN=428,KEY_PG_UP=427,KEY_REFRESH=458,KEY_INFO=457,KEY_RETURN=10009,KEY_RETURN_Q=81,KEY_KEYBOARD_BACKSPACE=8,KEY_KEYBOARD_DONE=65376,KEY_KEYBOARD_SPACE=32,KEY_KEYBOARD_DELETE_ALL=46,KEY_RED=403,KEY_GREEN=404,KEY_YELLOW=405,KEY_BLUE=406,KEY_KEYBOARD_CANCEL=65385,TV_Keys=["ChannelUp","ChannelDown","MediaRewind","MediaFastForward","MediaStop","MediaPlayPause","MediaPlay","MediaPause","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","Guide","Info"];function TVKeyValue_fixKey(){KEY_RETURN=49,KEY_PG_DOWN=34,KEY_PG_UP=33,KEY_REFRESH=50,KEY_PAUSE=127,KEY_PLAY=126,KEY_PLAYPAUSE=179,KEY_RED=65,KEY_GREEN=66,KEY_YELLOW=67,KEY_BLUE=68,KEY_STOP=73,KEY_MEDIAREWIND=79,KEY_MEDIAFASTFORWARD=80}function TVKeyValue_regKey(key){try{tizen.tvinputdevice.registerKey(key)}catch(e){console.log("Registering key "+key+" error"),console.log(e)}}var IMG_404_GAME="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAAHbCAMAAACjqpKKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABjUExURQAAAFNTX1paYlBQWwAAAv7+/v///VJSXv///1FRXUtLU0VETQkIDFVVX05OWO/v8FJSWxYWGEJCRCkoLX5+gaurrjIyNru7u+fn6dLS152coXZ1e8TEyGhobPf3+d7e34uLj6Msg3EAABAXSURBVHja7N2HgqIwFAVQICA9Iih29P+/chNCExJs6IT1Pt2doo7MmZdCSMBwEZOHAQKgAhWoCKACFagIoAIVqAigAhWoCKACFagIoAIVqAigAhWoCKACFagIoAIVqAigAhWoQEUAFahARQAVqEBFABWoQEUAFahARQAVqEBFABWoQEUAFahARQAVqEBFABWoQAUqAqhABSoCqEAFKgKoQAUqAqhABSoCqEAFKgKoQAUqAqhABSoCqEAFKgKoQAUqUBFABSpQEUAFKlARQAUqUBFABSpQEUAFKlARQAUqUBFABSpQEUAFKlARQAUqUIGKACpQgYr4GVRTfPDLkDxefc80gTo9av0soE6KqnwKUF9FLR8nhAAVqCj+aKiA+iBqgi7VJEGI8DSpbyWUxEkV9eOUmIRYpk+thLgEqE+hxj5J2C2gvSDsFgTUZ9z8CUB9BpXVA5QkNOxHkLL/0jBIEkKSxDeB+gQqNVkxT2KriXN1s8p/cUzLTEamPoXquwml58NGHmsrYKQmUJ9C5T37IFjvi14seRS7jRWydoq1ZkB9BpU18EFw3Tn98BzP85ztmaFSoD5fpzLUi8cJxa2MxaJYOF6xOaeM9H9FFfs0vLU2zfqrd6LpkbKuP0Pde71YsPAchhpSXv7frlTNKvREdb+Cuuih+kB9BXUxjBrVnABV7+Ivdtu/ger8DKrfDoZ8tE4V7VaJmvz/qP40Q0fPocZA1RG13tXQGNWcEtX9WdQhCiHl+JHYYvLOXyuU9lMb1Em6VG73KEO5vc8T/weo0/ZTZ4FabxQyFajzQhUb+GwLxp6vQO00VL+M+kq3AKgfQFUX/8lRy5b1V1CJn3wDNdEZlZjsbhLXZNvlU/aVK47XkwrVfzDc6hg/nycV0CEqH6wuUVPiBnF78OXVMMsuYB2vDV98DNWP2T02Y5Y7cczSrDJlm8yUE25c3h5InEqVvUq2R1Wi1iP/cWv6aqLyPrXJPohR1dd6K58r/rHPCiMlfL4DqWc+BJRPfHgt2OvSdL2XFH6Po1ppmATJqz98GLwO4M2jXqisgJuE+kEQhBNFmktQeZ7yY1RxnoaTRUDLwu+/OCT0ueLPCk/sutaUkcSShqrgrsX2nCSTvlXCqlPWrJq6ZSorssRaXw+qCRDPx+G0k6GyXN1vpovDYX1OKPVfnpn5QVRWk5LzenO67HbLyWIx2E0VqNO9Q7Hc7TfXc8xZXxy6/GSXyrSY6X4npju8Hbzy5CNSfVRHVABOXb2++zbsXly21+PZZB1BU4+GqplPGruBdT1dlkXheN40rsLts8HfgCXrZXOk1PTLHsDTXYCPoRJiWscNn6Uz6a/8cVSvnEnkFCdWA8S8wOmESql1PJyKZjtng1q9x257ZRWAq1emBsGZtdVFPeXJmQ+qyIIlq1fNkJhaoNa7iUHACn8hEJwZFX+nep+i2GuIGh5PRWPgzKmhEuXKuVzjwNUP1Wn+7rMq/tXmXg5x6GuHuheFacoOwLeKP/+4Y6hUD9R6MZnI1BmHszskfOBbJAoB6vSovk6oizl6ljvDLaqvCyoRqIv/ANUH6hSkYiqRQH3l4AxQH0HVo/VP/itUd26oi4V28DeoRAfUes2jCnXBdqurXQKxtkyshSj3EPiX8v3Guk8unjkWj+4wdRcMFovbP634knf+iU8I+fuG6i6qaFqbHZfm9ymH7eWok47JyH6+EtWfB6pXJ0gdizbHut/u5l4nsSYP8aaep0T1fe1RHWe3P+0VcdoqYv/hWHo3uyldVC1a/3uZutyuj2tpXI9WmEqDntefjONhL2upWlTdGyrWptI0DPgkEBrQoA7+GU1Xtm0bkojyzlMnjzA9n24buB6qq33rvzsEOUMVc4GC5saVR1HFk8V97HZnPk//M/aSlKOqM1WHQ9T3Ud2QuOXK9c5MBT5HyAqySI66SvmBzfJp9Vm9VP/M0XCrOdl+/XP4G9PgOIJaP21qVLMzWd9vGQRg0kyRrGZ0VuOPHNVToFK/Ra1/2xFUm6Fa1a/nq/+Q4rPu9/ofZWXZdGl4vJ+p30Gte3CDJ1dKZaay/tIQlR+kcAdJRJKRTM2T2Jwo+kN5WqFWieqSXpTYfNbzaKaS5mQzzQzm8eJvNc8kNze/fr/OW0u2pn1I60zldZN0I0U6JEGqQmU7f5JMdU2GaqtR3Tvp51YVyk312flYRzU7Pm7rDt2KvySa0x2lZfGXoCYhn/jhN0kmco6SeLT4Vwt/E/JmDOpVnVD55rE/eNyrS5tE4ZvqKVAJXwtQN6gVVmxZNIsMRUNlWapzm3S+pX6ws2FxHItFWc0vEuiDKrY1jlVTkWm4lhb/5cEKFC/iqIYKdargqPX6DNFtCfQq/uX6hl7U+0mhvPiXe1Ty/aMkzKSFnxd/mky1/1Qtkvhz1Juy1bTWlMZxmGfqCLZeMRzf3K3Vr1DuUa2ysTcaf3Dw5DwNErb1bswzhLTFvx3++xpqbwIKT9QkyLNVpIx8IxkFdS7nKLIVr7AlqOw77Bbxm+p1tvIHymK1ylLq8lOt8tOH+u0Mhb9CvVmKR8N8VTrcRsORHZybmelibPRytkdjgGrcNF72+8HynlVApugOmn+OemNKwmzM1DZYpnZH7Ksx4WdR+64SpGdRoyjLA5N14vhSr79Gvdm9I0G+GkfpFf/HUFfDiOxuriqlVtKXKp7NagBKk4TySuAPUeuatP46TLPoKdSm+I9lVjYYjj4eU957vZd96bE39F1+GaxUfztWAyQxS1by96id3dJUFH5DHQy1GDZV/Uy9fU24Gaxr2l1Xxt2Izpfdkq/X2jWxZLdrJqlLRL2ah3FMdUPN75ka0tZ/DJV9Hu+Hh+YYqm2o34krGdG6qA/ItksBHW+TyRo+Q1QAVsxrgL9v/Utd0yex5eaR/QiqLFPVL7HpadgJeyhTjzvJ2SoXh0z1RnYW8ssGkP8ctfx2MEQtPoTKM5Ukv4nqFGXxH8lufmeoTnVe5e5M9hHUFUMtr7WgEWqSR+Okc0BNXB32qD6JaowU/4lRy04VQ+Vj1rqhGnNHFUcvdUQd7/xPjqro/KtQpfsmLaqudeqkqOH2W6isSyVOtqod6gStf/lDbLv6JBzLVP6sSFn8vf67jTRUOmYqnRCVHyxpY3A2H8dZbpK0mbiWTYNq/OeodmRtOnMml8M5uZfODMt1BtSHUJmHM3auhWpWbvn/NgXqI8U/Wi87Tczg+UX9nfIkF0B9FHXniMv2qNZIVydJ458A9UHUsvg7qvMC8FNOtqPcmxyoj6JWiSpfhVKedbJ6HKjPZOojS3OUqLy1Wzpe7+Atu8tQbaDeRy2ZRGvXq5Ud77C6s+8PVCmqOH4tMtXrL5A6KLq1yNSHUJONbP3VNZGtIMojoN4t/pw1y2V8Rzl1BtSHUKtJV7fjWcb5Ils3yTq7QL2PKpl0Vcb5IvtJ2xyo9+pUu+0o3Uy64qh7R7LemKFG6PyPdv7HwtrL/jibHLupd3ZTn0X1fgL1zQGVsTj/Lup7Q3/I1A8MUgN1gGrfO5zi3TucAlTZIerRA3/e3QN/qFOfP0Tt3DtEjUz9wLQfoI6i2kCdA+oZqCj+k6O+OukXqEDVAvWxhRSoUz+w5Oe1TE1+IFN5638ZnpPy8FLxt9l+gn2+DE5nybS2qR3pt5DiU10q2w63g1WUl/XKMJ5nLV9gnQZXwtstd5vctn8DVRwKyazhOSPD6JWSX25cLj2dpbX6LVTZAvPIeK3150tWV8oF6z9S/G3b+FL8EqrU1TZe7qUa0i0UZ7KIfqWhmj4j1Yn6M62/NCtte9qawRbL/W1k6ofq1PI0SkAFKlCBClSgAhWoQH0ftTl9sgSVzAU1Mt7Y85xMtRr5Z2jtSWnrXC2v8SVO9EzmgWrZXxw6Uauu8vp0w+1lPlpUb5aotgaotH9Bmtmi7q6K6yN9OeJje97Lw37mmVrst1rEqX+Rr97FaGeF2l567o/Dc5pLMvYnG88Pddpr079zvcT6vvDmjiqm9RfO36MunEV1L3qsM0TV6Tq+bXQrKH511upitMl3Lpz436N6QJ2Gtf8IUF9WbW4eUL+Qwx5QP4DqAfV/QCVA/SDqaGQHp7kkhTMbXN5L5cE7/1ZIxBmWv4h6Z3QtPxTNLv6s8lRMDRYj/7FuqNedU+iyq/9UspaZ6lz4bqqlF6qRXS9F9zwIMxGtKtViebryK7xqhro6bi9LnQu/pNvfDk8u95t1HGhWp/KrEx23y5GTI+ixmyo/uwirUbfXf+3dAVPaMBiAYWPwcmmbmNLZUxD1///KJU2rE+nqmMAXfd/bbYNznDxLWoRAdsZbYSN1tWriUTU/ySdQ9fBP/dMQuHl6fNk546VN/7SCv9o8Pt8+iX465eDsv71/uNtW2nkv7Zia3hZRb++ex1cshJVZbw5O/5s497c7pUP4uIH5xUdq2pt3t3l4TtvE3Qpr/hu6v3+Ix9O0AWDQ0lDTMpCrVduH7S+JvWzu5tpsXnbKp+NphBWGmj8ZZdpWV1pd9dd9wFXaad0eN1BP+JDq3Rt5Lr/Q5+NDk6qerfJ62CZSKSVtpOa3gVx+OdrhZT9rF9Km7/5Dw2bw+ckpFbzAE9Ufh1dxqNdOG7s/v+O5KaixiKrPjro4//N7luSN03Gkpv2o1Ove2mMu6OkK7825pr/SyoZrv/wkteTySLUma6bf7bvdy/+vo1A1qKCCCiqooIIKKqjHoI6Pgu3nV6iUgWpOEKiggloAqgEV1BJQlTGgfnNU/R1Qg1KXQZ0wpzdpqfgXrZxeXp8qmHR8OUUb66WhXpXbMFKDDkaD+tWvUVmjmP5fZ5pRtQX1C02HF/7ivRKG2q6KVU2oXURVpzmkHosaH1K1hQ7V4dNTm6ar5aHadds0JY7V0bTtK6cuNv3nWvddsypQdZU/57evK+VURH39oUYCqq2Go2ppqtk0Tn6v44nq7fQvA9XpustHgOJq2jj54zgdlkqKQtXW133XNiWadn3t81J+JWz6K5VVi6vt1j6k5fw2rT8ThZpOnb6Op6vC6vt+7Z3TaXFfvAtaFKqJB6Sgp8/Lq6Y/xTcs6w3DutN4D6wVNlLjL+XcdWHFbzie9cNwWtDayDqmjgX3j03LlJcu718/dztLt7d/vQnm5F2ZM/d65xYu718/dztLt7d0vUhUW1hFoB77n7B0eQlh7uvm/t23Rv0JnX36f3bELt3+Z2fAOUcoqBxTOaZyTIUAVFBBJVBBBZVABRVUAhVUUAlUUEElUEEFlUAFFVQCFVRQCVRQQSVQQQUVVAIVVFAJVFBBJVBBBZVABRVUAhVUUAlUUEElUEEFlUAFFVQCFVRQQSVQQQWVQAUVVAIVVFAJVFBBJVBBBZVABRVUAhVUUAlUUEElUEEFFVQCFVRQCVRQQSVQQQWVQAUVVAIVVFAJVFBBJVBBBZVABRVUAhVUUEElUEEFlUAFFVQCFVRQCVRQQSVQQQWVQAUVVAIVVFAJVFBBJVBBBZVABRXUH9tvlWLdWXsgA/8AAAAASUVORK5CYII=",IMG_404_LOGO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",IMG_404_VIDEO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAFoCAMAAADw7LpjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA/UExURVJSXlZVYDEyN0pKUlJSWlJRX09PWgAAAP///////vr7/JiYn0BAQ/T09by7wWlpaszMzYKChBAQEaGhpyIhJ3+BVNkAAAmaSURBVHja7d0PV9o6GAfgxoaMRqqCfv/PepMWQQSd22g5lz4P2zw67+i5/fnmT5O2aQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgJ9ITSi/p3+TMH5spn8z/j+GWIQQ0sSa9/TVN5NBPtam93xMG/Swf7vyXsH/dd6DMRTBGQvSWA5FkEMgmhDmCd6+Epa8JwHk0AdMabb3CmPeky4ge+04BE6zDEJq6UuzDLr5X4gxbrePs3ouCYwCuGSrQY1AbLdP67k9bdsY03AM9Sfg8tEdOV93GsCh8X1+Wa+78uvo+oH79M92637bhiCASw9gGQk0abuePoCf5PX6tS1v/VUAWU4THMJjycPMAey6/inFFARw6QFMTVsCuD5LXnf6+nMn//2FCpifNk0QwMU3wU0NYH8WwO7KLgcwaYI1wSEeK+CnMcOEAVzXJjh8PQpmKQEMMcbSBzyLydT5KxWwTfqApmHK2a8VcP2ekpxP8nfNYW9tdz984amNzZcVMDahicNcdSofBXQ5ARxDmK833B0HIef/4PcBDHFcHdGWDNYrNc7XkgI41cxfzv17+/67AO6XR7ShJLGm0flaTgBzfnmawsvHDubvAlha3/2S6eia8dIqYH59rmf/qkor+tofWvbfBzAMC3Ni07bDGh3rBu9Gen99NQgpv19De+1lWDG1r39SAdtUQtvG8PpcSmHUBC+qCS4BLIFYfXz9tWMF3LwehyI/qYBtG7ZPL/mxrQsHW+frLpye6FCnOoqPAcyHAIbhdfrdP3/VXNXX4Z1D+3g6Fv4ygPWQYpueX1/68v2PddVW0AT/34VynktDWHKwedh8VD572H5IRteVAG6uaGhL6xW/19NFWTWAcRhupGHAOwaxfpJK+7t92g+YawDF7y4a3Dq51r7tfp2on+6eT+ZL+rz99E3/YLd7KxGsI4mLAYxpnG4psRt+QEpJbsfi16273I0BHH56uIcAbt4upuT5WACHk37FANYMboZ5vMsVcJ++sN+kVCvgvvgN35cF8F4CGFalAX64HJHnT3PG16yA5fdDrH3KSwFsxg3qdcK5dv5K01uK3/DT0OU8LuMSwLupgKXQ/CCAXSmC162Av97aryrguB253jCmztOk58cy7jheB+yyAN5RANOPAjic9KsHcJjZuxjA/fbMuji6NL2H1Qo5D32BrAm+nwDWq1rzN8FjAEP4pgke7oj03vTWtncM3zobhCwngB+X4k8QwPR1E1xnXcJjLX613nXDcrAy/s37QxHA+wlg/HoQ0p0un7p+H/DCIGT9NFzmbeOh+H1ciHj4XAAFcJoA1hXRbVvHHesPl0g6ARTAOQI4bEqq447+8hYAAby3ADa3DWA8r4Avr+OMc+315U4A7953AexmD2DO4xrpcbT79e4lARTAKQKY3xfpv1/2EEABnLUCHj72ff7ujiACKIBXCWD4HMCxDe6Ge9LkLIAGIRMGsBxA+Lgk/2zr5tcE0DTMvwewvPt3AVwLoADesgIK4EICGASQhVbAKIACKIAsNICHaRgB1Ae8UQCjAArg7SpgGu+MsO4EUABv1wT/zW0HBVAAr7AnpLTAD9s83G5fAPUB5w5gaX8f3sbt7wKoAs4fwIfhhiDP47pTARTAmQN42HuXBVAAbxXAXa2AnQDqA96wAmqCVcCbBrAzES2AAogACqA+oACiAgqgAAogAiiA+oACyLIqYF6v+3GFYHdYJ+jWHAI4UwDz8ElX7wrd1yS6M4IAzlsBu9x/uDNlXn+1VEsA9QGnCGCpfa8P21oA87rPJ/foF0AVcI4+YP+4+7V73t+j8n2Zgj6gAM4UwNw/Dqu0NtuXnPv3p4QJoADOFcD8+L5SsH0aRiJrAdQHnHEU3D8e/+phWx+P+dU8YBRAFXCKPuDJgun26TgWyd3xyeqP7fnj1BHAawewVMHhkSH7rcN9zt341EIBFMCZAhjbuH0dZqaP0zK9AOoDzhTAtxRjiuH45CQVUAWctwKmqh0fnHm4QmIQIoBzBTCGMDw8eHiAXDYNI4Bz9wFTfXR1fbJr25Yy2GdPTNcHnDGAoRxgamoA62Nt2vokQwFcXAUcVulNtjF9nb9tgstRrsasxVoKS1P81D+WKK7a4AwupQmus8DT3Rtm/YMADglMZUAcaxl8jmmVkgAupgLWjEwUwH69/lEAawTD0BbXQXH5Y7VKzuBi+oB1gd7LJEpx7b8N4CGB+4MOVVPyt0o6gQupgN3YT/ub7UPf6odFf7+pgLE5NMLtahgR10FxGYKsggAuaBom5/MnmP+r/QqD/NMAhjBkL9R2eFU+COBSKmA+7tG4przfgvSTAA6tb6l6dU46hJUALqoPOIbl6k1wd7bf41IA4yGAZeRbGuGhDtb4yd/dV8Dcvff/rh29Cxsuyxfy5QAOR3p+9E7gfQdwuP4xmfpE9POv/UkAufMA5nFTbtdNUf/WlwYlfZdfBVAfcLh7+PgEj9xd2pZ7jfFHzpcekXR5ECKAS6yA7fq9BF6/An45Ku4/XW85HQWzlADu6q/X3A/lL6+vPf+XL46Aq5ew2QmgAI4prKvv+knUfzbnPn/SP203z3HzsNtdCqBV+MuaBxzuUNBuJtKG7bnn1Ia2LoHevO0EcPEVcFpv7blYU1YfYx1D+/A2Lkg9XogTQAG8agDrA6tP1WOqH0NsU2xLU/zroU3NKgigAE4RwPMFpat9AmsIQ0ztpi3xSyrgUvuA0wYwNGcFcFx5H1NTFz6nUBJa/tAEq4DTVMAvjyvsdyGlkNJxPbQACuBVA9h8G8Aw7AcOzb4FFkABvHYAV2eOx1UX3NfFp23pAgYB1Ae8QQDrmvuavjTWQAG8Q6Hutb1VBUzhx7vaXIe7U7Wr39yuCbavlzoVcqsA2lhOGWOmm/UB7SvXBKcm3WwQogDS1BBEAeRmPcAQYjysfZrTrt771BlYfAUcLrZudrsb5C/IH1WMMW0e5rVpY2NamcGqrr9LdW3e2fq8a0vDa/9GCiAfWuJ63X/q/MVj37MmvjEK4cOMTBEnfx1pgTm2wvtL/7OOwINGmEP5269Gma0J3t/2Hmr9G+56O8s9l/frrIa1fnAIRUrz3H3guNJvvxYH9tGw6g4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4G/9B+UgH74Lo01vAAAAAElFTkSuQmCC",IMG_404_BANNER="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",IMG_404_LOGO_TEMP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAABHNCSVQICAgIfAhkiAAAAXRJREFUeJztwTEBAAAAwqD1T20MH6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/gZ/twABJJA/XAAAAABJRU5ErkJggg==",IMG_PARTNER="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAADJCAYAAACJxhYFAAAOyUlEQVR42uydX4hcZxnG3+/bnYU2yia21F60ZBtLLUJJtqLEWpyuBtoI2qG5UFzqzCbVm1w4BWOuGpf2xkQh48WCmCYzQ1lJLwq7elEDLckUjQslmqVeaElilhXUQt1dadowszlHzuxsmJ3Mn/PnO9/f57lMk92ZM++v7/eced73cIIgqK8ACQQBErN0KPvaU7gKeonhEqhXPlseG6aRAuNUIKKdRLTke1RZp3qlWpu6jisESBzvGqzAOMv3+ju+51eJ/Mrp2vMXcMUAiStdY/sQjeQ4p+lW1wirJfL8UoMaQXdZxZUEJBbCMbtnmPwi4yxHRKMJftSa7/lz68RK1drkZVxZQGK8DmZnm16DEWVF/2yfqBZ4lzO1yQquNCAx1YgXE3aNCN2FSjD6gMQII844D8B4VuHLmPc9LzD6c/hEAIk2RjxDmQJxVoxoxNMWjD4g0caI53V/rb7nV2H0AYlkI86KjPzdpr12n9ii7/mlW1SfQ3cBJGkY8WLrG/FRC97SWusb/RKMPiBJasRzxHkxjdu3+nQXqpHnlWD0AUkkI97WNXY69NaRFwMkA7vGwByVK0JeDJBs6RpDNJIz1YjL6C6eR9OuG33mrhHPTAvIUbmiVl6sMe3iUcwpSNLMUTlzFHMwL8bc6BpbBpogYd3FjbwYs9mIa5CjckXz/sZt5AuAxAAjrmmOyhmjb2NejNkBh7CBJkiUd7EoL8bMN+K4fau30d/Ii5ls9JmhRtymHJVLRt/IvBgzyIjnGOcFGHFrjL4xg2EMRhxSafTbussqIInWNZCjctDo65oXYzp1DeSoIB0HwxiMOKSv0dcjL8bUHqtmS4zTj1APUP+jGP3ydG2y6BwkTVPOR66je0Bh1PDqO1Qdv5Q9eiHwHwAECqvmXU5FUgZJa2E0BIUsGFZ0CpLWg2rwvQcURTtVPeBIUSdhBXzmUOSq2Rh9sN+457PlsQwf+Qc+ciimgX9I9i1h6Z1kmEbQRSCj6ofLb5kESKAk9VO0GpKD2VnMmUNJNdqqIzshQReBTKwjBsMOmWngaVzWaDCXaLiK+GghcfXkF63qJMhpQSloreHVx2TkuaR0EuS0oDQMfKuu7DhuMYW5G8heycr/pQ5Jc5MiJg2hdCQlzyWhkyCnBZldX0yCYV/BBwmlqbTzXKl2EpWDMpA7SjvPle5xC4YdknHgSvkbeJ6iYc8hpwVJNPA54yBprSSFIDlKcSCLpWTYkdOCrDHwPCUjBS8CqTDwRWOOW4jEQ6oMfD5b3q49JK2BGOS0IBVKJc/FxdOM276Qym4ivv64WMM+uwc5LUgpJOTvFp3n4mKNk48uYrgefHgHfffwF01HpSAWPGFdBINVNgBy5OQ+umtbhi6eu0bl4wvGvheRC7aFdZJWTguAWABIoCee3kXHTu2nuz81YuT7EZkbFHfcgmE3VgEIh1/52m1AboPzuR3045PfMBMUgfUoBBIswDYbkACEez67rXuHMRcUYXkuIZCoWmQMiQEkAKHvUcxQUETlB5kAw46clsWAtGv56grNvPQOffjvGyYZ+MR5rsSdBAuw3QBks6P89NQ3mybfFInIc/HkLQ05LdP0ncOPRwZkU4G5P3JynzGgiKjPRJBgAbZ5mjq6t3l7N4kMAyXxgm2OLgJAbAclaZ0yGHYAkkSf3GjQ2ZlLdPH31zQ38PEXbPP4hiiDp+c6DshmR5n6yV564pldmhv4+LlCHrOLbGec5VB++iso3rQA2QKi5qAE9Rp3ICsWJFiAbQ4gQfFK61h6gzIaN88VCxJZi4ohcwDZ1L4Dn9f3osTMc0WGBDktANLPxM+89I7OlybWgu0YnQQLsHXW+JMPKAPk5y++ZUBkJXr9sqiGHQuw9VXnTIhsQJavmFEaUfNckToJ9mkBENMBoRh5w0iQ4Bt2AGI6IHHqmEcw7FiADUC26OzMJeMA2TTwUfJc4TsJBqu00z33b1MGSPnEgvZRFFHdhIc07GOMKIuy1Ee95tIBSEhIiLJBXQuDBIZdP0DiDE0BkM66Dpc/5DDsAMRFQChCnmsgJFiADUACXTx3zSpAWgq1YJuHoA1HLU0UeBBVgJi8zTFpffP+hh0LsHXR1NG99Mju+wCIcAM/eME2729ssABbF0BkzIS4BkgbKoX+IPXsIshpAZAFZ65zvwXbPTuJyIXDkFmALF9doddn/uzUte73NUfv4xYMu1J9O/+YMkB+8eLb9PFHdaeud7+vObpCgsEqtXrimV30rfxjAESuei7Y5t2pQk5LJSAqhqYcB2Sz7guhjDv2abkHyIf/uUEv/+BNpwFpM/B3DGTxLgYGht0hQDbn0gFIbwPPuxgYp45aOqzpDF6Dyrl0Q2dCpBn4LZC4ltMaf/IBOvbr/c1brSoBOXJyHwDRR3cs2OaDKLK5g0wd/crGUefpXUpAwditrt1k69cfvMPF73EFkM7iDEAJ/kzWI89Ujt0CkAGQkD/WExLf8+dcBGRTj+y+T8qzAVUCUj6xAEAGqJODLZCsU2PaVUBu/52UH6KJsVv9tU6s1BOSam3quk9Us/GNB8UZ+I4wxZkWKIMeBw1ANOgiRLXO55jwO1sNVWwEJOpEX/B3j53aL+wWMcZuTTlq3Vn/XaPyL0zMXrclu5W0OEXcCVIJyO+q79Fvq++h+sNp7dXzk3fMvPOwNLkICAl4NqDquXQAEqmLlLr9Oe9uXOpWQBJ4EBHFmQSUJI+DTgqIS0NTYgx797of6vaHi0vzq48/dGCciB41GZAvTYg7MWZGhujLXx+jtZWboY9emCo0SvPlC9//VehOstF6vJLJgKRRnFEeoglATDtqeT1PT32fT2KigZdVnP3uGKkC5P3FD5o3GaDIWnr1/GTPlaf99255vlHdRObIa6+OonIuXfNHsemrAXXeF5IGNYIWtGbC+1Qx8hqA0h6MlPU46G6AuD5VmEStOu+poX7/cXFp/ub4zuceZYxpHXx88OEdVPzZhLLffe/92+juT49g7NZIL+JXy7X82didhLrkWHTU8pWVpkdQ1sWexly6qQpT3wMhqdYmL5uQ5wpMtEpQZOuTGw0AkrSLEFvszGnFgoQM+gbeFVA2ozIAJPFRK9QpKRQkZ2qTxhh420HBVKEwrd2i+pwwSMiwPFcAyss/fLNZUAAE6lXPvXb/xoZknepGfWcSFFJQULaAAkBEG/bw9RwaktbCrnmAokbl438CIMIMO9U6F9AJgYQG5FsASoqAnFigv/zhn6huUYqYS2RRf76pA1kq5zqSAoKpQqHqm9NK3Ek2KPSNTAd//FG9+b3C8tUVAOK4YY/6byJDMijnAlAAiC2GPTYk1drUqu/5VdNBeX/xA21f49tv/B2ApNJF/GrY277Jjlsbv87o8d4AlMDMXzynXyEGr+nszCVUdDqYxKpbFvfXHZr4zWUbHl+tav6jFyCYKtTHsCfsJOFzL9qf/Y8vaNFRAEi68jyKvZ00NiSt3MuaLaAEPgCAWKvQOa1uGor7DzcGsg7czxjtteEq/vXdfzUfizb+1Qek/t7lqyt06pWL1KjfQimnZ9hfHzRYlUonIQPzXAP/jy45QYyhKTlKugg+ESQ2LtiWBQoAkdRFIua0hEPSckQl2y7sJihp5b0AiMyjVvIRDybihdi0YLtdaTxsB4DINezdFmDL7ySWPq6BUkgQBz+nfHwBgMjrIkJOOVyMMapXbL3QokDB0JQKwy6mLodE/JDFpfnV8Z3PPaT7fq64+t9/bzZvEe/6wr00+pm7AIgZ6rkAW0knaTW3is1XPCjwOAliAKLqqCXuhhIT+cJsNfDtijK8BUCUKXZOK+VOkiwfY4qizKScnbkEQFRIcK5QKCQ25bnCgHL5j73nzjE0pU6iBwOHRP4wUxZsC/kg6rfo3fNLzWXZnY+JAyAqvcjgBdhKOwkZsmBbpDqj9gBErdKoP5bGCz00MXuBEWVd+nCmju6l5Sur9NYbf0OlquoixBZPn/+e8FPMcDotjyqMuwUJ5kG0OGqlcophab3gFyZmV4loFB8dJElCclpSPElbNynhc4PkdZH08oM8PQNVr+Cjg+QZ9vQGAFODxMQF25Cxmk86WKUEEhKcn4GgPnWW6qmFpf0GXMhzQUolNKclvZM0Zcl+Lsg9wy4NEpMXbENuG3ZpkJi+YBvSuYvEW4Ct33HLwTwXJA0TKacUJuvt2LJgG9IEj5RyWso6CVm0YBvS5qglrZ6kQXKmNllxYSALkqJEC7C1hYQs3s8FSe8iczIMuxJIbFuwDalR0gXYWkNi44JtSLZhT74AW2tImkKeCzLsyM5UvFHkuaCYSj2npUcngYGHDKsbrsZ4wcBDserGHUiQ54Kid5FmTuu6M5C03jaOXJAR9cJUvm3kuSCdDbsGnYRo3fMLmIOHBmi+4VFO5QtgOlyFfLY8NkwjBcapiF1dEBGt+R5V1qleUuVDtIOkXQezswEsBdfWpEIb36YHcLTCsNqI6XrB8tnZPcPkFxlnOXQX27uGP7dOrFStTV7W8QUy3a9gPlvePkQjOc6bDwjCt/QWmXHy/FKDGhWZiV4rIWnXoexrTxGxAuMsjxoz14j7nlc6XXv+gikvmJl4lduMfgHdxYyu0TLiFR2MuBOQwOjDiAOS+N2l2OouMPrKjXhj2sSuYTUknUafcVbEt/kyuwZb9D2/dIvqc7obcechgdGXDEczqOpXTDLigKRHd8lQpkCcFWH0hRrxkm1dw1lIOrpLjnEe+JZnUevRjTht3L6dc+l9M1c/cBj9KEZcnxwVIFGkjdvIMPrdjLjpt28BifDugrxYYMR1zlEBEhh9ZUbclBwVINHT6D/FOC9aavSNy1EBEv2Nvg15scCIl0zNUQESo4y+WXkxW3JUgMTI7pKZ1tjoW5ejAiQGG33NBsOWPI+mbcxRARJLjL6qvJgLOSpAYll3aftGP83uYvRAEyCBNrtLjjgvijT6ruaoAIkTRj9RXsz5HBUgcUhR8mI2DzQBEihEd7mdF8t3M+LIUQESqM3oZyhT8DnLMc+fQ44KgiBjxHEJIAiQQFAi/T8AAP//NojMSb2rf6kAAAAASUVORK5CYII=";var BodyfontSize;function calculateFontSize(){var initialFontSize=29+Settings_value.global_font_offset.values[Main_getItemInt("global_font_offset",Settings_value.global_font_offset.defaultValue)-1],doc=document.getElementById("body_container"),currentHeight=window.innerHeight,scaledWidth=currentHeight/1080;BodyfontSize=initialFontSize*scaledWidth,scaledWidth=1920*scaledWidth,doc.style.width=scaledWidth+"px",doc.style.height=currentHeight+"px",document.body.style.fontSize=BodyfontSize+"px"}function calculateFontSizeTizen(){Main_IsNotBrowser||calculateFontSize()}window.addEventListener("resize",calculateFontSizeTizen,!1);var AddCode_loadingDataTry=0,AddCode_loadingDataTryMax=5,AddCode_loadingDataTimeout=1e4,AddCode_Code=0,AddCode_loadingData=!1,AddCode_keyBoardOn=!1,AddCode_IsFollowing=!1,AddCode_IsSub=!1,AddCode_PlayRequest=!1,AddCode_Channel_id="",AddCode_UrlToken="https://id.twitch.tv/oauth2/token?";function AddCode_init(){AddCode_loadingData=!1,Main_CounterDialogRst(),Main_HideWarningDialog(),ScreensObj_SetTopLable(STR_USER_CODE),Main_AddCodeInput.placeholder=STR_PLACEHOLDER_OAUTH,Main_ShowElement("oauth_scroll"),Main_innerHTML("oauth_text",STR_OAUTH_IN+"<div style=\"display: inline-block; color: #FF0000; font-size: 110%; font-family: 'Roboto-Bold';\">"+AddUser_UsernameArray[Main_values.Users_AddcodePosition].name+"</div>"+STR_OAUTH_EXPLAIN),AddCode_inputFocus()}function AddCode_exit(){AddCode_RemoveinputFocus(!1),document.body.removeEventListener("keydown",AddCode_handleKeyDown),Main_HideElement("oauth_scroll")}function AddCode_handleKeyDown(event){if(!AddCode_loadingData&&!AddCode_keyBoardOn)switch(event.keyCode){case KEY_RETURN:Main_isControlsDialogShown()?Main_HideControlsDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():(Main_values.Main_Go=Main_Users,AddCode_exit(),Main_SwitchScreen());break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:AddCode_inputFocus()}}function AddCode_inputFocus(){document.body.removeEventListener("keydown",AddCode_handleKeyDown),document.body.addEventListener("keydown",AddCode_KeyboardEvent,!1),Main_AddCodeInput.placeholder=STR_PLACEHOLDER_OAUTH,Main_AddCodeInput.focus(),AddCode_keyBoardOn=!0}function AddCode_RemoveinputFocus(EnaKeydown){Main_AddCodeInput.blur(),AddCode_removeEventListener(),document.body.removeEventListener("keydown",AddCode_KeyboardEvent),Main_AddCodeInput.placeholder=STR_PLACEHOLDER_PRESS+STR_PLACEHOLDER_OAUTH,EnaKeydown&&document.body.addEventListener("keydown",AddCode_handleKeyDown,!1),window.setTimeout(function(){AddCode_keyBoardOn=!1},250)}function AddCode_removeEventListener(){var elClone;null!==Main_AddCodeInput&&(elClone=Main_AddCodeInput.cloneNode(!0),Main_AddCodeInput.parentNode.replaceChild(elClone,Main_AddCodeInput),Main_AddCodeInput=document.getElementById("oauth_input"))}function AddCode_KeyboardEvent(event){if(!AddCode_loadingData)switch(event.keyCode){case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(Main_values.Main_Go=Main_Users,AddCode_exit(),Main_SwitchScreen());break;case KEY_KEYBOARD_DELETE_ALL:Main_AddCodeInput.value="",event.preventDefault();break;case KEY_KEYBOARD_DONE:case KEY_KEYBOARD_CANCEL:case KEY_DOWN:""!==Main_AddCodeInput.value&&null!==Main_AddCodeInput.value&&(AddCode_Code=Main_AddCodeInput.value,AddCode_loadingDataTry=0,Main_HideElement("oauth_scroll"),Main_showLoadDialog(),AddCode_requestTokens()),AddCode_RemoveinputFocus(!0);break;case KEY_KEYBOARD_BACKSPACE:Main_AddCodeInput.value=Main_AddCodeInput.value.slice(0,-1),event.preventDefault();break;case KEY_KEYBOARD_SPACE:Main_AddCodeInput.value+=" ",event.preventDefault()}}function AddCode_refreshTokens(position,tryes,callbackFunc,callbackFuncNOK){var xmlHttp,url;AddUser_UsernameArray[position]&&AddUser_UsernameArray[position].access_token&&(xmlHttp=new XMLHttpRequest,url=AddCode_UrlToken+"grant_type=refresh_token&client_id="+encodeURIComponent(AddCode_clientId)+"&client_secret="+encodeURIComponent(AddCode_client_secret)+"&refresh_token="+encodeURIComponent(AddUser_UsernameArray[position].refresh_token)+"&redirect_uri="+AddCode_redirect_uri,xmlHttp.open("POST",url,!0),xmlHttp.timeout=AddCode_loadingDataTimeout,xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){if(4===xmlHttp.readyState)if(200===xmlHttp.status)AddCode_refreshTokensSucess(xmlHttp.responseText,position,callbackFunc);else try{var response=JSON.parse(xmlHttp.responseText);response.message&&Main_A_includes_B(response.message,"Invalid refresh token")?(AddCode_requestTokensFailRunning(position),callbackFuncNOK&&callbackFuncNOK()):AddCode_refreshTokensError(position,tryes,callbackFunc,callbackFuncNOK)}catch(e){AddCode_refreshTokensError(position,tryes,callbackFunc,callbackFuncNOK)}},xmlHttp.send(null))}function AddCode_refreshTokensError(position,tryes,callbackFuncOK,callbackFuncNOK){++tryes<5?AddCode_refreshTokens(position,tryes,callbackFuncOK,callbackFuncNOK):callbackFuncNOK&&callbackFuncNOK()}function AddCode_refreshTokensSucess(response,position,callbackFunc){response=JSON.parse(response);AddCode_TokensCheckScope(response.scope)?(AddUser_UsernameArray[position].access_token=response.access_token,AddUser_UsernameArray[position].refresh_token=response.refresh_token,AddUser_UsernameArray[position].expires_in=response.expires_in,AddUser_SaveUserArray(),AddCode_Refreshtimeout(position)):AddCode_requestTokensFailRunning(position),callbackFunc&&callbackFunc()}function AddCode_TokensCheckScope(scope){return-1!==scope.indexOf("user_read")&&(-1!==scope.indexOf("user_follows_edit")&&-1!==scope.indexOf("user_subscriptions"))}function AddCode_requestTokens(){AddCode_BasexmlHttpGet(AddCode_UrlToken+"grant_type=authorization_code&client_id="+encodeURIComponent(AddCode_clientId)+"&client_secret="+encodeURIComponent(AddCode_client_secret)+"&code="+encodeURIComponent(AddCode_Code)+"&redirect_uri="+AddCode_redirect_uri,"POST",0,null,AddCode_requestTokensReady)}function AddCode_requestTokensReady(xmlHttp){4===xmlHttp.readyState&&(200===xmlHttp.status?AddCode_requestTokensSucess(xmlHttp.responseText):AddCode_requestTokensError())}function AddCode_requestTokensError(){(++AddCode_loadingDataTry<AddCode_loadingDataTryMax?AddCode_requestTokens:AddCode_requestTokensFail)()}function AddCode_requestTokensFail(){Main_HideLoadDialog(),Main_showWarningDialog(STR_OAUTH_FAIL),window.setTimeout(function(){Main_HideWarningDialog(),Main_newUsercode=0,Main_HideWarningDialog(),Main_ShowElement("oauth_scroll"),AddCode_inputFocus(),AddCode_loadingData=!1},4e3),AddUser_UsernameArray[Main_values.Users_AddcodePosition].access_token=0,AddUser_UsernameArray[Main_values.Users_AddcodePosition].refresh_token=0,AddUser_SaveUserArray()}function AddCode_requestTokensFailRunning(position){Users_status=!1,Main_HideLoadDialog(),AddUser_UsernameArray[position].access_token=0,AddUser_UsernameArray[position].refresh_token=0,AddUser_SaveUserArray(),Main_SaveValues()}function AddCode_requestTokensSucess(response){response=JSON.parse(response);AddUser_UsernameArray[Main_values.Users_AddcodePosition].access_token=response.access_token,AddUser_UsernameArray[Main_values.Users_AddcodePosition].refresh_token=response.refresh_token,AddCode_loadingDataTry=0,AddCode_CheckOauthToken()}function AddCode_CheckOauthToken(){AddCode_BasexmlHttpGetValidate(AddCode_CheckOauthTokenReady,Main_values.Users_AddcodePosition,0)}function AddCode_CheckOauthTokenReady(xmlHttp){4===xmlHttp.readyState&&(200===xmlHttp.status?AddCode_CheckOauthTokenSucess(xmlHttp.responseText):AddCode_CheckOauthTokenError())}function AddCode_CheckOauthTokenSucess(token){token=JSON.parse(token);token.login&&-1!==token.login.indexOf(AddUser_UsernameArray[Main_values.Users_AddcodePosition].name)?(AddUser_SaveUserArray(),Main_newUsercode=0,Main_HideLoadDialog(),Users_status=!1,Main_values.Main_Go=Main_Users,Main_SaveValues(),Main_showWarningDialog(STR_USER_CODE_OK),window.setTimeout(function(){Main_HideLoadDialog(),AddCode_exit(),Users_status=!1,Users_init(),AddCode_loadingData=!1,Main_AddCodeInput.value=""},3e3)):(AddUser_UsernameArray[Main_values.Users_AddcodePosition].access_token=0,AddUser_UsernameArray[Main_values.Users_AddcodePosition].refresh_token=0,Main_showWarningDialog(STR_OAUTH_FAIL_USER+AddUser_UsernameArray[Main_values.Users_AddcodePosition].name),window.setTimeout(function(){Main_HideWarningDialog(),Main_ShowElement("oauth_scroll"),AddCode_inputFocus()},4e3))}function AddCode_CheckOauthTokenError(){(++AddCode_loadingDataTry<AddCode_loadingDataTryMax?AddCode_CheckOauthToken:AddCode_requestTokensFail)()}function AddCode_CheckTokenStart(position){AddCode_CheckToken(position,0)}function AddCode_CheckToken(position,tryes){AddCode_BasexmlHttpGetValidate(AddCode_CheckTokenReady,position,tryes)}function AddCode_CheckTokenReady(xmlHttp,position,tryes){4===xmlHttp.readyState&&(200===xmlHttp.status?AddCode_CheckTokenSuccess(xmlHttp.responseText,position):401===xmlHttp.status||403===xmlHttp.status?AddCode_refreshTokens(position,0,null,null):AddCode_CheckTokenError(position,tryes))}function AddCode_CheckTokenSuccess(token,position){token=JSON.parse(token);token.scopes&&!AddCode_TokensCheckScope(token.scopes)?AddCode_requestTokensFailRunning(position):token.expires_in&&(AddUser_UsernameArray[position].expires_in=token.expires_in,AddCode_Refreshtimeout(position))}function AddCode_Refreshtimeout(position){window.clearTimeout(AddUser_UsernameArray[position].timeout_id),AddUser_UsernameArray[position].access_token&&(AddUser_UsernameArray[position].timeout_id=window.setTimeout(function(){AddCode_refreshTokens(position,0,null,null)},1e3*(parseInt(AddUser_UsernameArray[position].expires_in)-60)))}function AddCode_CheckTokenError(position,tryes){++tryes<AddCode_loadingDataTryMax&&AddCode_CheckToken(position,tryes)}function AddCode_CheckFollow(){AddCode_loadingDataTry=0,AddCode_IsFollowing=!1,AddCode_RequestCheckFollow()}function AddCode_RequestCheckFollow(){AddCode_BasexmlHttpGet(Main_kraken_api+"users/"+AddUser_UsernameArray[0].id+"/follows/channels/"+AddCode_Channel_id+Main_TwithcV5Flag_I,"GET",2,null,AddCode_RequestCheckFollowReady)}function AddCode_RequestCheckFollowReady(xmlHttp){4===xmlHttp.readyState&&(200===xmlHttp.status?AddCode_RequestCheckFollowOK():404===xmlHttp.status?AddCode_RequestCheckFollowNOK(xmlHttp.responseText):AddCode_RequestCheckFollowError())}function AddCode_RequestCheckFollowOK(){AddCode_IsFollowing=!0,(AddCode_PlayRequest?Play_setFollow:ChannelContent_setFollow)()}function AddCode_RequestCheckFollowNOK(response){(response=JSON.parse(response)).error&&-1!==(response.error+"").indexOf("Not Found")?(AddCode_IsFollowing=!1,(AddCode_PlayRequest?Play_setFollow:ChannelContent_setFollow)()):AddCode_RequestCheckFollowError()}function AddCode_RequestCheckFollowError(){(++AddCode_loadingDataTry<AddCode_loadingDataTryMax?AddCode_RequestCheckFollow:AddCode_PlayRequest?Play_setFollow:ChannelContent_setFollow)()}function AddCode_Follow(){AddCode_loadingDataTry=0,AddCode_FollowRequest()}function AddCode_FollowRequest(){AddCode_BasexmlHttpGet(Main_kraken_api+"users/"+AddUser_UsernameArray[0].id+"/follows/channels/"+AddCode_Channel_id+Main_TwithcV5Flag_I,"PUT",3,Main_OAuth+AddUser_UsernameArray[0].access_token,AddCode_FollowRequestReady)}function AddCode_FollowRequestReady(xmlHttp){4===xmlHttp.readyState&&(200===xmlHttp.status?(AddCode_IsFollowing=!0,(AddCode_PlayRequest?Play_setFollow:ChannelContent_setFollow)()):401===xmlHttp.status||403===xmlHttp.status?AddCode_refreshTokens(0,0,AddCode_Follow,null):AddCode_FollowRequestError())}function AddCode_FollowRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&AddCode_FollowRequest()}function AddCode_UnFollow(){AddCode_loadingDataTry=0,AddCode_UnFollowRequest()}function AddCode_UnFollowRequest(){AddCode_BasexmlHttpGet(Main_kraken_api+"users/"+AddUser_UsernameArray[0].id+"/follows/channels/"+AddCode_Channel_id+Main_TwithcV5Flag_I,"DELETE",3,Main_OAuth+AddUser_UsernameArray[0].access_token,AddCode_UnFollowRequestReady)}function AddCode_UnFollowRequestReady(xmlHttp){4===xmlHttp.readyState&&(204===xmlHttp.status?(AddCode_IsFollowing=!1,(AddCode_PlayRequest?Play_setFollow:ChannelContent_setFollow)()):401===xmlHttp.status||403===xmlHttp.status?AddCode_refreshTokens(0,0,AddCode_UnFollow,null):AddCode_UnFollowRequestError())}function AddCode_UnFollowRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&AddCode_UnFollowRequest()}function AddCode_CheckSub(){AddCode_loadingDataTry=0,AddCode_IsSub=!1,AddCode_RequestCheckSub()}function AddCode_RequestCheckSub(){AddCode_BasexmlHttpGet(Main_kraken_api+"users/"+AddUser_UsernameArray[0].id+"/subscriptions/"+AddCode_Channel_id+Main_TwithcV5Flag_I,"GET",3,Main_OAuth+AddUser_UsernameArray[0].access_token,AddCode_RequestCheckSubReady)}function AddCode_RequestCheckSubReady(xmlHttp){var response;4===xmlHttp.readyState&&(200===xmlHttp.status?(AddCode_IsSub=!0,PlayVod_isSub()):422===xmlHttp.status?AddCode_RequestCheckSubfail():404===xmlHttp.status?((response=JSON.parse(xmlHttp.responseText)).error&&-1!==(response.error+"").indexOf("Not Found")?AddCode_RequestCheckSubfail:AddCode_RequestCheckSubError)():401===xmlHttp.status||403===xmlHttp.status?AddCode_refreshTokens(0,0,AddCode_CheckSub,AddCode_RequestCheckSubfail):AddCode_RequestCheckSubError())}function AddCode_RequestCheckSubError(){(++AddCode_loadingDataTry<AddCode_loadingDataTryMax?AddCode_RequestCheckSub:AddCode_RequestCheckSubfail)()}function AddCode_RequestCheckSubfail(){AddCode_IsSub=!1,PlayVod_NotSub()}function AddCode_FollowGame(){AddCode_loadingDataTry=0,(Main_values.Main_gameSelected_id?AddCode_RequestFollowGame:AddCode_GetGameId)()}function AddCode_GetGameId(){AddCode_BasexmlHttpGetBack("https://api.twitch.tv/api/games/"+encodeURIComponent(Main_values.Main_gameSelected),"GET",2,null,AddCode_GetGameIdReady)}function AddCode_GetGameIdReady(xmlHttp){4===xmlHttp.readyState&&(200===xmlHttp.status?(Main_values.Main_gameSelected_id=JSON.parse(xmlHttp.responseText)._id,AddCode_loadingDataTry=0,AddCode_RequestFollowGame()):AddCode_GetGameIdError())}function AddCode_GetGameIdError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&AddCode_GetGameId()}function AddCode_RequestFollowGame(){AddCode_BasexmlHttpGet(Main_kraken_api+"users/"+AddUser_UsernameArray[0].id+"/follows/games/"+Main_values.Main_gameSelected_id+Main_TwithcV5Flag_I,"PUT",3,Main_OAuth+AddUser_UsernameArray[0].access_token,AddCode_RequestFollowGameReady)}function AddCode_RequestFollowGameReady(xmlHttp){4===xmlHttp.readyState&&(200===xmlHttp.status?(AGame_following=!0,AGame_setFollow()):401===xmlHttp.status||403===xmlHttp.status?AddCode_refreshTokens(0,0,AddCode_FollowGame,null):AddCode_FollowGameRequestError())}function AddCode_FollowGameRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&AddCode_RequestFollowGame()}function AddCode_UnFollowGame(){AddCode_loadingDataTry=0,AddCode_RequestUnFollowGame()}function AddCode_RequestUnFollowGame(){AddCode_BasexmlHttpGet("https://api.twitch.tv/api/users/"+AddUser_UsernameArray[0].name+"/follows/games/"+encodeURIComponent(Main_values.Main_gameSelected)+"?oauth_token="+AddUser_UsernameArray[0].access_token+Main_TwithcV5Flag,"DELETE",2,null,AddCode_UnFollowGameRequestReady)}function AddCode_UnFollowGameRequestReady(xmlHttp){4===xmlHttp.readyState&&(404===xmlHttp.status||204===xmlHttp.status?204===xmlHttp.status||-1!==JSON.parse(xmlHttp.responseText).message.indexOf("does not follow")?(AGame_following=!1,AGame_setFollow()):AddCode_UnFollowGameRequestError():401===xmlHttp.status||403===xmlHttp.status?AddCode_refreshTokens(0,0,AddCode_UnFollowGame,null):AddCode_UnFollowGameRequestError())}function AddCode_UnFollowGameRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax?AddCode_RequestUnFollowGame():(Main_showWarningDialog(STR_410_FEATURING),window.setTimeout(Main_HideWarningDialog,2e3))}function AddCode_CheckFollowGame(){AddCode_loadingDataTry=0,AddCode_RequestCheckFollowGame()}function AddCode_RequestCheckFollowGame(){AddCode_BasexmlHttpGetBack("https://api.twitch.tv/api/users/"+AddUser_UsernameArray[0].name+"/follows/games/"+encodeURIComponent(Main_values.Main_gameSelected)+Main_TwithcV5Flag_I,"GET",2,null,AddCode_CheckFollowGameReady)}function AddCode_CheckFollowGameReady(xmlHttp){4===xmlHttp.readyState&&(200===xmlHttp.status?(AGame_following=!0,AGame_setFollow()):404===xmlHttp.status?(AGame_following=!1,AGame_setFollow()):AddCode_CheckFollowGameError())}function AddCode_CheckFollowGameError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax?AddCode_RequestCheckFollowGame():(AGame_following=!1,AGame_setFollow())}function AddCode_BasexmlHttpGet(theUrl,type,HeaderQuatity,access_token,callbackready){var xmlHttp=new XMLHttpRequest;xmlHttp.open(type,theUrl,!0),xmlHttp.timeout=AddCode_loadingDataTimeout,Main_Headers[2][1]=access_token;for(var i=0;i<HeaderQuatity;i++)xmlHttp.setRequestHeader(Main_Headers[i][0],Main_Headers[i][1]);xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){callbackready(xmlHttp)},xmlHttp.send(null)}function AddCode_BasexmlHttpGetBack(theUrl,type,HeaderQuatity,access_token,callbackready){var xmlHttp=new XMLHttpRequest;xmlHttp.open(type,theUrl,!0),xmlHttp.timeout=AddCode_loadingDataTimeout,Main_Headers_Backup[2][1]=access_token;for(var i=0;i<HeaderQuatity;i++)xmlHttp.setRequestHeader(Main_Headers_Backup[i][0],Main_Headers_Backup[i][1]);xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){callbackready(xmlHttp)},xmlHttp.send(null)}function AddCode_BasexmlHttpGetValidate(callbackready,position,tryes){var xmlHttp=new XMLHttpRequest;xmlHttp.open("GET","https://id.twitch.tv/oauth2/validate",!0),xmlHttp.setRequestHeader(Main_Authorization,Main_OAuth+AddUser_UsernameArray[position].access_token),xmlHttp.timeout=1e4,xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){callbackready(xmlHttp,position,tryes)},xmlHttp.send(null)}var AddCode_client_secret,AddCode_client_backup,Play_Headers,AddCode_redirect_uri="https://brian91292.github.io/smarttv-twitch/release/githubio/login/twitch.html",AddCode_clientId="ypvnuqrh98wqz1sr0ov3fgfu4jh1yx",Play_live_token="https://api.twitch.tv/api/channels/%x/access_token";var AddUser_loadingDataTry=0,AddUser_loadingDataTryMax=5,AddUser_loadingDataTimeout=3500,AddUser_UsernameArray=[],AddUser_Username=null,AddUser_loadingData=!1,AddUser_keyBoardOn=!1;function AddUser_init(){Main_values.Main_Go=Main_addUser,ScreensObj_SetTopLable(STR_USER_ADD),Main_HideWarningDialog(),Main_AddUserInput.placeholder=STR_PLACEHOLDER_USER,Main_ShowElement("add_user_scroll"),AddUser_inputFocus()}function AddUser_exit(){AddUser_RemoveinputFocus(!1),document.body.removeEventListener("keydown",AddUser_handleKeyDown),document.body.removeEventListener("keydown",AddUser_KeyboardEvent),Main_HideElement("add_user_scroll")}function AddUser_handleKeyDown(event){if(!AddUser_loadingData&&!AddUser_keyBoardOn&&Main_values.Main_Go===Main_addUser)switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(0<AddUser_UsernameArray.length&&Main_values.Main_Go!==Main_Users?Main_values.Main_Go=Main_values.Main_Before:Main_values.Main_Go=Main_Live,AddUser_exit(),Main_SwitchScreen());break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:case KEY_ENTER:AddUser_inputFocus()}}function AddUser_inputFocus(){document.body.removeEventListener("keydown",AddUser_handleKeyDown),document.body.addEventListener("keydown",AddUser_KeyboardEvent,!1),Main_AddUserInput.placeholder=STR_PLACEHOLDER_USER,Main_AddUserInput.focus(),AddUser_keyBoardOn=!0}function AddUser_removeEventListener(){var elClone;null!==Main_AddUserInput&&(elClone=Main_AddUserInput.cloneNode(!0),Main_AddUserInput.parentNode.replaceChild(elClone,Main_AddUserInput),Main_AddUserInput=document.getElementById("user_input"))}function AddUser_RemoveinputFocus(EnaKeydown){Main_AddUserInput.blur(),AddUser_removeEventListener(),document.body.removeEventListener("keydown",AddUser_KeyboardEvent),Main_AddUserInput.placeholder=STR_PLACEHOLDER_PRESS+STR_PLACEHOLDER_USER,EnaKeydown&&document.body.addEventListener("keydown",AddUser_handleKeyDown,!1),window.setTimeout(function(){Main_ready(function(){AddUser_keyBoardOn=!1})},500)}function AddUser_KeyboardEvent(event){if(!AddUser_loadingData&&Main_values.Main_Go===Main_addUser)switch(event.keyCode){case KEY_RETURN_Q:case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(0<AddUser_UsernameArray.length&&Main_values.Main_Go!==Main_Users?Main_values.Main_Go=Main_values.Main_Before:Main_values.Main_Go=Main_Live,AddUser_exit(),Main_SwitchScreen());break;case KEY_KEYBOARD_DELETE_ALL:Main_AddUserInput.value="";break;case KEY_KEYBOARD_DONE:case KEY_KEYBOARD_CANCEL:case KEY_DOWN:""!==Main_AddUserInput.value&&null!==Main_AddUserInput.value&&(AddUser_UserCodeExist(AddUser_Username=Main_AddUserInput.value)?(Main_HideLoadDialog(),Main_showWarningDialog(STR_USER+" "+AddUser_Username+STR_USER_SET),window.setTimeout(function(){Main_HideWarningDialog(),AddUser_inputFocus()},1500)):(AddUser_loadingDataTimeout=3500,AddUser_loadingData=!(AddUser_loadingDataTry=0),Main_HideElement("add_user_scroll"),Main_showLoadDialog(),AddUser_loadDataRequest())),AddUser_RemoveinputFocus(!0);break;case KEY_KEYBOARD_BACKSPACE:Main_AddUserInput.value=Main_AddUserInput.value.slice(0,-1);break;case KEY_KEYBOARD_SPACE:Main_AddUserInput.value+=" "}}function AddUser_loadDataRequest(){var theUrl=Main_kraken_api+"users?login="+encodeURIComponent(AddUser_Username)+Main_TwithcV5Flag;BasexmlHttpGet(theUrl,AddUser_loadingDataTimeout,2,null,AddUser_loadDataRequestSuccess,AddUser_loadDataError)}function AddUser_loadDataRequestSuccess(response){JSON.parse(response)._total?(Main_AddUserInput.value="",document.body.removeEventListener("keydown",AddUser_handleKeyDown),AddUser_SaveNewUser(response)):AddUser_loadDataNoUser()}function AddUser_loadDataError(){++AddUser_loadingDataTry<AddUser_loadingDataTryMax?(AddUser_loadingDataTimeout+=500,AddUser_loadDataRequest()):AddUser_loadDataNoUser()}function AddUser_loadDataNoUser(){AddUser_Username=null,Main_HideLoadDialog(),Main_showWarningDialog(STR_USER_ERROR),window.setTimeout(function(){AddUser_init()},1e3),AddUser_loadingData=!1}function AddUser_RestoreUsers(){if(0<(AddUser_UsernameArray=Main_getItemJson("AddUser_UsernameArray",[])).length)for(var i=0;i<AddUser_UsernameArray.length;i++)AddUser_UsernameArray[i].timeout_id=null,AddUser_UsernameArray[i].access_token&&AddCode_CheckTokenStart(i),AddUser_UsernameArray[i].logo?i||AddUser_UpdateSidepanel():AddUser_UpdateUser(i,0);else AddUser_UpdateSidepanelDefault()}function AddUser_UpdateSidepanel(){AddUser_UpdateSidepanelSize(AddUser_UsernameArray[0].logo,AddUser_UsernameArray[0].display_name)}function AddUser_UpdateSidepanelDefault(){AddUser_UpdateSidepanelSize(IMG_404_LOGO,STR_USER_ADD)}function AddUser_UpdateSidepanelSize(size,doc){Main_innerHTML("side_panel_new_0_img",'<img class="side_panel_new_img" alt="" src="'+size+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+"'\">"),Sidepannel_SetUserlable(doc);size=doc.length,doc=document.getElementById("side_panel_movel"),size=11<size?size-11:0;doc.style.marginLeft="calc(-"+Sidepannel_MoveldefaultMargin+"% - "+size+"ch)",doc.style.width="calc("+Sidepannel_MoveldefaultWidth+"% + "+size+"ch)"}function AddUser_UserIsSet(){return 0<AddUser_UsernameArray.length}function AddUser_UpdateUser(position,tryes){var theUrl=Main_kraken_api+"users?login="+encodeURIComponent(AddUser_UsernameArray[position].name)+Main_TwithcV5Flag,xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=1e4;for(var i=0;i<2;i++)xmlHttp.setRequestHeader(Main_Headers[i][0],Main_Headers[i][1]);xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?AddUser_UpdateUsertSuccess(xmlHttp.responseText,position):AddUser_UpdateUserError(position,tryes))},xmlHttp.send(null)}function AddUser_UpdateUsertSuccess(user,position){user=JSON.parse(user);user._total&&(document.body.removeEventListener("keydown",AddUser_handleKeyDown),user=user.users[0],AddUser_UsernameArray[position].display_name=user.display_name,AddUser_UsernameArray[position].logo=user.logo,position||AddUser_UpdateSidepanel()),AddUser_SaveUserArray()}function AddUser_UpdateUserError(position,tryes){++tryes<AddUser_loadingDataTryMax&&AddUser_UpdateUser(position,tryes)}function AddUser_SaveNewUser(responseText){AddUser_Username=JSON.parse(responseText).users[0],AddUser_UsernameArray.push({name:AddUser_Username.name,id:AddUser_Username._id,display_name:AddUser_Username.display_name,logo:AddUser_Username.logo,access_token:0,refresh_token:0,expires_in:0,timeout_id:null}),AddUser_SaveUserArray(),Users_status=!1,Users_Userlastadded=AddUser_Username.name,Users_ShowAutetication=!0,AddUser_exit(),Main_values.Main_Go=Main_Users,Main_HideLoadDialog(),1===AddUser_UsernameArray.length&&AddUser_UpdateSidepanel(),Main_SwitchScreenAction(),AddUser_loadingData=!1}function AddUser_removeUser(position){var index=AddUser_UsernameArray.indexOf(AddUser_UsernameArray[position]);-1<index&&(window.clearTimeout(AddUser_UsernameArray[position].timeout_id),AddUser_UsernameArray.splice(index,1)),AddUser_SaveUserArray(),0<AddUser_UsernameArray.length?(position||AddUser_UpdateSidepanel(),Users_status=!1,Users_init()):(AddUser_UpdateSidepanelDefault(),AddUser_init())}function AddUser_SaveUserArray(){var mainuser;0<AddUser_UsernameArray.length&&(mainuser=AddUser_UsernameArray.splice(0,1),AddUser_UsernameArray.sort(function(a,b){return a.display_name.toLowerCase().localeCompare(b.display_name.toLowerCase())}),AddUser_UsernameArray.splice(0,0,mainuser[0])),Main_setItem("AddUser_UsernameArray",JSON.stringify(AddUser_UsernameArray))}function AddUser_UserMakeOne(position){var temp_Username=JSON.parse(JSON.stringify(AddUser_UsernameArray[0]));AddUser_UsernameArray[0]=JSON.parse(JSON.stringify(AddUser_UsernameArray[position])),AddUser_UsernameArray[position]=temp_Username,AddCode_Refreshtimeout(0),AddCode_Refreshtimeout(position),AddUser_SaveUserArray(),Users_status=!1,AddUser_UpdateSidepanel(),Users_init()}function AddUser_UserCodeExist(user){return 0<AddUser_UsernameArray.filter(function(array){return array.name===user}).length}function AddUser_UserFindpos(user){return AddUser_UsernameArray.map(function(array){return array.name}).indexOf(user)}function AddUser_IsUserSet(){return 0<AddUser_UsernameArray.length}var ChannelContent_TargetId,ChannelContent_KeyEnterID,ChannelContent_cursorY=0,ChannelContent_cursorX=0,ChannelContent_dataEnded=!1,ChannelContent_itemsCount=0,ChannelContent_loadingDataTry=0,ChannelContent_loadingDataTryMax=5,ChannelContent_loadingDataTimeout=3500,ChannelContent_itemsCountOffset=0,ChannelContent_isoffline=!1,ChannelContent_UserChannels=!1,ChannelContent_ids=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],ChannelContent_status=!1,ChannelContent_lastselectedChannel="",ChannelContent_responseText=null,ChannelContent_selectedChannelViews="",ChannelContent_selectedChannelFollower="",ChannelContent_description="",ChannelContent_ChannelValue={},ChannelContent_ChannelValueIsset=!1,ChannelContent_offline_image=null,ChannelContent_profile_banner="",ChannelContent_clear=!1;function ChannelContent_init(){Main_values.Main_CenterLablesVectorPos=1,Main_values.Main_Go=Main_ChannelContent,ChannelContent_ChannelValueIsset&&!Main_values.Search_isSearching&&Main_values.Main_selectedChannel_id&&ChannelContent_RestoreChannelValue(),ChannelContent_lastselectedChannel!==Main_values.Main_selectedChannel&&(ChannelContent_status=!1),Main_cleanTopLabel(),document.body.addEventListener("keydown",ChannelContent_handleKeyDown,!1),AddCode_PlayRequest=!1,Main_innerHTML("top_lable",Main_values.Main_selectedChannelDisplayname),Main_values.Main_BeforeChannel!==Main_UserChannels&&!Main_values.My_channel||(Main_values.Sidepannel_Pos=Main_values.My_channel?8:7,Sidepannel_SetUserLables(),Sidepannel_SetTopOpacity(Main_values.Main_Go)),ChannelContent_status?(Main_YRst(ChannelContent_cursorY),Main_ShowElement(ChannelContent_ids[10]),ChannelContent_checkUser(),ChannelContent_removeAllFollowFocus(),ChannelContent_addFocus(),Main_SaveValues()):ChannelContent_StartLoad()}function ChannelContent_exit(){Main_RestoreTopLabel(),document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),Main_values.My_channel=!1,ChannelContent_removeFocus()}function ChannelContent_StartLoad(){ScreensObj_SetTopLable(Main_values.Main_selectedChannelDisplayname),Main_updateclock(),ChannelContent_isoffline=!1,Main_HideElement(ChannelContent_ids[10]),ChannelContent_offline_image=null,Main_showLoadDialog(),Main_HideWarningDialog(),ChannelContent_lastselectedChannel=Main_values.Main_selectedChannel,ChannelContent_dataEnded=ChannelContent_isoffline=ChannelContent_status=!1,ChannelContent_TargetId=void(ChannelContent_cursorY=ChannelContent_cursorX=ChannelContent_itemsCount=ChannelContent_itemsCountOffset=0),ChannelContent_loadDataPrepare(),ChannelContent_loadDataRequest()}function ChannelContent_loadDataPrepare(){Main_FirstLoad=!0,ChannelContent_loadingDataTry=0,ChannelContent_loadingDataTimeout=3500}function ChannelContent_loadDataRequest(){var theUrl=Main_kraken_api+"streams/"+encodeURIComponent(void 0!==ChannelContent_TargetId?ChannelContent_TargetId:Main_values.Main_selectedChannel_id)+Main_TwithcV5Flag_I;BasexmlHttpGet(theUrl,ChannelContent_loadingDataTimeout,2,null,ChannelContent_loadDataRequestSuccess,ChannelContent_loadDataError)}function ChannelContent_loadDataRequestSuccess(response){JSON.parse(response).stream?(ChannelContent_responseText=response,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo()):ChannelContent_TargetId?(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo()):(ChannelContent_loadDataPrepare(),ChannelContent_loadDataCheckHost())}function ChannelContent_loadDataError(){++ChannelContent_loadingDataTry<ChannelContent_loadingDataTryMax?(ChannelContent_loadingDataTimeout+=500,ChannelContent_loadDataRequest()):(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo())}function ChannelContent_loadDataCheckHost(){var theUrl="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Main_values.Main_selectedChannel_id);BasexmlHttpGet(theUrl,ChannelContent_loadingDataTimeout,1,null,ChannelContent_CheckHost,ChannelContent_loadDataCheckHostError,!0)}function ChannelContent_loadDataCheckHostError(){++ChannelContent_loadingDataTry<ChannelContent_loadingDataTryMax?(ChannelContent_loadingDataTimeout+=500,ChannelContent_loadDataCheckHost()):(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo())}function ChannelContent_CheckHost(response){response=JSON.parse(response);void 0!==(ChannelContent_TargetId=response.hosts[0].target_id)?(ChannelContent_loadDataPrepare(),ChannelContent_loadDataRequest()):(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo())}function ChannelContent_GetStreamerInfo(){var theUrl=Main_kraken_api+"channels/"+Main_values.Main_selectedChannel_id+Main_TwithcV5Flag_I;BasexmlHttpGet(theUrl,PlayVod_loadingInfoDataTimeout,2,null,ChannelContent_GetStreamerInfoSuccess,ChannelContent_GetStreamerInfoError)}function ChannelContent_GetStreamerInfoSuccess(channel){channel=JSON.parse(channel);ChannelContent_offline_image=(ChannelContent_offline_image=channel.video_banner)&&ChannelContent_offline_image.replace("1920x1080",Main_VideoSize),ChannelContent_profile_banner=channel.profile_banner||IMG_404_BANNER,ChannelContent_selectedChannelViews=channel.views,ChannelContent_selectedChannelFollower=channel.followers,ChannelContent_description=channel.description,Main_values.Main_selectedChannelLogo=channel.logo,Main_values.Main_selectedChannelPartner=channel.partner,ChannelContent_loadDataSuccess()}function ChannelContent_GetStreamerInfoError(){++ChannelContent_loadingDataTry<ChannelContent_loadingDataTryMax?(ChannelContent_loadingDataTimeout+=500,ChannelContent_GetStreamerInfo()):(ChannelContent_offline_image=null,ChannelContent_profile_banner=IMG_404_BANNER,ChannelContent_description=ChannelContent_selectedChannelFollower=ChannelContent_selectedChannelViews="",Main_values.Main_selectedChannelLogo=IMG_404_LOGO,ChannelContent_loadDataSuccess())}function ChannelContent_setFollow(){AddCode_IsFollowing?Main_innerHTML("channel_content_titley_2",'<i class="icon-heart" style="color: #6441a4; font-size: 100%;"></i>'+STR_SPACE+STR_SPACE+STR_FOLLOWING):Main_innerHTML("channel_content_titley_2",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+STR_SPACE+STR_SPACE+(AddUser_UserIsSet()?STR_FOLLOW:STR_NOKEY))}function ChannelContent_loadDataSuccess(){Main_values.Main_selectedChannelLogo||(Main_values.Main_selectedChannelLogo=IMG_404_LOGO),Main_innerHTML("channel_content_thumbdiv0_1",'<img class="stream_img_channel_logo" alt="" src="'+Main_values.Main_selectedChannelLogo.replace("300x300","600x600")+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+"'\">"),Main_innerHTML("channel_content_img0_1",'<img class="stream_img_channel" alt="" src="'+ChannelContent_profile_banner+'" onerror="this.onerror=null;this.src=\''+IMG_404_BANNER+"'\">");var stream,hosting=Main_values.Main_selectedChannelDisplayname;hosting+=Main_values.Main_selectedChannelPartner?STR_SPACE+STR_SPACE+'<img style="display: inline-block; width: 2ch; vertical-align: middle;" alt="" src="'+IMG_PARTNER+'">':"",hosting+=""!==ChannelContent_selectedChannelViews?STR_BR+Main_addCommas(ChannelContent_selectedChannelViews)+STR_VIEWS:"",hosting+=""!==ChannelContent_selectedChannelFollower?STR_BR+Main_addCommas(ChannelContent_selectedChannelFollower)+STR_FOLLOWERS:"",hosting+=""!==ChannelContent_description?STR_BR+STR_BR+STR_ABOUT+":"+STR_BR+twemoji.parse(ChannelContent_description):"",Main_innerHTML("channel_content_infodiv0_1",hosting),ChannelContent_responseText&&(stream=JSON.parse(ChannelContent_responseText)).stream?(hosting=void 0!==ChannelContent_TargetId?Main_values.Main_selectedChannelDisplayname+STR_USER_HOSTING:"",ChannelContent_createCell((stream=stream.stream).channel.name,stream.channel._id,stream.preview.template,twemoji.parse(stream.channel.status),stream.game,hosting+stream.channel.display_name,STR_SINCE+Play_streamLiveAt(stream.created_at)+STR_SPACE+STR_FOR+Main_addCommas(stream.viewers)+STR_SPACE+STR_VIEWER,Main_videoqualitylang(stream.video_height,stream.average_fps,stream.channel.broadcaster_language),Main_is_rerun(stream.broadcast_platform)),ChannelContent_cursorX=1):ChannelContent_createCellOffline(),ChannelContent_loadDataSuccessFinish()}function ChannelContent_createCell(channel_name,channel_id,preview_thumbnail,stream_title,stream_game,channel_display_name,viwers,quality,rerun){var ishosting=void 0!==ChannelContent_TargetId;preview_thumbnail=preview_thumbnail||IMG_404_VIDEO,document.getElementById("channel_content_cell0_1").setAttribute(Main_DataAttribute,JSON.stringify([channel_name,channel_id,rerun,channel_display_name])),Main_innerHTML("channel_content_thumbdiv0_0",'<div class="stream_thumbnail_live_img"><img class="stream_img" alt="" src="'+preview_thumbnail.replace("{width}x{height}",Main_VideoSize)+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+IMG_404_VIDEO+'\'"></div><div class="stream_thumbnail_live_text_holder"><div class="stream_text_holder"><div id="channel_content_cell0_3" style="line-height: 1.6ch;"><div class="stream_info_live_name" style="width:'+(ishosting?99:66)+'%; display: inline-block;"><i class="icon-'+(rerun?"refresh":"circle")+' live_icon strokedeline" style="color: '+(rerun?"#FFFFFF":ishosting?"#FED000":"red")+';"></i> '+channel_display_name+'</div><div class="stream_info_live" style="width:'+(ishosting?0:33)+'%; float: right; text-align: right; display: inline-block;">'+(ishosting?"":quality)+'</div></div><div class="stream_info_live_title">'+stream_title+'</div><div id="channel_content_cell0_5" class="stream_info_live">'+(""!==stream_game?STR_PLAYING+stream_game:"")+'</div><div class="stream_info_live">'+viwers+"</div></div></div>")}function ChannelContent_createCellOffline(){ChannelContent_isoffline=!0,Main_innerHTML("channel_content_thumbdiv0_0",'<div class="stream_thumbnail_live_img"><img class="stream_img" alt="" src="'+ChannelContent_offline_image+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+IMG_404_VIDEO+'\'"></div><div class="stream_thumbnail_live_text_holder"><div class="stream_text_holder" style="font-size: 150%;"><div style="line-height: 1.6ch;"><div class="stream_info_live_name" style="width:99%; display: inline-block;">'+Main_values.Main_selectedChannelDisplayname+'</div><div class="stream_info_live" style="width:0%; float: right; text-align: right; display: inline-block;"></div></div><div class="stream_info_live">'+STR_CH_IS_OFFLINE+"</div></div></div>")}function ChannelContent_loadDataSuccessFinish(){ChannelContent_status||(ChannelContent_status=!0,ChannelContent_isoffline||(ChannelContent_cursorY=1),ChannelContent_addFocus(),Main_SaveValues(),Main_ShowElement(ChannelContent_ids[10]),Main_HideLoadDialog()),ChannelContent_checkUser(),Main_FirstLoad=!1}function ChannelContent_checkUser(){ChannelContent_UserChannels?ChannelContent_setFollow():AddUser_UserIsSet()?(AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_PlayRequest=!1,AddCode_CheckFollow()):(AddCode_IsFollowing=!1,ChannelContent_setFollow())}function ChannelContent_addFocus(){ChannelContent_cursorY?Main_AddClass("channel_content_thumbdiv0_0",Main_classThumb):ChannelContent_addFocusFollow(),Main_handleKeyUp()}function ChannelContent_addFocusFollow(){Main_AddClass("channel_content_thumbdivy_"+ChannelContent_cursorX,"stream_switch_focused")}function ChannelContent_removeFocus(){ChannelContent_cursorY?Main_RemoveClass("channel_content_thumbdiv0_0",Main_classThumb):Main_RemoveClass("channel_content_thumbdivy_"+ChannelContent_cursorX,"stream_switch_focused")}function ChannelContent_removeAllFollowFocus(){Main_RemoveClass("channel_content_thumbdivy_0","stream_switch_focused"),Main_RemoveClass("channel_content_thumbdivy_1","stream_switch_focused"),Main_RemoveClass("channel_content_thumbdivy_2","stream_switch_focused")}function ChannelContent_keyEnter(){var playing;ChannelContent_cursorY?(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),Main_values.Play_selectedChannel=JSON.parse(document.getElementById("channel_content_cell0_1").getAttribute(Main_DataAttribute)),Main_values.IsRerun=Main_values.Play_selectedChannel[2],Main_values.Play_selectedChannelDisplayname=Main_values.Play_selectedChannel[3],Main_values.Play_selectedChannel=Main_values.Play_selectedChannel[0],-1!==Main_values.Play_selectedChannelDisplayname.indexOf(STR_USER_HOSTING)?(Main_values.Play_isHost=!0,Main_values.Play_DisplaynameHost=Main_values.Play_selectedChannelDisplayname,Main_values.Play_selectedChannelDisplayname=Main_values.Play_selectedChannelDisplayname.split(STR_USER_HOSTING)[1],Main_values.Play_selectedChannel_id=ChannelContent_TargetId):Main_values.Play_selectedChannel_id=Main_values.Main_selectedChannel_id,playing=document.getElementById("channel_content_cell0_5").textContent,Main_values.Play_gameSelected=-1!==playing.indexOf(STR_PLAYING)?playing.split(STR_PLAYING)[1]:"",Main_ready(Main_openStream)):ChannelContent_cursorX?1===ChannelContent_cursorX?(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),ChannelContent_removeFocus(),Main_ready(function(){inUseObj=ChannelClip,Screens_init()})):2===ChannelContent_cursorX&&(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?(AddCode_PlayRequest=!1,AddCode_Channel_id=Main_values.Main_selectedChannel_id,(AddCode_IsFollowing?AddCode_UnFollow:AddCode_Follow)()):(Main_showWarningDialog(STR_NOKEY_WARN),window.setTimeout(Main_HideWarningDialog,2e3))):(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),ChannelContent_removeFocus(),Main_ready(function(){inUseObj=ChannelVod,Screens_init()}))}function ChannelContent_SetChannelValue(){ChannelContent_ChannelValue={"Main_values.Main_selectedChannel_id":Main_values.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Main_values.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Main_values.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Main_values.Main_selectedChannelDisplayname,ChannelContent_UserChannels:ChannelContent_UserChannels,"Main_values.Main_BeforeChannel":Main_values.Main_BeforeChannel}}function ChannelContent_RestoreChannelValue(){Main_values.Main_selectedChannel_id=Main_values.Main_selectedChannel_id,Main_values.Main_selectedChannelLogo=Main_values.Main_selectedChannelLogo,Main_values.Main_selectedChannel=Main_values.Main_selectedChannel,Main_values.Main_selectedChannelDisplayname=Main_values.Main_selectedChannelDisplayname,ChannelContent_UserChannels=ChannelContent_ChannelValue.ChannelContent_UserChannels,Main_values.Main_BeforeChannel=Main_values.Main_BeforeChannel,ChannelContent_ChannelValueIsset=!(ChannelContent_ChannelValue={})}function ChannelContent_handleKeyUp(e){e.keyCode===KEY_ENTER&&(ChannelContent_handleKeyUpClear(),ChannelContent_clear||ChannelContent_keyEnter())}function ChannelContent_handleKeyUpClear(){window.clearTimeout(ChannelContent_KeyEnterID),document.body.removeEventListener("keyup",ChannelContent_handleKeyUp),document.body.addEventListener("keydown",ChannelContent_handleKeyDown,!1)}function ChannelContent_handleKeyDown(event){if(!Main_FirstLoad&&!Main_CantClick())switch(Main_keyClickDelayStart(),event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Main_isControlsDialogShown()?Main_HideControlsDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():(ChannelContent_removeFocus(),document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_values.Main_Go=Main_values.Main_BeforeChannel,Main_values.Main_BeforeChannel=Main_Live,ChannelContent_exit(),Sidepannel_SetDefaultLables(),Main_values.Main_selectedChannel_id="",Main_SwitchScreenAction());break;case KEY_LEFT:!ChannelContent_cursorY&&ChannelContent_cursorX?(ChannelContent_removeFocus(),--ChannelContent_cursorX<0&&(ChannelContent_cursorX=2),ChannelContent_addFocus()):(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Sidepannel_Start(ChannelContent_handleKeyDown));break;case KEY_RIGHT:ChannelContent_cursorY||(ChannelContent_removeFocus(),2<++ChannelContent_cursorX&&(ChannelContent_cursorX=0),ChannelContent_addFocus());break;case KEY_UP:case KEY_DOWN:ChannelContent_cursorY=ChannelContent_cursorY||ChannelContent_isoffline?(ChannelContent_removeFocus(),0):(ChannelContent_removeFocus(),1),ChannelContent_addFocus();break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:ChannelContent_keyEnter();break;case KEY_ENTER:Settings_Obj_default("enter_refresh")?ChannelContent_keyEnter():(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown,!1),document.body.addEventListener("keyup",ChannelContent_handleKeyUp,!1),ChannelContent_clear=!1,ChannelContent_KeyEnterID=window.setTimeout(Main_ReloadScreen,500));break;case KEY_INFO:case KEY_REFRESH:Main_ReloadScreen()}}var ChatLive_loadBadgesChannelId,ChatLive_CheckId,ChatLive_selectedChannel_id,ChatLive_selectedChannel,ChatLive_loadingDataTry=0,ChatLive_loadingDataTryMax=10,ChatLive_hasEnded=!1,ChatLive_Id=0,Chat_CleanMax=60,ChatLive_socket=null,ChatLive_loaded=!1,ChatLive_LineAddCounter=0,ChatLive_Messages=[],ChatLive_Playing=!0,extraEmotesDone={bbtv:{},ffz:{},cheers:{}},extraEmotes={},cheers={};function ChatLive_Init(){ChatLive_Clear(),Main_values.Play_ChatForceDisable?Chat_Disable():(Chat_LoadGlobal||Chat_loadBadgesGlobal(),ChatLive_loaded=!1,ChatLive_Id=(new Date).getTime(),ChatLive_selectedChannel_id=Main_values.Play_selectedChannel_id,ChatLive_selectedChannel=Main_values.Play_selectedChannel,ChatLive_loadBadgesChannel(ChatLive_Id,ChatLive_loadBadgesChannelSuccess))}function ChatLive_loadBadgesChannel(id,callbackSucess){ChatLive_loadingDataTry=0,ChatLive_loadBadgesChannelRequest(id,callbackSucess)}function ChatLive_loadBadgesChannelRequest(id,callbackSucess){var theUrl="https://badges.twitch.tv/v1/badges/channels/"+ChatLive_selectedChannel_id+"/display",xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=1e4,xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?callbackSucess(xmlHttp.responseText,id):ChatLive_loadBadgesChannelError(id,callbackSucess))},xmlHttp.send(null)}function ChatLive_loadBadgesChannelError(id,callbackSucess){++ChatLive_loadingDataTry<ChatLive_loadingDataTryMax?ChatLive_loadBadgesChannelRequest(id,callbackSucess):ChatLive_Id===id&&(window.clearTimeout(ChatLive_loadBadgesChannelId),ChatLive_loadBadgesChannelId=window.setTimeout(function(){ChatLive_loadBadgesChannelRequest(id,callbackSucess)},500))}function ChatLive_loadBadgesChannelSuccess(responseText,id){Chat_loadBadgesTransform(responseText),ChatLive_loadEmotesChannel(),ChatLive_loadCheersChannel(),ChatLive_loadEmotesChannelffz(),ChatLive_Id===id&&ChatLive_loadChat()}function ChatLive_loadEmotesChannel(){extraEmotesDone.bbtv[ChatLive_selectedChannel_id]||(ChatLive_loadingDataTry=0,ChatLive_loadEmotesChannelRequest())}function ChatLive_loadEmotesChannelRequest(){var theUrl="https://api.betterttv.net/3/cached/users/twitch/"+encodeURIComponent(ChatLive_selectedChannel_id),xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=1e4,xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?ChatLive_loadEmotesChannelSuccess(xmlHttp.responseText):404===xmlHttp.status?extraEmotesDone.bbtv[ChatLive_selectedChannel_id]=1:ChatLive_loadEmotesChannelError())},xmlHttp.send(null)}function ChatLive_loadEmotesChannelError(){++ChatLive_loadingDataTry<ChatLive_loadingDataTryMax&&ChatLive_loadEmotesChannelRequest()}function ChatLive_loadEmotesChannelSuccess(data){ChatLive_loadEmotesbbtvChannel((data=JSON.parse(data)).channelEmotes),ChatLive_loadEmotesbbtvChannel(data.sharedEmotes),extraEmotesDone.bbtv[ChatLive_selectedChannel_id]=1}function ChatLive_loadEmotesbbtvChannel(data){var url;try{data.forEach(function(emote){url="https://cdn.betterttv.net/emote/"+emote.id+"/3x",extraEmotes[emote.code]={code:emote.code,id:emote.id,"4x":url}})}catch(e){console.log("ChatLive_loadEmotesbbtvChannel "+e)}}function ChatLive_loadCheersChannel(){extraEmotesDone.cheers[ChatLive_selectedChannel_id]||(ChatLive_loadingDataTry=0,ChatLive_loadCheersChannelRequest())}function ChatLive_loadCheersChannelRequest(){var theUrl="https://api.twitch.tv/v5/bits/actions?channel_id="+encodeURIComponent(ChatLive_selectedChannel_id),xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=1e4,xmlHttp.ontimeout=function(){},xmlHttp.setRequestHeader(Main_Headers[0][0],Main_Headers[0][1]),xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?ChatLive_loadCheersChannelSuccess(JSON.parse(xmlHttp.responseText)):ChatLive_loadCheersChannelError())},xmlHttp.send(null)}function ChatLive_loadCheersChannelError(){++ChatLive_loadingDataTry<ChatLive_loadingDataTryMax&&ChatLive_loadCheersChannelRequest()}function ChatLive_loadCheersChannelSuccess(data){cheers[ChatLive_selectedChannel_id]={},data.actions.forEach(function(action){cheers[ChatLive_selectedChannel_id][action.prefix]={},action.tiers.forEach(function(tier){cheers[ChatLive_selectedChannel_id][action.prefix][tier.min_bits]=tier.images.light.animated[4]})}),extraEmotesDone.cheers[ChatLive_selectedChannel_id]=1}function ChatLive_loadEmotesChannelffz(){extraEmotesDone.ffz[ChatLive_selectedChannel_id]||(ChatLive_loadingDataTry=0,ChatLive_loadEmotesChannelffzRequest())}function ChatLive_loadEmotesChannelffzRequest(){var theUrl="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(ChatLive_selectedChannel),xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=1e4,xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?ChatLive_loadEmotesChannelffzSuccess(xmlHttp.responseText):404===xmlHttp.status?extraEmotesDone.ffz[ChatLive_selectedChannel_id]=1:ChatLive_loadEmotesChannelffzError())},xmlHttp.send(null)}function ChatLive_loadEmotesChannelffzError(){++ChatLive_loadingDataTry<ChatLive_loadingDataTryMax&&ChatLive_loadEmotesChannelffzRequest()}function ChatLive_loadEmotesChannelffzSuccess(data){ChatLive_loadEmotesffz(JSON.parse(data)),extraEmotesDone.ffz[ChatLive_selectedChannel_id]=1}function ChatLive_loadEmotesffz(data){Object.keys(data.sets).forEach(function(set){((set=data.sets[set]).emoticons||Array.isArray(set.emoticons))&&set.emoticons.forEach(function(emoticon){emoticon.name&&emoticon.id&&"string"==typeof emoticon.name&&"number"==typeof emoticon.id&&(extraEmotes[emoticon.name]||emoticon.urls&&"object"==typeof emoticon.urls&&"string"==typeof emoticon.urls[1]&&(emoticon.urls[2]&&"string"!=typeof emoticon.urls[2]||(extraEmotes[emoticon.name]={code:emoticon.name,id:emoticon.id,"4x":"https:"+(emoticon.urls[4]||emoticon.urls[2]||emoticon.urls[1])})))})})}function ChatLive_loadChat(){ChatLive_CheckClear(),ChatLive_loadChatRequest()}function ChatLive_loadChatRequest(){(ChatLive_socket=new ReconnectingWebSocket("ws://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){ChatLive_socket.send("PASS blah\r\n"),ChatLive_socket.send("NICK justinfan12345\r\n"),ChatLive_socket.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),ChatLive_socket.send("JOIN #"+ChatLive_selectedChannel+"\r\n")},ChatLive_socket.onclose=function(){ChatLive_hasEnded=!0},ChatLive_socket.onmessage=function(data){var message=window.parseIRC(data.data.trim());if(message.command)switch(message.command){case"PING":ChatLive_socket.send("PONG "+message.params[0]);break;case"JOIN":ChatLive_loaded=!0;var stringSec,div='&nbsp;<span class="message">'+STR_BR+STR_LOADING_CHAT+Main_values.Play_selectedChannelDisplayname+" "+STR_LIVE+"</span>";Play_ChatDelayPosition&&(stringSec=STR_SECOND,1<Play_controls[Play_controlsChatDelay].defaultValue&&(stringSec=STR_SECONDS),div+='&nbsp;<span class="message">'+STR_BR+STR_BR+STR_CHAT_DELAY+" "+Play_controls[Play_controlsChatDelay].values[Play_controls[Play_controlsChatDelay].defaultValue]+stringSec+"</span>"),ChatLive_LineAdd(div);break;case"PRIVMSG":ChatLive_loadChatSuccess(message)}},ChatLive_CheckId=window.setTimeout(ChatLive_Check,5e3)}function ChatLive_Check(){ChatLive_loaded||(ChatLive_socket.close(1e3),ChatLive_loadChat())}function ChatLive_CheckClear(){window.clearTimeout(ChatLive_CheckId)}function ChatLive_loadChatSuccess(nickColor){var nick,action,mmessage,id,div="",tags=nickColor.tags,emotes={};tags&&tags.hasOwnProperty("display-name")&&(tags.hasOwnProperty("badges")&&"string"==typeof tags.badges&&tags.badges.split(",").forEach(function(badge){badge=badge.split("/"),div+='<span class="'+badge[0]+"-"+badge[1]+' tag"></span>'}),-1!==(mmessage=nickColor.params[1]).indexOf("PRIVMSG")&&(mmessage=mmessage.split("@badge-info=")[0]),/^\x01ACTION.*\x01$/.test(mmessage)&&(action=!0,mmessage=mmessage.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim()),nick=tags["display-name"],nickColor="boolean"!=typeof tags.color?tags.color:defaultColors[nick.charCodeAt(0)%defaultColorsLength],nickColor='style="color: '+calculateColorReplacement(nickColor)+';"',div+="<span "+(action?'class="class_bold" '+nickColor:"")+nickColor+">"+nick+"</span>"+(action?"":"&#58;")+"&nbsp;",tags.hasOwnProperty("emotes")&&"string"==typeof tags.emotes&&(tags.emotes=tags.emotes.split("/"),tags.emotes.forEach(function(emote){emote=emote.split(":"),emotes[emote[0]]||(emotes[emote[0]]=[]),emote[1].split(",").forEach(function(replacement){replacement=replacement.split("-"),emotes[emote[0]].push([parseInt(replacement[0]),parseInt(replacement[1])])})})),div+='<span class="message'+(action?' class_bold" '+nickColor:'"')+">"+ChatLive_extraMessageTokenize(emoticonize(mmessage,emotes),tags.hasOwnProperty("bits")&&cheers.hasOwnProperty(ChatLive_selectedChannel_id)?parseInt(tags.bits):0)+"</span>",Play_ChatDelayPosition?(id=ChatLive_Id,window.setTimeout(function(){id===ChatLive_Id&&ChatLive_LineAdd(div)},1e3*Play_controls[Play_controlsChatDelay].values[Play_controls[Play_controlsChatDelay].defaultValue])):ChatLive_LineAdd(div))}function ChatLive_extraMessageTokenize(tokenizedMessage,tags){for(var i=0;i<tokenizedMessage.length;i++)"string"==typeof tokenizedMessage[i]?tokenizedMessage[i]=extraMessageTokenize(tokenizedMessage[i],tags):tokenizedMessage[i]=tokenizedMessage[i][0];return twemoji.parse(tokenizedMessage.join(" "),!0,!0)}function ChatLive_LineAdd(message){var elem;ChatLive_Playing?((elem=document.createElement("div")).className="chat_line",elem.innerHTML=message,Chat_div.appendChild(elem),Chat_CleanMax<++ChatLive_LineAddCounter&&(ChatLive_LineAddCounter=0,Chat_Clean())):ChatLive_Messages.push(message)}function ChatLive_MessagesRunAfterPause(){var i,Temp_Messages=Main_Slice(ChatLive_Messages);for(ChatLive_Messages=[],i=0;i<Temp_Messages.length;i++)ChatLive_LineAdd(Temp_Messages[i])}function ChatLive_ClearIds(){ChatLive_CheckClear(),window.clearTimeout(ChatLive_loadBadgesChannelId)}function ChatLive_Clear(){ChatLive_ClearIds(),ChatLive_socket&&ChatLive_socket.close(1e3),ChatLive_Id=0,Main_empty("chat_box"),ChatLive_loaded=ChatLive_hasEnded=!(ChatLive_Messages=[])}var Chat_addlinesId,Chat_loadChatId,Chat_loadChatNextId,Chat_div,Chat_loadBadgesChannelId,Chat_LoadGlobal=!1,Chat_loadingDataTry=0,Chat_Messages=[],Chat_MessagesNext=[],Chat_loadingDataTryMax=10,Chat_next=null,Chat_offset=0,Chat_title="",defaultColors=["#fe2424","#fc5a24","#ff9020","#fEc723","#ffff1d","#bfff00","#c3ff12","#56fe1d","#1eff1e","#16ff51","#00ff80","#00ffbf","#00ffff","#1dc6ff","#158aff","#3367ff","#ff4dff","#ff4ad2","#ff62b1","#ff4272"],defaultColorsLength=defaultColors.length,Chat_Position=0,Chat_hasEnded=!1,Chat_Id=0,Chat_JustStarted=!0;function Chat_Preinit(){Chat_div=document.getElementById("chat_box"),Chat_loadBadgesGlobal()}function Chat_Init(){Chat_JustStarted=!0,Chat_Clear(),Main_IsNotBrowser&&!Main_values.Play_ChatForceDisable?(Chat_LoadGlobal||Chat_loadBadgesGlobal(),Chat_Id=(new Date).getTime(),ChatLive_selectedChannel_id=Main_values.Main_selectedChannel_id,ChatLive_selectedChannel=Main_values.Main_selectedChannel,ChatLive_loadBadgesChannel(Chat_Id,Chat_loadBadgesChannelSuccess)):Chat_Disable()}function Chat_loadBadgesGlobal(){extraEmotes={},Chat_loadingDataTry=0,Chat_LoadGlobal=!1,Chat_loadBadgesGlobalRequest()}function Chat_loadBadgesGlobalRequest(){BasexmlHttpGet("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Chat_loadBadgesGlobalSuccess,Chat_loadBadgesGlobalError,!1)}function Chat_loadBadgesGlobalError(){++Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadBadgesGlobalRequest():Chat_LoadGlobal=!1}function Chat_loadBadgesGlobalSuccess(responseText){transformBadges(JSON.parse(responseText).badge_sets).forEach(function(badge){badge.versions.forEach(function(version){tagCSS(badge.type,version.type,version.image_url_4x,null)})}),Chat_loadEmotes()}function Chat_loadEmotes(){Chat_loadingDataTry=0,Chat_loadEmotesRequest()}function Chat_loadEmotesRequest(){BasexmlHttpGet("https://api.betterttv.net/3/cached/emotes/global",1e4,0,null,Chat_loadEmotesSuccess,Chat_loadEmotesError,!1)}function Chat_loadEmotesError(){++Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadEmotesRequest():Chat_LoadGlobal=!1}function Chat_loadEmotesSuccess(data){Chat_loadEmotesbbtvGlobal(JSON.parse(data)),Chat_loadEmotesffz()}function Chat_loadEmotesbbtvGlobal(data){var url;extraEmotesDone.bbtvGlobal={};try{data.forEach(function(emote){url="https://cdn.betterttv.net/emote/"+emote.id+"/3x",extraEmotes[emote.code]={code:emote.code,id:emote.id,"4x":url}})}catch(e){console.log("Chat_loadEmotesbbtvGlobal "+e)}}function Chat_loadEmotesffz(){Chat_loadingDataTry=0,Chat_loadEmotesRequestffz()}function Chat_loadEmotesRequestffz(){BasexmlHttpGet("https://api.frankerfacez.com/v1/set/global",1e4,0,null,Chat_loadEmotesSuccessffz,Chat_loadEmotesErrorffz,!1)}function Chat_loadEmotesErrorffz(){++Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadEmotesRequestffz():Chat_LoadGlobal=!1}function Chat_loadEmotesSuccessffz(data){ChatLive_loadEmotesffz(JSON.parse(data)),Chat_LoadGlobal=!0}function Chat_loadBadgesTransform(responseText){transformBadges(JSON.parse(responseText).badge_sets).forEach(function(badge){badge.versions.forEach(function(version){tagCSS(badge.type,version.type,version.image_url_4x,Chat_div)})})}function Chat_loadBadgesChannelSuccess(responseText,id){Chat_loadBadgesTransform(responseText),ChatLive_loadEmotesChannel(),ChatLive_loadCheersChannel(),ChatLive_loadEmotesChannelffz(),Chat_Id===id&&Chat_loadChat(id)}function Chat_loadChat(id){Chat_loadingDataTry=0,Chat_Id===id&&Chat_loadChatRequest(id)}function Chat_loadChatRequest(id){var theUrl="https://api.twitch.tv/v5/videos/"+Main_values.ChannelVod_vodId+"/comments?client_id="+AddCode_clientId+(Chat_offset?"&content_offset_seconds="+parseInt(Chat_offset):""),xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=1e4,xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?Chat_Id===id&&Chat_loadChatSuccess(xmlHttp.responseText,id):Chat_Id===id&&Chat_loadChatError(id))},xmlHttp.send(null)}function Chat_loadChatError(id){Chat_loadingDataTry++,Chat_Id===id&&(Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadChatRequest(id):(window.clearTimeout(Chat_loadChatId),Chat_loadChatId=window.setTimeout(function(){Chat_loadChatRequest(id)},2500)))}function Chat_loadChatSuccess(responseText,id){responseText=JSON.parse(responseText);var div,mmessage,nickColor,null_next=null===Chat_next;null_next&&(div="&nbsp;",div+='<span class="message">',div+=STR_BR+STR_LOADING_CHAT+Main_values.Main_selectedChannelDisplayname+" "+Chat_title,Chat_MessageVector(div+="</span>",0)),Chat_offset=0,Chat_next=responseText._next,responseText.comments.forEach(function(comments){div="",(mmessage=comments.message).hasOwnProperty("user_badges")&&mmessage.user_badges.forEach(function(badges){div+='<span class="'+badges._id+"-"+badges.version+' tag"></span>'}),nickColor=mmessage.hasOwnProperty("user_color")?mmessage.user_color:defaultColors[comments.commenter.display_name.charCodeAt(0)%defaultColorsLength],nickColor='style="color: '+calculateColorReplacement(nickColor)+';"',div+="<span "+(mmessage.is_action?'class="class_bold" '+nickColor:"")+nickColor+">"+comments.commenter.display_name+"</span>"+(mmessage.is_action?"":"&#58;")+"&nbsp;",div+='<span class="message'+(mmessage.is_action?' class_bold" '+nickColor:'"')+">",mmessage.fragments.forEach(function(fragments){fragments.hasOwnProperty("emoticon")?div+=emoteTemplate(emoteURL(fragments.emoticon.emoticon_id)):div+=ChatLive_extraMessageTokenize([fragments.text],mmessage.hasOwnProperty("bits_spent")&&cheers.hasOwnProperty(ChatLive_selectedChannel_id)?mmessage.bits_spent:0)}),div+="</span>",null_next?Chat_MessageVector(div,comments.content_offset_seconds):void 0!==Chat_next&&Chat_MessageVectorNext(div,comments.content_offset_seconds)}),null_next&&Chat_Id===id&&(Chat_JustStarted=!1,Chat_Play(id),void 0!==Chat_next&&Chat_loadChatNext(id))}function Chat_MessageVector(message,time){Chat_Messages.push({time:time,message:message})}function Chat_MessageVectorNext(message,time){Chat_MessagesNext.push({time:time,message:message})}function Chat_Play(id){Chat_JustStarted||Chat_hasEnded||Chat_Id!==id||Main_values.Play_ChatForceDisable||(Main_Addline(id),window.clearInterval(Chat_addlinesId),Chat_addlinesId=window.setInterval(function(){Main_Addline(id)},1e3))}function Chat_Pause(){window.clearTimeout(Chat_loadBadgesChannelId),window.clearTimeout(Chat_loadChatId),window.clearTimeout(Chat_loadChatNextId),window.clearInterval(Chat_addlinesId)}function Chat_Clear(){Chat_hasEnded=!1,Chat_Pause(),Chat_Id=0,Main_empty("chat_box"),Chat_next=null,Chat_Messages=[],Chat_MessagesNext=[],Chat_Position=0}function Main_Addline(div){var elem,i;if(Chat_Position<Chat_Messages.length-1)for(i=Chat_Position;i<Chat_Messages.length&&Chat_Messages[i].time<PlayVod_currentTime/1e3;i++,Chat_Position++)(elem=document.createElement("div")).className="chat_line",elem.innerHTML=Chat_Messages[i].message,Chat_div.appendChild(elem);else Chat_Pause(),void 0!==Chat_next?(Chat_Messages=Main_Slice(Chat_MessagesNext),Chat_Position=0,Chat_Play(div),Chat_MessagesNext=[],Chat_Id===div&&Chat_loadChatNext(div),Chat_Clean()):(div="&nbsp;",div+='<span class="message">',div+=STR_BR+STR_BR+STR_CHAT_END+STR_BR+STR_BR,div+="</span>",(elem=document.createElement("div")).className="chat_line",elem.innerHTML=div,Chat_hasEnded||Chat_div.appendChild(elem),Chat_hasEnded=!0,window.clearInterval(Chat_addlinesId))}function Chat_loadChatNext(id){Chat_loadingDataTry=0,Chat_hasEnded||Chat_Id!==id||Chat_loadChatNextRequest(id)}function Chat_loadChatNextRequest(id){var theUrl="https://api.twitch.tv/v5/videos/"+Main_values.ChannelVod_vodId+"/comments?client_id="+AddCode_clientId+(null!==Chat_next?"&cursor="+Chat_next:""),xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=1e4,xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?Chat_hasEnded||Chat_Id!==id||Chat_loadChatSuccess(xmlHttp.responseText,id):Chat_hasEnded||Chat_Id!==id||Chat_loadChatNextError(id))},xmlHttp.send(null)}function Chat_loadChatNextError(id){Chat_loadingDataTry++,Chat_Id===id&&(Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadChatNextRequest(id):(window.clearTimeout(Chat_loadChatNextId),Chat_loadChatNextId=window.setTimeout(function(){Chat_loadChatNextRequest(id)},2500)))}function Chat_NoVod(){Chat_Clear(),Chat_SingleLine(STR_NO_BROADCAST_WARNING+STR_BR+STR_NO_CHAT)}function Chat_Disable(){Chat_Clear(),Chat_SingleLine(STR_CHAT_DISABLE)}function Chat_SingleLine(elem){var div="&nbsp;";div+='<span class="message">',div+=elem,div+="</span>";elem=document.createElement("div");elem.className="chat_line",elem.innerHTML=div,Chat_div.appendChild(elem)}function Chat_Clean(){var linesToDelete=document.getElementsByClassName("chat_line");if(0<linesToDelete.length-Chat_CleanMax)for(var i=0;i<linesToDelete.length-Chat_CleanMax;i++)linesToDelete[0].parentNode.removeChild(linesToDelete[0])}var Main_SearchInput,Main_AddUserInput,Main_AddCodeInput,Main_updateclockId,Main_updateUserFeedId,Main_ResetDownId,Main_ResetAppId,Main_isReleased=!0,Main_isDebug=!1,Main_cursorYAddFocus=-1,Main_Search=0,Main_Live=1,Main_Users=2,Main_Featured=3,Main_games=4,Main_Vod=5,Main_Clip=6,Main_UserLive=7,Main_UserHost=8,Main_usergames=9,Main_UserVod=10,Main_UserChannels=11,Main_SearchGames=12,Main_SearchLive=13,Main_SearchChannels=14,Main_ChannelContent=15,Main_ChannelVod=16,Main_ChannelClip=17,Main_addUser=18,Main_aGame=19,Main_AGameVod=20,Main_AGameClip=21,Main_GoBefore="",Main_values={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Main_games,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_gameSelected_id:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",gameSelectedOld:null,Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run_new:!0,Chat_font_size:3,ChatBackground:10,IsRerun:!1,Main_selectedChannelPartner:!1,Sidepannel_Pos:2,Sidepannel_IsUser:!1,My_channel:!1,DeviceBitrateCheck:!1},Main_Headers=[],Main_Headers_Backup=[],Main_LastClickFinish=!0,Main_addFocusFinish=!0,Main_newUsercode=0,Main_ExitCursor=0,Main_ExitDialogID=null,Main_IsDayFirst=!1,Main_ContentLang="",Main_Periods=[],Main_addFocusVideoOffset=0,Main_FirstRun=!0,Main_FirstLoad=!1,Main_RunningTime=0,Main_ReloadLimitOffsetGames=1.35,Main_ReloadLimitOffsetVideos=1.5,Main_ItemsLimitVideo=45,Main_ColoumnsCountVideo=3,Main_ItemsReloadLimitVideo=Math.floor(Main_ItemsLimitVideo/Main_ColoumnsCountVideo/Main_ReloadLimitOffsetVideos),Main_ItemsLimitGame=45,Main_ColoumnsCountGame=5,Main_ItemsReloadLimitGame=Math.floor(Main_ItemsLimitGame/Main_ColoumnsCountGame/Main_ReloadLimitOffsetGames),Main_ItemsLimitChannel=48,Main_ColoumnsCountChannel=6,Main_ItemsReloadLimitChannel=Math.floor(Main_ItemsLimitChannel/Main_ColoumnsCountChannel/Main_ReloadLimitOffsetVideos),Main_AcceptHeader="Accept",Main_TwitchV5Json="application/vnd.twitchtv.v5+json",Main_clientIdHeader="Client-ID",Main_kraken_api="https://api.twitch.tv/kraken/",Main_Authorization="Authorization",Main_OAuth="OAuth ",Main_TwithcV5Flag="&api_version=5",Main_TwithcV5Flag_I="?api_version=5",Main_classThumb="stream_thumbnail_focused",Main_DataAttribute="data_attribute",Main_version=401,Main_stringVersion_Min="4.0.1",Main_minversion="October 29 2020",Main_versionTag=Main_stringVersion_Min+"-"+Main_minversion,Main_IsNotBrowserVersion="",Main_ClockOffset=0,Main_IsNotBrowser=0,Main_randomimg="?"+Math.random(),proxyurl="https://cors-anywhere.herokuapp.com/",Main_vp9supported=!1,Main_ResetDownUPHold=!1;function Main_Start(){Main_Reset(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Main_loadTranslations(window.navigator.userLanguage||window.navigator.language)}):Main_loadTranslations(window.navigator.userLanguage||window.navigator.language)}function Main_Reset(){document.body.addEventListener("keydown",Main_ResetDown,!1),document.body.addEventListener("keyup",Main_handleKeyUp,!1)}function Main_ResetUP(e){e.keyCode!==KEY_PG_UP&&e.keyCode!==KEY_PG_DOWN||(window.clearTimeout(Main_ResetDownId),window.clearTimeout(Main_ResetAppId),document.body.removeEventListener("keyup",Main_ResetUP),document.body.addEventListener("keydown",Main_ResetDown,!1),window.setTimeout(function(){Main_AddClass("rest_warning","hide")},1500))}function Main_ResetDown(e){e.keyCode!==KEY_PG_UP&&e.keyCode!==KEY_PG_DOWN||(document.body.removeEventListener("keydown",Main_ResetDown,!1),document.body.addEventListener("keyup",Main_ResetUP,!1),Main_ResetDownId=window.setTimeout(Main_ResetWarning,1e4))}function Main_ResetWarning(){window.clearTimeout(Main_ResetDownId),window.clearTimeout(Main_ResetAppId),Main_innerHTML("rest_warning",STR_HOLD_RESET),Main_RemoveClass("rest_warning","hide"),Main_ResetDownUPHold=!0,Main_ResetAppId=window.setTimeout(Main_ResetApp,1e4)}Main_isReleased||Main_Start();var preventSave=!1;function Main_ResetApp(){for(var key in preventSave=!0,localStorage.removeItem("Main_values"),Settings_value)localStorage.removeItem(key);Main_innerHTML("rest_warning",STR_RESET_DONE),window.setTimeout(function(){window.location.reload(!0)},1500)}function Main_loadTranslations(language){Main_Checktylesheet(),Main_ready(function(){Main_isReleased&&(document.body.innerHTML=STR_BODY),Main_ready(function(){try{Main_IsNotBrowser=null!==tizen,console.log("Main_IsNotBrowser tizen = "+Main_IsNotBrowser),Main_IsNotBrowserVersion="1.0.0",Main_isReleased||(Main_isDebug=!0)}catch(e){Main_IsNotBrowserVersion="1.0.0",Main_IsNotBrowser=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Main_isDebug=!0,console.log("Main_isReleased: "+Main_isReleased),console.log("Main_isDebug: "+Main_isDebug),console.log("Main_isBrowser: "+!Main_IsNotBrowser),TVKeyValue_fixKey()}Main_showLoadDialog(),Settings_SetDefautls(),calculateFontSize(),en_USLang(),Languages_SetDefautls(),console.log("language is "+language),DefaultLang(),Main_SearchInput=document.getElementById("search_input"),Main_AddUserInput=document.getElementById("user_input"),Main_AddCodeInput=document.getElementById("oauth_input"),AddUser_RestoreUsers(),window.setTimeout(Main_initWindows,500)})})}function Main_initWindows(){Main_RestoreValues(),Main_SetStringsMain(!0),Main_GoBefore=Main_values.Main_Go,Main_ready(function(){if(Main_IsNotBrowser)for(var key in console.log("TVKeyValue_regKey started"),TV_Keys)TVKeyValue_regKey(TV_Keys[key]);Play_PreStart(),Chat_Preinit(),AddUser_UserIsSet()&&(window.clearInterval(Main_updateUserFeedId),Main_updateUserFeedId=window.setInterval(Main_updateUserFeed,6e5)),document.body.addEventListener("keyup",Main_handleKeyUp,!1),Screens_InitScreens(),document.getElementById("side_panel").style.marginLeft="",document.getElementById("user_feed_notify").style.marginTop="",Main_checkVersion(),Main_SetStringsSecondary(),Play_MakeControls(),Play_SetControls(),Main_IsNotBrowser&&Play_SetAvPlayGlobal(),PlayVod_RestoreVodIds(),window.clearInterval(Main_updateclockId),Main_updateclockId=window.setInterval(Main_updateclock,6e4),inUseObj=Live,Main_ready(function(){Screens_init(),Sidepannel_UpdateThumbDoc=document.getElementById("feed_thumb_img")})})}function Main_SetStringsMain(isStarting){Main_updateclock(),Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE),Main_innerHTML("label_update",'<div style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000;"></i></div><div style="vertical-align: middle; display: inline-block; color: #FF0000">'+STR_SPACE+STR_UPDATE_AVAILABLE+"</div>"),Main_IconLoad("label_side_panel","icon-arrow-left",STR_GOBACK),UserLiveFeed_SetFeedPicText(),Sidepannel_SetDefaultLables(),Main_textContent("dialog_end_next_text",STR_PLAY_NEXT),Main_textContent("dialog_end_replay_text",STR_REPLAY),Main_textContent("dialog_end_vod_text",STR_OPEN_BROADCAST),Main_textContent("dialog_end_channel_text",STR_CHANNEL_CONT),Main_textContent("dialog_end_game_text",STR_GAME_CONT),Main_innerHTML("dialog_about_text",STR_ABOUT_INFO_HEADER+'<div id="about_runningtime"></div>'+STR_ABOUT_INFO_0),Main_Periods=[STR_CLIP_DAY,STR_CLIP_WEEK,STR_CLIP_MONTH,STR_CLIP_ALL],isStarting?Settings_SetSettings():(Settings_SetStrings(),Main_checkVersion())}function Main_SetStringsSecondary(){Main_textContent("play_dialog_exit_text",STR_EXIT_AGAIN),Main_textContent("side_panel_feed_settings",STR_SIDE_PANEL_SETTINGS),Main_textContent("side_panel_feed_refresh",STR_REFRESH),Main_textContent("user_feed_notify_main",STR_NOW_LIVE),Main_textContent("chanel_button",STR_CHANNELS),Main_textContent("game_button",STR_GAMES),Main_textContent("live_button",STR_LIVE),Main_textContent("exit_app_cancel",STR_CANCEL),Main_textContent("exit_app_close",STR_CLOSE),Main_textContent("remove_cancel",STR_CANCEL),Main_textContent("remove_yes",STR_YES),Main_textContent("exit_app_minimize",STR_MINIMIZE),Main_textContent("main_dialog_exit_text",STR_EXIT_MESSAGE),Main_innerHTML("dialog_controls_text",STR_CONTROLS_MAIN_0),Main_textContent("side_panel_warn_text",STR_NO+STR_LIVE_CHANNELS),Main_textContent("side_panel_movel_top_text",STR_LIVE_FEED),Main_textContent("dialog_period_text",STR_SWITCH_CLIP),Main_innerHTML("dialog_period_1",Main_Periods[0]),Main_innerHTML("dialog_period_2",Main_Periods[1]),Main_innerHTML("dialog_period_3",Main_Periods[2]),Main_innerHTML("dialog_period_4",Main_Periods[3]),Main_innerHTML("main_dialog_user_first",STR_USER_MAKE_ONE),Main_innerHTML("main_dialog_user_remove",STR_USER_REMOVE),Main_innerHTML("dialog_OffSet_text",STR_SWITCH_POS+STR_BR),Main_textContent("dialog_OffSet_text_summary",STR_SWITCH_POS_SUMMARY),Main_textContent("dialog_vod_text",STR_VOD_HISTORY),Main_innerHTML("dialog_vod_start_text",STR_FROM_START),Main_innerHTML("channel_content_titley_0",'<i class="icon-movie-play stream_channel_follow_icon"></i>'+STR_SPACE+STR_SPACE+STR_VIDEOS),Main_innerHTML("channel_content_titley_1",'<i class="icon-movie stream_channel_follow_icon"></i>'+STR_SPACE+STR_SPACE+STR_CLIPS),Main_innerHTML("channel_content_titley_2",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+STR_SPACE+STR_SPACE+STR_FOLLOW)}function Main_IconLoad(lable,icon,string){Main_innerHTML(lable,'<div style="vertical-align: middle; display: inline-block;"><i class="'+icon+'" style="color: #FFFFFF;"></i></div><div style="vertical-align: middle; display: inline-block;">'+STR_SPACE+string+"</div>")}function Main_HideElement(element){document.getElementById(element).classList.add("hide")}function Main_ShowElement(element){document.getElementById(element).classList.remove("hide")}function Main_isElementShowing(element){return-1===document.getElementById(element).className.indexOf("hide")}function Main_AddClass(element,mclass){document.getElementById(element).classList.add(mclass)}function Main_RemoveClass(element,mclass){document.getElementById(element).classList.remove(mclass)}function Main_innerHTML(div,value){document.getElementById(div).innerHTML=value}function Main_textContent(div,value){document.getElementById(div).textContent=value}function Main_replaceClassEmoji(div){var emojiel=document.getElementById(div).getElementsByClassName("emoji");if(emojiel){for(var i=0;i<emojiel.length;i++)emojiel[i].classList.add("emoticon");for(emojiel=document.getElementById(div).getElementsByClassName("emoticon"),i=0;i<emojiel.length;i++)emojiel[i].classList.remove("emoji")}}function Main_showLoadDialog(){Main_YRst(-1),Main_ShowElement("dialog_loading")}function Main_HideLoadDialog(){Main_HideElement("dialog_loading")}function Main_clearExitDialog(){window.clearTimeout(Main_ExitDialogID)}function Main_setExitDialog(){Main_ExitDialogID=window.setTimeout(Main_HideExitDialog,6e3)}function Main_showExitDialog(){Main_setExitDialog(),Main_ShowElement("main_dialog_exit"),document.body.addEventListener("keydown",Main_ExitDialog,!1)}function Main_HideExitDialog(){document.body.removeEventListener("keydown",Main_ExitDialog,!1),Main_SwitchScreenAction(),Main_clearExitDialog(),Main_HideElement("main_dialog_exit"),Main_ExitCursor=0,Main_ExitCursorSet()}function Main_ExitCursorSet(){Main_RemoveClass("exit_app_cancel","button_dialog_focused"),Main_RemoveClass("exit_app_minimize","button_dialog_focused"),Main_RemoveClass("exit_app_close","button_dialog_focused"),Main_AddClass(Main_ExitCursor?1===Main_ExitCursor?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_dialog_focused")}function Main_CounterDialogRst(){Main_empty("dialog_counter_text")}function Main_CounterDialog(x,y,coloumns,total){0<total?Main_textContent("dialog_counter_text",y*coloumns+(x+1)+"/"+total):Main_CounterDialogRst()}function Main_showWarningDialog(text){Main_innerHTML("dialog_warning_text",text),Main_ShowElement("dialog_warning")}function Main_HideWarningDialog(){Main_HideElement("dialog_warning")}function Main_AboutDialogUpdateTime(){Main_innerHTML("about_runningtime",STR_RUNNINGTIME+STR_SPACE+Play_timeDay(Date.now()-Main_RunningTime))}function Main_showAboutDialog(){Main_HideControlsDialog(),Main_AboutDialogUpdateTime(),Main_ShowElement("dialog_about")}function Main_HideAboutDialog(){Main_HideElement("dialog_about")}function Main_isAboutDialogShown(){return Main_isElementShowing("dialog_about")}function Main_showSettings(){Main_HideControlsDialog(),Main_HideWarningDialog(),Main_ExitCurrent(Main_values.Main_Go),Main_CounterDialogRst(),Settings_init()}function Main_showControlsDialog(){Main_HideAboutDialog(),Main_ShowElement("dialog_controls")}function Main_HideControlsDialog(){Main_HideElement("dialog_controls")}function Main_isControlsDialogShown(){return Main_isElementShowing("dialog_controls")}function Main_addCommas(value){return(value+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Main_videoqualitylang(video_height,average_fps,language){return(video_height+="").indexOf("x")||(video_height=video_height.slice(-3)),video_height+"p"+(average_fps=58<average_fps?60:average_fps<32?30:Math.ceil(average_fps))+(""!==language?" ["+language.toUpperCase()+"]":"")}function Main_is_rerun(content){return-1===(content+"").indexOf("live")}function Main_ThumbNull(y,x,thumbnail){return null!==document.getElementById(thumbnail+y+"_"+x)}function Main_ReStartScreens(){Main_updateclock(),Main_SwitchScreen(),document.body.addEventListener("keyup",Main_handleKeyUp,!1)}function Main_SwitchScreen(removekey){Main_ready(function(){Main_SwitchScreenAction(removekey)})}function Main_RemoveKeys(){Main_values.Main_Go===Main_ChannelContent?document.body.removeEventListener("keydown",ChannelContent_handleKeyDown):Main_values.Main_Go===Main_Users?document.body.removeEventListener("keydown",Users_handleKeyDown):(Main_values.Main_Go===Main_Live?inUseObj=Live:Main_values.Main_Go===Main_aGame?inUseObj=AGame:Main_values.Main_Go===Main_Featured?inUseObj=Featured:Main_values.Main_Go===Main_games?inUseObj=Game:Main_values.Main_Go===Main_ChannelClip?inUseObj=ChannelClip:Main_values.Main_Go===Main_Vod?inUseObj=Vod:Main_values.Main_Go===Main_Clip?inUseObj=Clip:Main_values.Main_Go===Main_AGameClip?inUseObj=AGameClip:Main_values.Main_Go===Main_usergames?inUseObj=UserGames:Main_values.Main_Go===Main_AGameVod?inUseObj=AGameVod:Main_values.Main_Go===Main_UserVod?inUseObj=UserVod:Main_values.Main_Go===Main_ChannelVod?inUseObj=ChannelVod:Main_values.Main_Go===Main_UserHost?inUseObj=UserHost:Main_values.Main_Go===Main_UserLive?inUseObj=UserLive:Main_values.Main_Go===Main_UserChannels?inUseObj=UserChannels:Main_values.Main_Go===Main_SearchGames?inUseObj=SearchGames:Main_values.Main_Go===Main_SearchLive?inUseObj=SearchLive:Main_values.Main_Go===Main_SearchChannels&&(inUseObj=SearchChannels),document.body.removeEventListener("keydown",Screens_handleKeyDown))}var Main_Switchobj={};function Main_SwitchScreenAction(removekey){Main_HideWarningDialog(),Main_values.Main_Go!==Main_ChannelContent&&(Main_values.Main_BeforeChannelisSet=!1),Main_values.Main_Go!==Main_aGame&&(Main_values.Main_BeforeAgameisSet=!1),Main_CounterDialogRst(),Main_Switchobj[Main_values.Main_Go]?Main_Switchobj[Main_values.Main_Go]():Main_Switchobj[1](),removekey&&Main_RemoveKeys()}function Main_OpenSearch(){Main_values.Search_isSearching||(Main_values.Main_BeforeSearch=Main_values.Main_Go),Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_Search,Main_HideWarningDialog(),Main_CounterDialogRst(),Search_init()}function Main_SaveValues(){Main_setItem("Main_values",JSON.stringify(Main_values))}function Main_RestoreValues(){Main_values=Screens_assign(Main_values,Main_getItemJson("Main_values",{}))}Main_Switchobj[Main_Users]=Users_init,Main_Switchobj[Main_ChannelContent]=ChannelContent_init,Main_Switchobj[Main_SearchChannels]=function(){inUseObj=SearchChannels,Screens_init()},Main_Switchobj[Main_SearchLive]=function(){inUseObj=SearchLive,Screens_init()},Main_Switchobj[Main_SearchGames]=function(){inUseObj=SearchGames,Screens_init()},Main_Switchobj[Main_UserChannels]=function(){inUseObj=UserChannels,Screens_init()},Main_Switchobj[Main_UserLive]=function(){inUseObj=UserLive,Screens_init()},Main_Switchobj[Main_UserHost]=function(){inUseObj=UserHost,Screens_init()},Main_Switchobj[Main_usergames]=function(){inUseObj=UserGames,Screens_init()},Main_Switchobj[Main_ChannelVod]=function(){inUseObj=ChannelVod,Screens_init()},Main_Switchobj[Main_UserVod]=function(){inUseObj=UserVod,Screens_init()},Main_Switchobj[Main_Live]=function(){inUseObj=Live,Screens_init()},Main_Switchobj[Main_Featured]=function(){inUseObj=Featured,Screens_init()},Main_Switchobj[Main_AGameClip]=function(){inUseObj=AGameClip,Screens_init()},Main_Switchobj[Main_AGameVod]=function(){inUseObj=AGameVod,Screens_init()},Main_Switchobj[Main_Clip]=function(){inUseObj=Clip,Screens_init()},Main_Switchobj[Main_Vod]=function(){inUseObj=Vod,Screens_init()},Main_Switchobj[Main_ChannelClip]=function(){inUseObj=ChannelClip,Screens_init()},Main_Switchobj[Main_aGame]=function(){inUseObj=AGame,Screens_init()},Main_Switchobj[Main_games]=function(){inUseObj=Game,Screens_init()};var Main_ExitCurrentobj={};function Main_ExitCurrent(ExitCurrent){Main_ExitCurrentobj[ExitCurrent]&&Main_ExitCurrentobj[ExitCurrent](),Main_isElementShowing("settings_holder")&&Settings_exit()}function Main_RestoreTopLabel(){Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE),Main_HideElement("label_side_panel")}function Main_cleanTopLabel(){Main_ShowElement("label_side_panel")}function Main_videoCreatedAt(time){return time=new Date(time),Main_IsDayFirst?time.getDate()+" "+STR_MONTHS[time.getMonth()]+" "+time.getFullYear():STR_MONTHS[time.getMonth()]+" "+time.getDate()+" "+time.getFullYear()}function Main_checkVersion(){if(Main_IsNotBrowser){var value,Main_tvModel,Appversion=null,TizenVersion=null,fw=null;try{Appversion=tizen.application.getAppInfo().version,TizenVersion=tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version"),fw=webapis.productinfo.getFirmware(),Main_tvModel=webapis.productinfo.getModel(),console.log("App version: "+Main_minversion)}catch(e){}null!==Appversion&&null!==TizenVersion&&null!==Main_tvModel&&null!==fw&&(Main_versionTag="APP "+STR_VERSION+Appversion+"."+Main_minversion+(Main_isReleased?"":'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;"> TEST ONLY</div><br><div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">Don\'t use this version unless you are testing or debugging... Go back to github and download the correct release zip that is only 12kb</div>')+STR_BR+"Tizen "+STR_VERSION+TizenVersion+STR_SPACE+STR_SPACE+"|"+STR_SPACE+STR_SPACE+"TV: "+Main_tvModel+STR_SPACE+STR_SPACE+"|"+STR_SPACE+STR_SPACE+"FW: "+fw+STR_BR,Appversion=Appversion.split("."),value=parseInt(Appversion[0]+Appversion[1]+Appversion[2]),Main_innerHTML("dialog_about_text",STR_ABOUT_INFO_HEADER+Main_versionTag+'<div id="about_runningtime"></div>'+STR_ABOUT_INFO_0),Main_isReleased||console.log("Tizen "+STR_VERSION+TizenVersion+" | TV: "+Main_tvModel+" | FW: "+fw),value<Main_version&&Main_ShowElement("label_update"))}Main_RunningTime=Date.now()}function Main_empty(el){for(el=document.getElementById(el);el.firstChild;)el.removeChild(el.firstChild)}function Main_YRst(y){Main_cursorYAddFocus=y}function Main_YchangeAddFocus(y){var position=0;return Main_cursorYAddFocus<y?position=-1:y<Main_cursorYAddFocus&&(position=1),Main_cursorYAddFocus=y,position}function Main_handleKeyUp(){Main_addFocusFinish=!0}function Main_keyClickDelay(){Main_LastClickFinish=!0}function Main_keyClickDelayStart(){Main_LastClickFinish=!1,window.setTimeout(Main_keyClickDelay)}function Main_CantClick(){return!Main_LastClickFinish||!Main_addFocusFinish}function Main_ThumbOpenIsNull(id,thumbnail){return null===document.getElementById(thumbnail+id)}function Main_OpenLiveStream(playing,idsArray,handleKeyDownFunction){Main_ThumbOpenIsNull(playing,idsArray[0])||(document.body.removeEventListener("keydown",handleKeyDownFunction),Main_values.Play_selectedChannel=JSON.parse(document.getElementById(idsArray[8]+playing).getAttribute(Main_DataAttribute)),Main_values.Play_selectedChannel_id=Main_values.Play_selectedChannel[1],Main_values.IsRerun=Main_values.Play_selectedChannel[2],Main_values.Play_selectedChannel=Main_values.Play_selectedChannel[0],Main_values.Play_isHost=Main_values.Main_Go===Main_UserHost&&!Play_UserLiveFeedPressed,Main_values.Play_isHost?(Main_values.Play_DisplaynameHost=document.getElementById(idsArray[3]+playing).textContent,Main_values.Play_selectedChannelDisplayname=Main_values.Play_DisplaynameHost.split(STR_USER_HOSTING)[1]):Main_values.Play_selectedChannelDisplayname=document.getElementById(idsArray[3]+playing).textContent,playing=document.getElementById(idsArray[5]+playing).textContent,Main_values.Play_gameSelected=-1!==playing.indexOf(STR_PLAYING)?playing.split(STR_PLAYING)[1]:"",Main_values.Main_Go===Main_aGame&&(Main_values.Main_OldgameSelected=Main_values.Main_gameSelected),Main_openStream())}function Main_openStream(){document.body.removeEventListener("keydown",Play_handleKeyDown),document.body.addEventListener("keydown",Play_handleKeyDown,!1),Main_HideElement("scene1"),Main_ShowElement("scene2"),Play_hidePanel(),Play_EndDialogEnter||Play_HideEndDialog(),Main_ready(Play_Start)}function Main_OpenClip(id,idsArray,handleKeyDownFunction){Main_ThumbOpenIsNull(id,idsArray[0])||(document.body.removeEventListener("keydown",handleKeyDownFunction),ChannelClip_playUrl=JSON.parse(document.getElementById(idsArray[8]+id).getAttribute(Main_DataAttribute)),PlayClip_DurationSeconds=parseInt(ChannelClip_playUrl[1]),Main_values.Play_gameSelected=ChannelClip_playUrl[2],Main_values.Main_selectedChannel=ChannelClip_playUrl[3],Main_values.Main_selectedChannelDisplayname=ChannelClip_playUrl[4],Main_values.Main_selectedChannelLogo=ChannelClip_playUrl[5],Main_values.Main_selectedChannel_id=ChannelClip_playUrl[6],Main_values.ChannelVod_vodId=ChannelClip_playUrl[7],ChannelVod_vodOffset=parseInt(ChannelClip_playUrl[8]),ChannelClip_title=ChannelClip_playUrl[9],ChannelClip_language=ChannelClip_playUrl[10],ChannelClip_game=""!==ChannelClip_playUrl[2]?STR_PLAYING+ChannelClip_playUrl[2]:"",ChannelClip_createdAt=ChannelClip_playUrl[11],ChannelClip_views=ChannelClip_playUrl[12],ChannelClip_playUrl2=ChannelClip_playUrl[13].split("-preview")[0]+".mp4",ChannelClip_playUrl=ChannelClip_playUrl[0],document.body.addEventListener("keydown",PlayClip_handleKeyDown,!1),Main_HideElement("scene1"),Main_ShowElement("scene2"),Play_hideChat(),Play_clearPause(),Play_HideWarningDialog(),Play_CleanHideExit(),Main_ready(PlayClip_Start))}function Main_OpenVod(id,idsArray,handleKeyDownFunction){Main_ThumbOpenIsNull(id,idsArray[0])||(document.body.removeEventListener("keydown",handleKeyDownFunction),Main_values.ChannelVod_vodId=JSON.parse(document.getElementById(idsArray[8]+id).getAttribute(Main_DataAttribute)),ChannelVod_DurationSeconds=parseInt(Main_values.ChannelVod_vodId[6]),ChannelVod_Duration=STR_DURATION+Play_timeS(ChannelVod_DurationSeconds),ChannelVod_language=Main_values.ChannelVod_vodId[9],Main_values.Play_gameSelected=Main_values.ChannelVod_vodId[10],null===Main_values.Play_gameSelected&&(Main_values.Play_gameSelected=""),Main_values.Main_selectedChannelDisplayname=Main_values.ChannelVod_vodId[1],ChannelVod_createdAt=Main_values.ChannelVod_vodId[2],ChannelVod_title=Main_values.ChannelVod_vodId[3],ChannelVod_game=""!==Main_values.Play_gameSelected&&null!==Main_values.Play_gameSelected?STR_STARTED+STR_PLAYING+Main_values.Play_gameSelected:"",ChannelVod_views=Main_values.ChannelVod_vodId[4],Main_values.Main_selectedChannel_id=Main_values.ChannelVod_vodId[13],Main_values.Main_selectedChannelLogo=Main_values.ChannelVod_vodId[14],Main_values.Main_selectedChannelPartner=Main_values.ChannelVod_vodId[15],Main_values.Main_selectedChannel=Main_values.ChannelVod_vodId[11],Play_IncrementView=Main_values.ChannelVod_vodId[12],Main_values.ChannelVod_vodId=Main_values.ChannelVod_vodId[8].substr(1),Main_openVod())}function Main_openVod(){document.body.addEventListener("keydown",PlayVod_handleKeyDown,!1),Main_HideElement("scene1"),Main_ShowElement("scene2"),PlayVod_hidePanel(),Play_hideChat(),Play_clearPause(),Play_CleanHideExit(),Main_ready(PlayVod_Start)}function Main_ScrollTable(id,position){document.getElementById(id).style.top=position?position/BodyfontSize+"em":"",window.setTimeout(Main_handleKeyUp,10)}function Main_ScrollTableCalc(id,position,percentage){document.getElementById(id).style.top="calc("+percentage+"% + "+position/BodyfontSize+"em)",window.setTimeout(Main_handleKeyUp,10)}function Main_removeFocus(id,idArray){Main_addFocusFinish=!1,Main_RemoveClass(idArray[0]+id,Main_classThumb)}function Main_Checktylesheet(){console.log("Main_Checktylesheet");var span=document.createElement("span");span.className="fa",span.style.display="none",document.body.insertBefore(span,document.body.firstChild),Main_ready(function(){"icons"!==window.getComputedStyle(span,null).getPropertyValue("font-family")?(console.log("Main_Checktylesheet reloading"),Main_LoadStylesheet("https://brian91292.github.io/smarttv-twitch/release/githubio/css/font-awesome.min.css"),Main_LoadStylesheet("https://brian91292.github.io/smarttv-twitch/release/githubio/css/master.css")):console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(span)})}function Main_LoadStylesheet(path){var link=document.createElement("link");link.rel="stylesheet",link.href=path,document.getElementsByTagName("head")[0].appendChild(link)}function Main_ready(func){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(func):document.addEventListener("DOMContentLoaded",func)}function Main_getclock(){var date=(new Date).getTime()+Main_ClockOffset,date=new Date(date),dayMonth=Main_IsDayFirst?STR_DAYS[date.getDay()]+" "+date.getDate()+" "+STR_MONTHS[date.getMonth()]:STR_DAYS[date.getDay()]+" "+STR_MONTHS[date.getMonth()]+" "+date.getDate();return dayMonth+" "+Play_lessthanten(date.getHours())+":"+Play_lessthanten(date.getMinutes())}function Main_updateclock(){document.hidden||(Main_textContent("label_clock",Main_getclock()),Main_RunningTime&&Main_AboutDialogUpdateTime(),Main_randomimg="?"+Math.random())}function Main_RandomInt(){return parseInt(1e9*Math.random())}function Main_updateUserFeed(){AddUser_UserIsSet()&&window.setTimeout(function(){document.hidden||UserLiveFeed_isFeedShow()||Sidepannel_isShowing()||UserLiveFeed_loadingData||(Play_FeedOldUserName=AddUser_UsernameArray[0].name,UserLiveFeed_StartLoad())},15e3)}function Main_ExitDialog(event){switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Main_HideExitDialog();break;case KEY_RIGHT:2<++Main_ExitCursor&&(Main_ExitCursor=0),Main_ExitCursorSet(),Main_clearExitDialog(),Main_setExitDialog();break;case KEY_LEFT:--Main_ExitCursor<0&&(Main_ExitCursor=2),Main_ExitCursorSet(),Main_clearExitDialog(),Main_setExitDialog();break;case KEY_ENTER:Main_IsNotBrowser&&Main_ExitCursor?1===Main_ExitCursor?(Main_HideExitDialog(),tizen.application.getCurrentApplication().hide()):2===Main_ExitCursor&&tizen.application.getCurrentApplication().exit():Main_HideExitDialog()}}function Main_ReloadScreen(){Screens_clear=!0,ChannelContent_clear=!0,Main_values.Main_Go!==Main_ChannelContent&&(Main_values.Main_BeforeChannelisSet=!1),Main_values.Main_Go!==Main_aGame&&(Main_values.Main_BeforeAgameisSet=!1),Main_CounterDialogRst(),Main_values.Main_Go===Main_ChannelContent?ChannelContent_StartLoad():Main_values.Main_Go===Main_Users?Users_StartLoad():Main_values.Main_Go===Main_usergames?(inUseObj=UserGames,inUseObj.loadingData||inUseObj.key_refresh()):(Main_values.Main_Go===Main_Live?inUseObj=Live:Main_values.Main_Go===Main_Featured?inUseObj=Featured:Main_values.Main_Go===Main_aGame?inUseObj=AGame:Main_values.Main_Go===Main_games?inUseObj=Game:Main_values.Main_Go===Main_Vod?inUseObj=Vod:Main_values.Main_Go===Main_Clip?inUseObj=Clip:Main_values.Main_Go===Main_AGameClip?inUseObj=AGameClip:Main_values.Main_Go===Main_ChannelClip?inUseObj=ChannelClip:Main_values.Main_Go===Main_AGameVod?inUseObj=AGameVod:Main_values.Main_Go===Main_UserVod?inUseObj=UserVod:Main_values.Main_Go===Main_ChannelVod?inUseObj=ChannelVod:Main_values.Main_Go===Main_UserHost?inUseObj=UserHost:Main_values.Main_Go===Main_UserLive?inUseObj=UserLive:Main_values.Main_Go===Main_UserChannels?inUseObj=UserChannels:Main_values.Main_Go===Main_SearchGames?inUseObj=SearchGames:Main_values.Main_Go===Main_SearchLive?inUseObj=SearchLive:Main_values.Main_Go===Main_SearchChannels&&(inUseObj=SearchChannels),Screens_StartLoad())}function Main_setItem(item,value){preventSave||localStorage.setItem(item,value)}function Main_getItemInt(value,default_value){value=parseInt(localStorage.getItem(value));return value||0===value?value:default_value}function Main_getItemJson(item,default_value){return JSON.parse(localStorage.getItem(item))||default_value}function Main_getItemBool(item,default_value){var default_string=default_value.toString();return(localStorage.getItem(item)||default_string)===default_string?default_value:!default_value}function Main_PrintUnicode(string){console.log(string);for(var i=0;i<string.length;i++)console.log("Character is: "+string.charAt(i)+" it's Unicode is: \\u"+string.charCodeAt(i).toString(16).toUpperCase())}function BasexmlHttpGet(theUrl,Timeout,HeaderQuatity,access_token,callbackSucess,calbackError){var xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=Timeout,Main_Headers[2][1]=access_token;for(var i=0;i<HeaderQuatity;i++)xmlHttp.setRequestHeader(Main_Headers[i][0],Main_Headers[i][1]);xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?callbackSucess(xmlHttp.responseText):2<HeaderQuatity&&(401===xmlHttp.status||403===xmlHttp.status)?AddCode_refreshTokens(0,0,Screens_loadDataRequestStart,Screens_loadDatafail):calbackError())},xmlHttp.send(null)}function BasexmlHttpGetBack(theUrl,Timeout,HeaderQuatity,access_token,callbackSucess,calbackError){var xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=Timeout,Main_Headers_Backup[2][1]=access_token;for(var i=0;i<HeaderQuatity;i++)xmlHttp.setRequestHeader(Main_Headers_Backup[i][0],Main_Headers_Backup[i][1]);xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?callbackSucess(xmlHttp.responseText):2<HeaderQuatity&&(401===xmlHttp.status||403===xmlHttp.status)?AddCode_refreshTokens(0,0,Screens_loadDataRequestStart,Screens_loadDatafail):calbackError())},xmlHttp.send(null)}Main_ExitCurrentobj[Main_Users]=Users_exit,Main_ExitCurrentobj[Main_ChannelContent]=ChannelContent_exit,Main_ExitCurrentobj[Main_SearchChannels]=Screens_exit,Main_ExitCurrentobj[Main_SearchLive]=Screens_exit,Main_ExitCurrentobj[Main_SearchGames]=Screens_exit,Main_ExitCurrentobj[Main_UserChannels]=Screens_exit,Main_ExitCurrentobj[Main_UserLive]=Screens_exit,Main_ExitCurrentobj[Main_UserHost]=Screens_exit,Main_ExitCurrentobj[Main_usergames]=Screens_exit,Main_ExitCurrentobj[Main_ChannelVod]=Screens_exit,Main_ExitCurrentobj[Main_UserVod]=Screens_exit,Main_ExitCurrentobj[Main_Live]=Screens_exit,Main_ExitCurrentobj[Main_Featured]=Screens_exit,Main_ExitCurrentobj[Main_AGameClip]=Screens_exit,Main_ExitCurrentobj[Main_AGameVod]=Screens_exit,Main_ExitCurrentobj[Main_Clip]=Screens_exit,Main_ExitCurrentobj[Main_Vod]=Screens_exit,Main_ExitCurrentobj[Main_ChannelClip]=Screens_exit,Main_ExitCurrentobj[Main_aGame]=Screens_exit,Main_ExitCurrentobj[Main_games]=Screens_exit;var Main_VideoSizeAll=["384x216","512x288","640x360","896x504","1280x720"],Main_GameSizeAll=["179x250","272x380","340x475","476x665","773x1080"],Main_SidePannelSizeAll=["640x360","896x504","1280x720","1536x864","1920x1080"],Main_SidePannelSize="1280x720",Main_VideoSize="640x360",Main_GameSize="340x475";function Main_SetThumb(){Main_VideoSize=Main_VideoSizeAll[Settings_value.thumb_quality.defaultValue],Main_GameSize=Main_GameSizeAll[Settings_value.thumb_quality.defaultValue],Main_SidePannelSize=Main_SidePannelSizeAll[Settings_value.thumb_quality.defaultValue]}function Main_ReplaceLargeFont(text){return text.replace(/[^\x00-\x7F]/g,function(match){return'<span style="font-size: 0.8em;">'+match+"</span>"})}function Main_Slice(arrayTocopy){for(var array=[],i=0;i<arrayTocopy.length;i++)array.push(arrayTocopy[i]);return array}function Main_A_includes_B(A,B){return!!A&&-1!==A.indexOf(B)}var Play_ChatPositionsBF,Play_ChatEnableBF,Play_ChatSizeValueBF,Play_EndUpclearID,Play_EndUpclearCalback,Play_IsRerun_Old,Play_selectedChannel_Old,Play_isHost_Old,Play_Main_isHost_Old,Play_DisplaynameHost_Old,Play_selectedChannelDisplayname_Old,Play_gameSelected_Old,Play_ResumeAfterOnlineId,Play_chat_container,Play_ProgresBarrElm,Play_avplay,Play_ChatPositions=0,Play_ChatPositionConvertBefore=Play_ChatPositions,Play_PlayerPanelOffset=-5,Play_ChatBackground=.55,Play_ChatSizeValue=2,Play_SingleClickExit=0,Play_MaxChatSizeValue=4,Play_LowLatency=!1,Play_CanLowLatency=!0,Play_PanelHideID=null,Play_quality="source",Play_qualityPlaying=Play_quality,Play_isFullScreen=!0,Play_isHost=!1,Play_FeedOldUserName="",Play_FeedPos=0,Play_Buffer=2e3,Play_CurrentSpeed=3,Play_onPlayerCounter=0,Play_TizenVersion=2.4,Play_EndUpclear=!1,Play_EndDialogEnter=0,Play_EndFocus=!1,Play_Temp_selectedChannelDisplayname="",Play_STATE_LOADING_TOKEN=0,Play_STATE_LOADING_PLAYLIST=1,Play_STATE_PLAYING=2,Play_state=0,Play_streamInfoTimerId=null,Play_tokenResponse=0,Play_playlistResponse=0,Play_playingTry=0,Play_playingUrl="",Play_qualities=[],Play_qualityIndex=0,Play_ChatEnable=!1,Play_exitID=null,Play_selectedChannel_id_Old=null,Play_pauseEndID=null,Play_pauseStartID=null,Play_created="",Play_loadingDataTry=0,Play_loadingDataTryMax=5,Play_loadingInfoDataTry=0,Play_loadingInfoDataTryMax=5,Play_ResumeAfterOnlineCounter=0,Play_isOn=!1,Play_ChatBackgroundID=null,Play_qualitiesFound=!1,Play_PlayerTime=0,Play_streamCheckId=null,Play_PlayerCheckCount=0,Play_PlayerCheckCounter=0,Play_PlayerCheckQualityChanged=!1,Play_PlayerCheckRun=!1,Play_Playing=!1,Play_IsWarning=!1,Play_LoadLogoSucess=!1,Play_loadingInfoDataTimeout=1e4,Play_loadingDataTimeout=2e3,Play_Lang="",Play_Endcounter=0,Play_EndTextCounter=3,Play_EndSettingsCounter=3,Play_EndTextID=null,Play_DialogEndText="",Play_currentTime=0,Play_watching_time=0,Play_ChatDelayPosition=0,Play_TargetHost="",Play_isLive=!0,Play_RestoreFromResume=!1,Play_PlayerCheckTimer=7,Play_PlayerCheckInterval=1e3,Play_updateStreamInfoErrorTry=0,Play_IncrementView="",Play_DefaultjumpTimers=[],Play_UserLiveFeedPressed=!1,Play_ChatPositionVal=[{top:51.8,left:75.1,sizeOffset:[31,16,0,-25.2,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,-19.5,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,-19.5,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,-25.2,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,-25.2,0]}],Play_ChatPositionsBefore=[0,0,0,1,2,2,2,1],Play_ChatPositionsAfter=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Play_ChatSizeVal=[{containerHeight:17,percentage:"12.5%",dialogTop:-25},{containerHeight:32,percentage:"25%",dialogTop:-40},{containerHeight:48,percentage:"50%",dialogTop:-60},{containerHeight:73,percentage:"75%",dialogTop:-80},{containerHeight:99.6,percentage:"100%",dialogTop:-120}],Play_ChatFontObj=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"],Play_BufferPercentage=0,Play_bufferingcomplete=!1,Play_oldcurrentTime=0,Play_offsettime=0,Play_offsettimeMinus=0;function Play_PreStart(){var avplay;if(Main_IsNotBrowser&&((avplay=document.createElement("object")).setAttribute("type","application/avplayer"),avplay.setAttribute("style","width:100%; height:100%; position: absolute;"),document.getElementById("scene2").appendChild(avplay),Play_avplay=window.tizen&&window.webapis.avplay||{},Play_TizenVersion=tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version")),Play_chat_container=document.getElementById("chat_container"),Play_ProgresBarrElm=document.getElementById("inner_progress_bar"),Play_ChatPositions=Main_getItemInt("ChatPositionsValue",0),Play_ChatSizeValue=Main_getItemInt("ChatSizeValue",2),Play_ChatEnable=Main_getItemBool("ChatEnable",!1),Play_isFullScreen=Main_getItemBool("Play_isFullScreen",!0),Play_ChatBackground=(.05*Main_values.ChatBackground).toFixed(2),Play_ChatDelayPosition=Main_getItemInt("Play_ChatDelayPosition",0),Play_LowLatency=Main_getItemBool("Play_LowLatency",!1),parseFloat(Play_TizenVersion)<2.4)Play_CanLowLatency=Play_LowLatency=!1;else try{webapis.preview.setPreviewData("{}")}catch(ex){console.log(ex.message)}Play_ClearPlayer(),Play_ChatSize(!1),Play_ChatBackgroundChange(!1),Play_SetChatFont(),Main_innerHTML("user_feed_notify_img_holder",'<img id="user_feed_notify_img" alt="" class="notify_img" src="'+IMG_404_LOGO+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+"'\" >");Main_Headers=[["Client-ID",AddCode_clientId],[Main_AcceptHeader,Main_TwitchV5Json],[Main_Authorization,null]],Main_Headers_Backup=[["Client-ID",AddCode_client_backup],[Main_AcceptHeader,Main_TwitchV5Json],[Main_Authorization,null]]}function Play_SetAvPlayGlobal(){try{Play_avplay.stop(),Play_avplay.close(),Play_avplay.open("https://brian91292.github.io/smarttv-twitch/release/githubio/images/temp.mp4")}catch(e){console.log(e+" Play_SetAvPlayGlobal()")}Play_SetFullScreen(Play_isFullScreen),Play_avplay.setListener(PlayStart_listener),Play_avplay.prepareAsync()}var PlayStart_listener={onstreamcompleted:function(){try{Play_avplay.stop(),Play_avplay.close()}catch(e){console.log(e+" PlayStart_listener")}}},Play_isFullScreenold=!0;function Play_SetFullScreen(isfull){Play_isFullScreenold!==Play_isFullScreen?(Play_isFullScreenold=Play_isFullScreen,isfull?void 0!==Play_ChatPositionsBF&&(Play_ChatPositions=Play_ChatPositionsBF,Play_ChatSizeValue=Play_ChatSizeValueBF,(Play_ChatEnable=Play_ChatEnableBF)||Play_hideChat(),Play_ChatSize(!1)):(Play_ChatPositionsBF=Play_ChatPositions,Play_ChatEnableBF=Play_ChatEnable,Play_ChatSizeValueBF=Play_ChatSizeValue,Play_ChatPositions=0,Play_showChat(),Play_ChatSizeValue=Play_MaxChatSizeValue,Play_ChatPositionConvert(Play_ChatEnable=!0),Play_ChatSize(!1),Chat_div&&(Chat_div.scrollTop=Chat_div.scrollHeight)),Play_setDisplayRect(isfull),Main_setItem("Play_isFullScreen",Play_isFullScreen)):Play_setDisplayRect(isfull)}function Play_setDisplayRect(isfull){if(isfull)try{Play_avplay.setDisplayRect(0,0,screen.width,screen.height)}catch(e){console.log(e+" Play_SetFullScreen true")}else try{Play_avplay.setDisplayRect(0,.25*screen.height/2,.75*screen.width,.75*screen.height)}catch(e){console.log(e+" Play_SetFullScreen false")}}function Play_SetChatFont(){for(var i=0;i<Play_ChatFontObj.length;i++)Main_RemoveClass("chat_inner_container",Play_ChatFontObj[i]);Main_AddClass("chat_inner_container",Play_ChatFontObj[Main_values.Chat_font_size])}function Play_Start(){Play_showBufferDialog(),Main_empty("stream_info_title"),PlayClip_HasVOD=!(Play_LoadLogoSucess=!1),Play_LoadLogo(document.getElementById("stream_info_icon"),IMG_404_LOGO_TEMP),document.getElementById("controls_"+Play_controlsOpenVod).style.display="none",document.getElementById("controls_"+Play_controlsChatDelay).style.display="",document.getElementById("controls_"+Play_controlsLowLatency).style.display=Play_CanLowLatency?"":"none",Play_CurrentSpeed=3,Play_IconsResetFocus(),PlayClip_HideShowNext(0,0),PlayClip_HideShowNext(1,0),Main_values.Play_WasPlaying=1,Main_SaveValues(),Play_isHost=Main_values.Play_isHost,Main_values.Play_isHost=!1,Play_RestoreFromResume=!1,Main_ShowElement("controls_holder"),Play_watching_time=Play_currentTime=0,Main_textContent("stream_watching_time",STR_WATCHING+Play_timeS(0)),Play_created=Play_timeMs(0),Main_textContent("stream_live_time",Play_created),Main_HideElement("progress_bar_div"),Play_offsettimeMinus=0,Play_UserLiveFeedPressed=!1,Play_EndDialogEnter||(Play_EndSet(1),UserLiveFeed_SetFeedPicText()),Play_PlayerPanelOffset=-5,Play_PlayerCheckCount=Play_PlayerCheckCounter=Play_updateStreamInfoErrorTry=0,window.clearInterval(Play_streamCheckId),Play_PlayerCheckRun=!1,Play_loadingInfoDataTimeout=3e3,Play_isLive=!(Play_loadingInfoDataTry=0),Play_Playing=!(Play_isOn=!(Play_playingTry=Play_playlistResponse=Play_tokenResponse=Play_qualitiesFound=0)),Play_state=Play_STATE_LOADING_TOKEN,document.addEventListener("visibilitychange",Play_Resume,!1),document.body.removeEventListener("keyup",Main_handleKeyUp),Play_updateStreamInfoStart(),Play_loadData(),window.clearInterval(Play_streamInfoTimerId),Play_streamInfoTimerId=window.setInterval(Play_updateStreamInfo,6e4)}var Play_CheckIfIsLiveStartCounter=0,Play_CheckIfIsLiveStartChannel=0,Play_CheckIfIsLiveStartCallback=0;function Play_CheckIfIsLiveStart(callback){Main_ThumbOpenIsNull(Play_FeedPos,UserLiveFeed_ids[0])||(Play_showBufferDialog(),Play_CheckIfIsLiveStartCounter=0,Play_CheckIfIsLiveStartCallback=callback,Play_CheckIfIsLiveStartChannel=JSON.parse(document.getElementById(UserLiveFeed_ids[8]+Play_FeedPos).getAttribute(Main_DataAttribute))[0],Play_Temp_selectedChannelDisplayname=document.getElementById(UserLiveFeed_ids[3]+Play_FeedPos).textContent,Play_CheckIfIsLive())}function Play_CheckIfIsLive(){var theUrl="https://api.twitch.tv/api/channels/"+Play_CheckIfIsLiveStartChannel+"/access_token",xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=Play_loadingDataTimeout,xmlHttp.setRequestHeader(Main_clientIdHeader,Main_Headers_Backup[0][1]),xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status&&(Play_tokenResponse=JSON.parse(xmlHttp.responseText)).hasOwnProperty("token")&&Play_tokenResponse.hasOwnProperty("sig")?(Play_CheckIfIsLiveStartCounter=0,Play_CheckIfIsLiveLink()):Play_CheckIfIsLiveError())},xmlHttp.send(null)}function Play_CheckIfIsLiveError(){Play_CheckIfIsLiveStartCounter<3?(Play_CheckIfIsLiveStartCounter++,Play_CheckIfIsLive()):Play_CheckIfIsLiveWarn()}function Play_CheckIfIsLiveWarn(){Play_HideBufferDialog(),Play_showWarningDialog(Play_Temp_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE),window.setTimeout(function(){Play_HideWarningDialog()},2e3)}function Play_CheckIfIsLiveLinkError(){Play_CheckIfIsLiveStartCounter<3?(Play_CheckIfIsLiveStartCounter++,Play_CheckIfIsLiveLink()):Play_CheckIfIsLiveWarn()}function Play_CheckIfIsLiveLink(){var theUrl="https://usher.ttvnw.net/api/channel/hls/"+Play_CheckIfIsLiveStartChannel+".m3u8?&token="+encodeURIComponent(Play_tokenResponse.token)+"&sig="+Play_tokenResponse.sig+"&reassignments_supported=true&playlist_include_framerate=true&allow_source=true&p="+Main_RandomInt(),xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=Play_loadingDataTimeout,xmlHttp.setRequestHeader(Main_clientIdHeader,Main_Headers_Backup[0][1]),xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?Play_CheckIfIsLiveStartCallback:Play_CheckIfIsLiveLinkError)()},xmlHttp.send(null)}function Play_Resume(){document.hidden?Play_isEndDialogVisible()?(Play_CleanHideExit(),Play_hideChat(),Play_shutdownStream()):(Play_ClearPlayer(),Play_offPlayer(),UserLiveFeed_Hide(!0),Play_Playing=!1,ChatLive_Clear(),window.clearInterval(Play_streamInfoTimerId),window.clearInterval(Play_streamCheckId)):(Play_isOn=!0,Play_clearPause(),Play_isOn&&(Play_showBufferDialog(),Play_loadingInfoDataTimeout=3e3,Play_RestoreFromResume=!(Play_loadingInfoDataTry=0),(Play_LoadLogoSucess?Play_updateStreamInfo:Play_updateStreamInfoStart)(),Play_ResumeAfterOnlineCounter=0,window.clearInterval(Play_ResumeAfterOnlineId),navigator.onLine?Play_ResumeAfterOnline():Play_ResumeAfterOnlineId=window.setInterval(Play_ResumeAfterOnline,100),window.clearInterval(Play_streamInfoTimerId),Play_streamInfoTimerId=window.setInterval(Play_updateStreamInfo,6e4)))}function Play_ResumeAfterOnline(){(navigator.onLine||200<Play_ResumeAfterOnlineCounter)&&(window.clearInterval(Play_ResumeAfterOnlineId),Play_state=Play_STATE_LOADING_TOKEN,Play_loadData()),Play_ResumeAfterOnlineCounter++}function Play_updateStreamInfoStart(){var theUrl=Main_kraken_api+"streams/"+Main_values.Play_selectedChannel_id+Main_TwithcV5Flag_I;BasexmlHttpGet(theUrl,Play_loadingInfoDataTimeout,2,null,Play_updateStreamInfoStartValues,Play_updateStreamInfoStartError,!1)}function Play_partnerIcon(name,div,islive,lang){div='<div class="partnericon_div"> '+name+STR_SPACE+STR_SPACE+"</div>"+(div?'<img class="partnericon_img" alt="" src="'+IMG_PARTNER+'">':"");islive&&(div+=STR_SPACE+STR_SPACE+'<div class="partnericon_text" style="background: #'+(Main_values.IsRerun?"FFFFFF; color: #000000;":"E21212;")+'">'+STR_SPACE+STR_SPACE+(Main_values.IsRerun?STR_NOT_LIVE:STR_LIVE)+STR_SPACE+STR_SPACE+"</div>"),div+='<div class="lang_text" ">'+STR_SPACE+STR_SPACE+lang+"</div>",Main_innerHTML("stream_info_name",div)}function Play_updateStreamInfoStartValues(response){var playing;AddUser_UserIsSet()?(AddCode_PlayRequest=!0,AddCode_Channel_id=Main_values.Play_selectedChannel_id,AddCode_CheckFollow()):Play_hideFollow(),null!==(response=JSON.parse(response)).stream&&(Main_values.IsRerun=Main_is_rerun(response.stream.broadcast_platform),Main_innerHTML("stream_info_title",twemoji.parse(response.stream.channel.status,!1,!0)),Main_values.Play_gameSelected=response.stream.game,Play_Lang=" ["+response.stream.channel.broadcaster_language.toUpperCase()+"]",Play_partnerIcon(Play_isHost?Main_values.Play_DisplaynameHost:Main_values.Play_selectedChannelDisplayname,response.stream.channel.partner,!0,Play_Lang),playing=""!==Main_values.Play_gameSelected?STR_PLAYING+Main_values.Play_gameSelected:"",Main_textContent("stream_info_game",playing),Main_innerHTML("stream_live_viewers",STR_SPACE+STR_FOR+Main_addCommas(response.stream.viewers)+STR_SPACE+STR_VIEWER),Main_values.Play_selectedChannelLogo=response.stream.channel.logo,Play_LoadLogoSucess=!0,Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Play_selectedChannelLogo),Play_created=response.stream.created_at,Play_controls[Play_controlsChanelCont].setLable(Main_values.Play_selectedChannelDisplayname),Play_controls[Play_controlsGameCont].setLable(Main_values.Play_gameSelected))}function Play_updateStreamInfoStartError(){Play_loadingInfoDataTry<Play_loadingInfoDataTryMax&&(Play_loadingInfoDataTimeout+=500,window.setTimeout(function(){Play_isOn&&Play_updateStreamInfoStart()},750)),Play_loadingInfoDataTry++}function Play_updateStreamInfo(){var theUrl=Main_kraken_api+"streams/"+Main_values.Play_selectedChannel_id+Main_TwithcV5Flag_I;BasexmlHttpGet(theUrl,3e3,2,null,Play_updateStreamInfoValues,Play_updateStreamInfoError,!1)}function Play_updateStreamInfoValues(response){null!==(response=JSON.parse(response)).stream&&(Main_innerHTML("stream_info_title",twemoji.parse(response.stream.channel.status,!1,!0)),Main_values.Play_gameSelected=response.stream.game,Main_textContent("stream_info_game",STR_PLAYING+Main_values.Play_gameSelected),Main_innerHTML("stream_live_viewers",STR_SPACE+STR_FOR+Main_addCommas(response.stream.viewers)+STR_SPACE+STR_VIEWER),Play_LoadLogoSucess||Play_LoadLogo(document.getElementById("stream_info_icon"),response.stream.channel.logo),Play_controls[Play_controlsChanelCont].setLable(Main_values.Play_selectedChannelDisplayname),Play_controls[Play_controlsGameCont].setLable(Main_values.Play_gameSelected))}function Play_updateStreamInfoError(){Play_updateStreamInfoErrorTry<Play_loadingInfoDataTryMax?(window.setTimeout(function(){Play_isOn&&Play_updateStreamInfo()},2500),Play_updateStreamInfoErrorTry++):Play_updateStreamInfoErrorTry=0}function Play_LoadLogo(ImgObjet,link){ImgObjet.onerror=function(){this.onerror=null,this.src=IMG_404_LOGO,Play_LoadLogoSucess=!1},ImgObjet.src=link}function Play_loadData(){Play_loadingDataTry=0,Play_loadingDataTimeout=2e3+(Play_RestoreFromResume?3e3:0),Play_loadDataRequest()}var Play_410ERROR=!0;function Play_loadDataRequest(){var theUrl;if(Play_state===Play_STATE_LOADING_TOKEN)theUrl=Play_live_token.replace("%x",Main_values.Play_selectedChannel);else{if(!Play_tokenResponse.hasOwnProperty("token")||!Play_tokenResponse.hasOwnProperty("sig"))return Play_410ERROR=!0,Main_isDebug&&console.log("Play_410ERROR "+Play_410ERROR),void Play_loadDataError();theUrl="https://usher.ttvnw.net/api/channel/hls/"+Main_values.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Play_tokenResponse.token)+"&sig="+Play_tokenResponse.sig+"&playlist_include_framerate=true&reassignments_supported=true&allow_source=true&fast_bread=true&cdm=wv&p="+Main_RandomInt()}var xmlHttp=new XMLHttpRequest;if(xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=Play_loadingDataTimeout,xmlHttp.setRequestHeader(Main_clientIdHeader,Main_Headers_Backup[0][1]),Play_Headers&&Play_Headers.length)for(var len=Play_Headers.length,i=0;i<len;i++)xmlHttp.setRequestHeader(Play_Headers[i][0],Play_Headers[i][1]);xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?(Play_loadingDataTry=0,Play_isOn&&Play_loadDataSuccess(xmlHttp.responseText)):403===xmlHttp.status||404===xmlHttp.status?(Play_loadDataErrorLog(xmlHttp),Play_loadDataErrorFinish(410===xmlHttp.status,403===xmlHttp.status)):(410===xmlHttp.status&&(Play_410ERROR=!0,Main_isDebug&&console.log("Play_410ERROR "+Play_410ERROR)),Play_loadDataErrorLog(xmlHttp),Play_loadDataError()))},xmlHttp.send(null)}function Play_loadDataErrorLog(xmlHttp){Main_isDebug&&(console.log(xmlHttp.status),console.log(xmlHttp.responseText))}function Play_loadDataError(){Play_isOn&&Play_isLive&&(++Play_loadingDataTry<Play_loadingDataTryMax+(Play_RestoreFromResume?7:0)?(Play_loadingDataTimeout+=250,Play_RestoreFromResume?window.setTimeout(Play_loadDataRequest,500):Play_loadDataRequest()):(Main_IsNotBrowser?Play_loadDataErrorFinish:Play_loadDataSuccessFake)())}function Play_loadDataErrorFinish(error_410,Isforbiden){Play_EndDialogEnter?(Play_EndDialogEnter=0,Play_HideBufferDialog(),document.body.removeEventListener("keydown",Play_handleKeyDown),document.body.addEventListener("keydown",Play_EndUpclearCalback,!1),Play_state=Play_STATE_PLAYING,Play_showWarningDialog(error_410?STR_410_ERROR:Main_values.Play_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE),window.setTimeout(function(){Play_HideWarningDialog()},2e3),Play_RestorePlayDataValues(),Main_values.Play_WasPlaying=0,Main_SaveValues()):null!==Play_selectedChannel_id_Old?Play_RestorePlayData(error_410):Isforbiden?Play_ForbiddenLive():Play_CheckHostStart(error_410)}function Play_ForbiddenLive(){Play_HideBufferDialog(),Play_showWarningDialog(STR_FORBIDDEN),window.setTimeout(function(){Play_isOn&&Play_CheckHostStart()},4e3)}function Play_loadDataSuccessFake(){Play_qualities=[{id:"Auto",band:0,codec:"avc",url:"https://auto"},{id:"1080p60 | source ",band:"| 10.00Mbps",codec:" | avc",url:"https://souce"},{id:"720p60",band:" | 5.00Mbps",codec:" | avc",url:"https://720p60"},{id:"720p",band:" | 2.50Mbps",codec:" | avc",url:"https://720"},{id:"480p",band:" | 2.50Mbps",codec:" | avc",url:"https://480"},{id:"320p",band:" | 2.50Mbps",codec:" | avc",url:"https://320"}],Play_state=Play_STATE_PLAYING,Play_isOn&&Play_qualityChanged()}function Play_loadDataSuccess(responseText){Play_state===Play_STATE_LOADING_TOKEN?(Play_tokenResponse=JSON.parse(responseText),Play_state=Play_STATE_LOADING_PLAYLIST,Play_loadData()):Play_state===Play_STATE_LOADING_PLAYLIST&&(UserLiveFeed_Hide(!0),2===Play_EndDialogEnter?PlayVod_PreshutdownStream(!0):3===Play_EndDialogEnter&&PlayClip_PreshutdownStream(!1),Play_EndDialogEnter=0,Play_EndSet(1),UserLiveFeed_SetFeedPicText(),Play_HideEndDialog(),Play_qualities=Play_extractQualities(Play_playlistResponse=responseText),Play_state=Play_STATE_PLAYING,Play_isOn&&Play_qualityChanged(),UserLiveFeed_PreventHide=!1,ChatLive_Playing=!0)}function Play_extractQualities(input){for(var Band,codec,result=[],TempId="",tempCount=1,streams=Play_extractStreamDeclarations(input),i=0;i<streams.length;i++)TempId=streams[i].split('NAME="')[1].split('"')[0],Band=Play_extractBand(streams[i].split("BANDWIDTH=")[1].split(",")[0]),codec=Play_extractCodec(streams[i].split('CODECS="')[1].split(".")[0]),result.length?result[i-tempCount].id!==TempId&&result[i-tempCount].id!==TempId+" | source"?result.push({id:TempId,band:Band,codec:codec,url:streams[i].split("\n")[2]}):tempCount++:(-1===TempId.indexOf("ource")?TempId+=" | source":TempId=TempId.replace("("," | ").replace(")",""),result.push({id:TempId,band:Band,codec:codec,url:streams[i].split("\n")[2]}));return result}function Play_extractBand(input){return 0<(input=parseInt(input))?" | "+parseFloat(input/1e6).toFixed(2)+"Mbps":""}function Play_extractCodec(input){return-1!==input.indexOf("avc")?" | avc":-1!==input.indexOf("vp9")?" | vp9":-1!==input.indexOf("mp4")?" | mp4":""}function Play_extractStreamDeclarations(input){for(var marray,result=[],myRegexp=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;marray=myRegexp.exec(input);)result.push(marray[0]);return result}function Play_qualityChanged(){window.clearInterval(Play_streamCheckId),Play_playingUrl=Play_qualities[Play_qualityIndex=0].url;for(var i=0;i<Play_getQualitiesCount();i++){if(Play_qualities[i].id===Play_quality){Play_playingUrl=Play_qualities[Play_qualityIndex=i].url;break}-1!==Play_qualities[i].id.indexOf(Play_quality)&&(Play_playingUrl=Play_qualities[Play_qualityIndex=i].url)}Play_quality=Play_qualities[Play_qualityIndex].id,Play_qualityPlaying=Play_quality,Play_SetHtmlQuality("stream_quality",!0),Play_state=Play_STATE_PLAYING,Main_isDebug&&console.log("Play_qualityChanged before Play_onPlayer:",'\n\n"'+Play_playingUrl+'"\n'),Play_onPlayerCounter=Play_BufferPercentage=0,Play_isOn&&Play_onPlayer()}var Play_listener={onbufferingstart:function(){Play_showBufferDialog(),Play_RestoreFromResume=Play_bufferingcomplete=!1,Play_PlayerCheckTimer=Play_Buffer,Play_PlayerCheckQualityChanged=!(Play_PlayerCheckCount=0),Main_isReleased||console.log("onbufferingstart:","date: "+new Date)},onbufferingcomplete:function(){Play_HideBufferDialog(),Play_RestoreFromResume=!(Play_bufferingcomplete=!0),Play_PlayerCheckTimer=Play_Buffer,Play_PlayerCheckQualityChanged=!(Play_PlayerCheckCount=0),Main_isReleased||console.log("onbufferingcomplete:","date: "+new Date)},onbufferingprogress:function(percent){percent<5&&(Play_PlayerCheckCount=0),Play_PlayerCheckTimer=Play_Buffer,Play_PlayerCheckQualityChanged=!0,percent<98?(Play_BufferPercentage=percent,Play_BufferDialogVisible()||Play_showBufferDialog()):(Play_BufferPercentage=0,Play_HideBufferDialog(),Play_bufferingcomplete=!0,Main_isReleased||console.log("onbufferingprogress > 98:","date: "+new Date)),Play_RestoreFromResume=!1},oncurrentplaytime:function(currentTime){Play_currentTime!==currentTime&&Play_updateCurrentTime(currentTime)},onstreamcompleted:function(){Play_CheckHostStart(),Main_isReleased||console.log("onstreamcompleted:","date: "+new Date)},onerror:function(eventType){Main_isReleased||console.log("onerror:","date: "+new Date+" eventType: "+eventType),"PLAYER_ERROR_CONNECTION_FAILED"!==eventType&&"PLAYER_ERROR_INVALID_URI"!==eventType||Play_CheckHostStart()}};function Play_SetHtmlQuality(element){var quality_string;Play_qualities[Play_qualityIndex]&&Play_qualities[Play_qualityIndex].hasOwnProperty("id")&&(quality_string="",quality_string=-1!==(Play_quality=Play_qualities[Play_qualityIndex].id).indexOf("source")?Play_quality.replace("source",STR_SOURCE):Play_quality,quality_string+=Play_qualities[Play_qualityIndex].band+Play_qualities[Play_qualityIndex].codec,Main_textContent(element,quality_string))}function Play_onPlayer(){if(Play_showBufferDialog(),Main_isReleased||(console.log("Play_onPlayer:","date: "+new Date),console.log("Play_onPlayer:",'\n\n"'+Play_playingUrl+'"\n')),Main_IsNotBrowser){try{Play_avplay.stop(),Play_avplay.close(),Play_avplay.open(Play_playingUrl)}catch(e){console.log("Play_onPlayer open "+e)}Play_avplay.setBufferingParam("PLAYER_BUFFER_FOR_PLAY","PLAYER_BUFFER_SIZE_IN_SECOND",Play_Buffer),Play_avplay.setBufferingParam("PLAYER_BUFFER_FOR_RESUME","PLAYER_BUFFER_SIZE_IN_SECOND",Play_Buffer),Play_SetFullScreen(Play_isFullScreen),Play_avplay.setListener(Play_listener),Play_offsettime=Play_oldcurrentTime,Main_isReleased||console.log("Before Play_avplay.prepareAsync:","date: "+new Date),Play_avplay.prepareAsync(function(){Main_isReleased||console.log("Play_avplay.prepareAsync Live OK:","date: "+new Date);try{Play_LowLatency&&Play_avplay.seekTo(Play_avplay.getStreamingProperty("GET_LIVE_DURATION").split("|")[1]-3e3)}catch(e){}Play_avplay.play(),Play_Playing=!0,Play_loadChat(),Play_ChatEnable&&!Play_isChatShown()&&Play_showChat(),Play_PlayerCheckCount=0,Play_PlayerCheckTimer=1+2*Play_Buffer,Play_PlayerCheckQualityChanged=!1,window.clearInterval(Play_streamCheckId),Play_streamCheckId=window.setInterval(Play_PlayerCheck,Play_PlayerCheckInterval)},function(){Main_isReleased||console.log("Play_avplay.prepareAsync Live NOK:","date: "+new Date),++Play_onPlayerCounter<5?Play_onPlayer():(Main_isReleased||console.log("Play_avplay.prepareAsync Live fail too mutch exit:","date: "+new Date),Play_EndStart(!1,1))})}else Play_loadChat()}function Play_loadChat(){(Main_values.Play_ChatForceDisable?Chat_Disable:ChatLive_Init)()}function Play_PlayerCheck(){Play_PlayerTime===Play_currentTime&&Play_isIdleOrPlaying()?Play_PlayerCheckTimer<++Play_PlayerCheckCount&&(Play_PlayerCheckQualityChanged&&Play_PlayerCheckRun&&Play_qualityIndex<Play_getQualitiesCount()-1&&-1===Play_qualityPlaying.indexOf("Auto")?Play_qualityIndex++:!Play_PlayerCheckQualityChanged&&Play_PlayerCheckRun&&Play_PlayerCheckCounter++,navigator.onLine?1<Play_PlayerCheckCounter?Play_CheckConnection(Play_PlayerCheckCounter,1,Play_DropOneQuality):(Play_qualityDisplay(Play_getQualitiesCount,Play_qualityIndex,Play_SetHtmlQuality),Play_qualityChanged(),Play_PlayerCheckRun=!0):Play_EndStart(!1,1)):(Play_PlayerCheckCount=Play_PlayerCheckCounter=0,Play_PlayerCheckRun=!1),Play_PlayerTime=Play_currentTime}function Play_isIdleOrPlaying(){if(Main_IsNotBrowser){var state=Play_avplay.getState();return!Play_isEndDialogVisible()&&("IDLE"===state||"PLAYING"===state)}return!1}function Play_DropOneQuality(ConnectionDrop){if(!ConnectionDrop){if(!(Play_qualityIndex<Play_getQualitiesCount()-1))return void Play_CheckHostStart();Play_qualityIndex++}Play_PlayerCheckCounter=0,Play_qualityDisplay(Play_getQualitiesCount,Play_qualityIndex,Play_SetHtmlQuality),Play_qualityChanged(),Play_PlayerCheckRun=!0}function Play_EndStart(hosting,PlayVodClip){Main_values.Play_isHost=hosting,Play_EndSet(PlayVodClip),Play_PlayEndStart(PlayVodClip)}function Play_CheckConnection(counter,PlayVodClip,DropOneQuality){var xmlHttp=new XMLHttpRequest;xmlHttp.timeout=1e3,xmlHttp.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?Play_isNotplaying()&&DropOneQuality(2<counter):12<counter&&Play_EndStart(!1,PlayVodClip))},xmlHttp.send(null)}function Play_isNotplaying(){return!!Main_IsNotBrowser&&"PLAYING"!==Play_avplay.getState()}function Play_clock(){var clock=Main_getclock();Main_textContent("stream_clock",clock),Main_textContent("label_clock",clock)}function Play_lessthanten(time){return time<10?"0"+time:time}function Play_timeS(time){var seconds,minutes,hours;return time+=Play_offsettimeMinus/1e3,seconds=Play_lessthanten(parseInt(time)%60),minutes=Play_lessthanten((time=Math.floor(time/60))%60),hours=Play_lessthanten(time=Math.floor(time/60)),time?hours+":"+minutes+":"+seconds:minutes+":"+seconds}function Play_timeMs(time){return time<0&&!Play_offsettimeMinus&&(Play_offsettimeMinus=-1*time),time+=Play_offsettimeMinus,Play_timeS(parseInt(time/1e3))}function Play_streamLiveAt(time){return Play_timeMs((new Date).getTime()-new Date(time).getTime())}function Play_timeDay(days){var minutes=(days=Math.floor(parseInt(days/1e3)/60))%60,hours=(days=Math.floor(days/60))%24;return((days=Math.floor(days/24))?days+"d ":"")+(hours?hours+"h ":"")+minutes+"m"}function Play_shutdownStream(){Play_isOn&&(Play_PreshutdownStream(!0),Play_qualities=[],Main_values.Play_WasPlaying=0,Play_exitMain())}function Play_PreshutdownStream(closePlayer){Main_IsNotBrowser&&closePlayer&&Play_offPlayer(),closePlayer&&(Play_isOn=!1),Play_isEndDialogVisible()&&!closePlayer||UserLiveFeed_Hide(!0),Play_ClearPlay(closePlayer),Play_ClearPlayer(),Main_values.Play_selectedChannel_id=""}function Play_offPlayer(){if(Main_IsNotBrowser)try{Play_avplay.stop(),Play_avplay.close()}catch(e){console.log("Play_offPlayer "+e)}}function Play_exitMain(){AddUser_UserIsSet()?(AddCode_IsFollowing=!1,Play_setFollow()):Play_hideFollow(),UserLiveFeed_PreventHide=!1,PlayVod_ProgresBarrUpdate(0,0),Main_ShowElement("scene1"),Main_HideElement("scene2"),Main_ReStartScreens()}function Play_updateCurrentTime(currentTime){Play_currentTime=currentTime,!Play_IsWarning&&Play_WarningDialogVisible()&&Play_HideWarningDialog(),Play_bufferingcomplete&&Play_BufferDialogVisible()&&Play_HideBufferDialog(),Play_oldcurrentTime=currentTime+Play_offsettime-14e3,Play_isPanelShown()&&Play_RefreshWatchingtime()}function Play_ClearPlayer(){Play_hidePanel(),Play_clearPause(),Play_HideWarningDialog(),Play_EndDialogEnter||Play_HideEndDialog(),Play_IncrementView="",Play_qualities[0]&&Play_qualityIndex===Play_getQualitiesCount()-1&&Play_qualities[0].hasOwnProperty("id")&&(Play_quality=Play_qualities[0].id,Play_qualityPlaying=Play_quality),PlayVod_qualities[0]&&PlayVod_qualityIndex===PlayVod_getQualitiesCount()-1&&PlayVod_qualities[0].hasOwnProperty("id")&&(PlayVod_quality=PlayVod_qualities[0].id,PlayVod_qualityPlaying=PlayVod_quality),PlayClip_qualities[0]&&PlayClip_qualityIndex===PlayClip_getQualitiesCount()-1&&PlayClip_qualities[0].hasOwnProperty("id")&&(PlayClip_quality=PlayClip_qualities[0].id,PlayClip_qualityPlaying=PlayClip_quality)}function Play_ClearPlay(clearChat){Play_Playing=!1,document.body.removeEventListener("keydown",Play_handleKeyDown),document.removeEventListener("visibilitychange",Play_Resume),clearChat&&ChatLive_Clear(),Play_oldcurrentTime=Play_offsettime=0,window.clearInterval(Play_streamInfoTimerId),window.clearInterval(Play_streamCheckId),Play_IsWarning=!1}function Play_hideFollow(){Play_controls[Play_controlsFollow].setLable(STR_NOKEY),AddCode_IsFollowing=!1}function Play_showBufferDialog(){Main_ShowElement("dialog_loading_play")}function Play_HideBufferDialog(){Main_HideElement("dialog_loading_play")}function Play_BufferDialogVisible(){return Main_isElementShowing("dialog_loading_play")}function Play_showWarningDialog(text){Main_innerHTML("dialog_warning_play_text",text),Main_ShowElement("dialog_warning_play")}function Play_HideWarningDialog(){Main_HideElement("dialog_warning_play")}function Play_WarningDialogVisible(){return Main_isElementShowing("dialog_warning_play")}function Play_showExitDialog(){Play_ExitDialogVisible()?Play_CleanHideExit():(Main_ShowElement("play_dialog_exit"),Play_exitID=window.setTimeout(Play_showExitDialog,3e3))}function Play_CleanHideExit(){window.clearTimeout(Play_exitID),Main_HideElement("play_dialog_exit")}function Play_ExitDialogVisible(){return Main_isElementShowing("play_dialog_exit")}function Play_clearPauseEnd(){window.clearTimeout(Play_pauseEndID)}function Play_clearPauseStart(){window.clearTimeout(Play_pauseStartID)}function Play_clearPause(){Play_clearPauseEnd(),Play_clearPauseStart(),ChatLive_Playing=!0}function Play_isPanelShown(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Play_hidePanel(){Play_clearHidePanel(),Play_ForceHidePannel(),Play_quality=Play_qualityPlaying}function Play_showPanel(){PlayVod_IconsBottonResetFocus(),Play_qualityIndexReset(),Play_qualityDisplay(Play_getQualitiesCount,Play_qualityIndex,Play_SetHtmlQuality),Play_SetHtmlQuality("stream_quality",!0),Play_RefreshWatchingtime(),Play_clock(),Play_CleanHideExit(),Play_ForceShowPannel(),Play_clearHidePanel(),Play_setHidePanel()}function Play_ForceShowPannel(){document.getElementById("scene_channel_panel").style.opacity="1",Main_ShowElement("playsideinfo")}function Play_ForceHidePannel(){document.getElementById("scene_channel_panel").style.opacity="0",Main_HideElement("playsideinfo")}function Play_RefreshWatchingtime(){Main_innerHTML("stream_watching_time",","+STR_SPACE+STR_SPACE+STR_WATCHING+Play_timeMs(Play_oldcurrentTime)),Main_innerHTML("stream_live_time",STR_SINCE+(-1!=="00:00".indexOf(Play_created)?"00:00":Play_streamLiveAt(Play_created)))}function Play_clearHidePanel(){window.clearTimeout(Play_PanelHideID),PlayVod_ProgressBaroffset=0}function Play_setHidePanel(){Play_PanelHideID=window.setTimeout(Play_hidePanel,5e3)}function Play_showChat(){Play_ChatPosition(),Play_ChatBackgroundChange(!1),Main_ShowElement("chat_container"),Play_controls[Play_controlsChat].setLable()}function Play_hideChat(){Main_HideElement("chat_container"),Play_controls[Play_controlsChat].setLable()}function Play_isChatShown(){return Main_isElementShowing("chat_container")}function Play_getQualitiesCount(){return Play_qualities.length}function Play_ChatSize(showDialog){Play_MaxChatSizeValue<Play_ChatSizeValue&&(Play_ChatSizeValue=Play_MaxChatSizeValue),Play_chat_container.style.height=Play_ChatSizeVal[Play_ChatSizeValue].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Play_ChatSizeVal[Play_ChatSizeValue].dialogTop+"%",Play_ChatPosition(),showDialog&&Play_showChatBackgroundDialog(STR_SIZE+Play_ChatSizeVal[Play_ChatSizeValue].percentage),window.setTimeout(function(){Chat_div&&(Chat_div.scrollTop=Chat_div.scrollHeight)},500),Main_setItem("ChatSizeValue",Play_ChatSizeValue)}function Play_ChatBackgroundChange(showDialog){Play_chat_container.style.backgroundColor="rgba(0, 0, 0, "+Play_ChatBackground+")",showDialog&&Play_showChatBackgroundDialog(STR_BRIGHTNESS+(100*Play_ChatBackground).toFixed(0)+"%")}function Play_ChatPositionConvert(up){Play_ChatPositions=up?Play_ChatPositionsBefore[Play_ChatPositionConvertBefore=Play_ChatPositions]:Play_ChatPositionsAfter[Play_ChatPositions][Play_ChatPositionConvertBefore]}function Play_ChatPosition(){var bool=Play_ChatSizeValue===Play_MaxChatSizeValue;Play_ChatPositions<0?Play_ChatPositions=bool?2:7:(bool?2:7)<Play_ChatPositions&&(Play_ChatPositions=0),Play_chat_container.style.top=(bool?.2:Play_ChatPositionVal[Play_ChatPositions].top+Play_ChatPositionVal[Play_ChatPositions].sizeOffset[Play_ChatSizeValue])+"%",Play_chat_container.style.left=Play_ChatPositionVal[Play_ChatPositions+(bool?2:0)].left+"%",Main_setItem("ChatPositionsValue",Play_ChatPositions)}function Play_showChatBackgroundDialog(DialogText){window.clearTimeout(Play_ChatBackgroundID),Main_textContent("play_chat_dialog_text",DialogText),Main_ShowElement("play_chat_dialog"),Play_ChatBackgroundID=window.setTimeout(Play_hideChatBackgroundDialog,1e3)}function Play_hideChatBackgroundDialog(){Main_HideElement("play_chat_dialog")}function Play_KeyPause(PlayVodClip){if(!Play_BufferDialogVisible())if(Play_isNotplaying()){if(Main_IsNotBrowser)try{webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),Play_avplay.play()}catch(e){return void console.log("Play_avplay.pause: "+e)}Play_clearPause(),ChatLive_MessagesRunAfterPause(),Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i></div>'),1===PlayVodClip?(Play_isPanelShown()&&Play_hidePanel(),window.clearInterval(Play_streamCheckId),Play_streamCheckId=window.setInterval(Play_PlayerCheck,Play_PlayerCheckInterval)):2===PlayVodClip?(Play_isPanelShown()&&PlayVod_hidePanel(),window.clearInterval(PlayVod_streamCheckId),PlayVod_streamCheckId=window.setInterval(PlayVod_PlayerCheck,Play_PlayerCheckInterval)):3===PlayVodClip&&(Play_isPanelShown()&&PlayClip_hidePanel(),window.clearInterval(PlayClip_streamCheckId),PlayClip_streamCheckId=window.setInterval(PlayClip_PlayerCheck,Play_PlayerCheckInterval))}else{if(Main_IsNotBrowser)try{webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON),Play_avplay.pause()}catch(e){return void console.log("Play_avplay.pause: "+e)}ChatLive_Playing=!1,window.clearInterval(Play_streamCheckId),window.clearInterval(PlayVod_streamCheckId),window.clearInterval(PlayClip_streamCheckId),Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-play-1"></i></div>')}}function Play_IconsResetFocus(){Play_IconsRemoveFocus(),Play_Panelcounter=Play_controlsDefault,Play_IconsAddFocus()}function Play_PrepareshowEndDialog(PlayVodClip){PlayVod_state=Play_state=-1,PlayClip_state=-1,Play_hideChat(),Play_hidePanel(),PlayClip_hidePanel(),PlayVod_hidePanel(),Play_IsWarning||Play_HideWarningDialog(),Play_HideBufferDialog(),Play_CleanHideExit(),3===PlayVodClip&&PlayClip_HasNext&&(PlayClip_All||PlayClip_All_Forced)&&(Play_EndIconsRemoveFocus(),Play_Endcounter=-1),Play_EndIconsAddFocus()}function Play_showEndDialog(){Main_ShowElement("dialog_end_stream"),UserLiveFeed_SetHoldUp(),UserLiveFeed_PreventHide=Play_EndFocus=!0,UserLiveFeed_clearHideFeed(),UserLiveFeed_ShowFeed(!0),Main_values.Play_WasPlaying=0,Main_SaveValues()}function Play_HideEndDialog(){Main_HideElement("dialog_end_stream"),Play_EndTextClear(),Play_EndIconsResetFocus()}function Play_isEndDialogVisible(){return Main_isElementShowing("dialog_end_stream")}function Play_EndIconsResetFocus(){Play_EndIconsRemoveFocus(),Play_Endcounter=0,Play_EndIconsAddFocus()}function Play_EndIconsAddFocus(){Main_AddClass("dialog_end_"+Play_Endcounter,"dialog_end_icons_focus")}function Play_EndIconsRemoveFocus(){Main_RemoveClass("dialog_end_"+Play_Endcounter,"dialog_end_icons_focus")}function Play_EndText(PlayVodClip){if(1===PlayVodClip?Play_DialogEndText=Main_values.Play_selectedChannelDisplayname+" "+STR_LIVE:2===PlayVodClip?Play_DialogEndText=Main_values.Main_selectedChannelDisplayname+STR_VIDEO:3===PlayVodClip&&(Play_DialogEndText=Main_values.Main_selectedChannelDisplayname+STR_CLIP),-2===Play_EndTextCounter)return PlayVod_state=Play_state=Play_STATE_PLAYING,PlayClip_state=PlayClip_STATE_PLAYING,void Play_EndTextClear();Main_innerHTML("dialog_end_stream_text",Play_DialogEndText+STR_IS_OFFLINE+STR_BR+(3===PlayVodClip&&PlayClip_HasNext&&(PlayClip_All||PlayClip_All_Forced)?STR_PLAY_NEXT_IN:STR_STREAM_END)+Play_EndTextCounter+"..."),Play_isEndDialogVisible()?(Play_EndTextCounter--,PlayVod_state=Play_state=Play_STATE_PLAYING,PlayClip_state=PlayClip_STATE_PLAYING,-1===Play_EndTextCounter?(Main_innerHTML("dialog_end_stream_text",Play_DialogEndText+STR_IS_OFFLINE+STR_BR+STR_STREAM_END+"0..."),Play_CleanHideExit(),Play_hideChat(),1===PlayVodClip?Play_shutdownStream():2===PlayVodClip?PlayVod_shutdownStream():3===PlayVodClip&&(PlayClip_HasNext&&(PlayClip_All||PlayClip_All_Forced)&&!document.hidden?PlayClip_PlayNext:PlayClip_shutdownStream)()):Play_EndTextID=window.setTimeout(function(){Play_EndText(PlayVodClip)},1e3)):Play_EndTextID=window.setTimeout(function(){Play_EndText(PlayVodClip)},50)}function Play_EndTextClear(){window.clearTimeout(Play_EndTextID),Main_innerHTML("dialog_end_stream_text",Play_DialogEndText+STR_IS_OFFLINE+STR_BR+STR_STREAM_END_EXIT)}function Play_EndDialogPressed(PlayVodClip){var canhide=!0;-1===Play_Endcounter&&PlayClip_HasNext?PlayClip_PlayNext():Play_Endcounter?1===Play_Endcounter?Main_values.Play_isHost?(Main_values.Play_DisplaynameHost=Main_values.Play_selectedChannelDisplayname+STR_USER_HOSTING,Main_values.Play_selectedChannel=Play_TargetHost.target_login,Main_values.Play_selectedChannelDisplayname=Play_TargetHost.target_display_name,Main_values.Play_DisplaynameHost=Main_values.Play_DisplaynameHost+Main_values.Play_selectedChannelDisplayname,Play_PreshutdownStream(!1),document.body.addEventListener("keydown",Play_handleKeyDown,!1),Main_values.Play_selectedChannel_id=Play_TargetHost.target_id,Main_ready(Play_Start)):(PlayClip_OpenVod(),PlayClip_HasVOD||(canhide=!1)):2===Play_Endcounter?Play_OpenChannel(PlayVodClip):3===Play_Endcounter&&(Play_OpenGame(PlayVodClip),""===Main_values.Play_gameSelected&&(canhide=!1)):2===PlayVodClip?PlayVod_qualities.length?(PlayVod_replay=!0,PlayVod_PlayerCheckQualityChanged=!1,PlayVod_Start(),Play_clearPause(),PlayVod_currentTime=0,Chat_offset=0,Chat_Init()):(canhide=!1,Play_showWarningDialog(STR_CLIP_FAIL),window.setTimeout(function(){Play_HideWarningDialog()},2e3)):3===PlayVodClip&&(PlayClip_qualities.length?(PlayClip_replay=!0,PlayClip_PlayerCheckQualityChanged=!1,PlayClip_replay=!0,PlayClip_Start(),Play_clearPause()):(canhide=!1,Play_showWarningDialog(STR_CLIP_FAIL),window.setTimeout(function(){Play_HideWarningDialog()},2e3))),canhide&&(Play_HideEndDialog(),UserLiveFeed_Hide(!0),UserLiveFeed_PreventHide=!1),Play_EndDialogEnter=0}function Play_EndSet(PlayVodClip){PlayVodClip?1===PlayVodClip?(Play_EndIconsRemoveFocus(),Play_Endcounter=2,Play_EndIconsAddFocus(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none",Play_EndTextsReset(),Main_innerHTML("end_channel_name_text",Main_values.Play_selectedChannelDisplayname)):2===PlayVodClip?(Play_EndIconsResetFocus(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none",Main_innerHTML("end_replay_name_text",Main_values.Main_selectedChannelDisplayname),Main_innerHTML("end_replay_title_text",ChannelVod_title),Main_textContent("end_vod_name_text",""),Main_textContent("end_vod_title_text",""),Main_innerHTML("end_channel_name_text",Main_values.Main_selectedChannelDisplayname)):3===PlayVodClip&&(Play_EndIconsResetFocus(),document.getElementById("dialog_end_-1").style.display=PlayClip_HasNext?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Main_textContent("dialog_end_vod_text",PlayClip_HasVOD?STR_OPEN_BROADCAST:STR_NO_BROADCAST),Main_innerHTML("end_replay_name_text",Main_values.Main_selectedChannelDisplayname),Main_innerHTML("end_replay_title_text",ChannelClip_title),Main_innerHTML("end_vod_name_text",Main_values.Main_selectedChannelDisplayname),Main_innerHTML("end_channel_name_text",Main_values.Main_selectedChannelDisplayname)):(Play_EndIconsRemoveFocus(),Play_Endcounter=1,Play_EndIconsAddFocus(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Main_textContent("dialog_end_vod_text",STR_OPEN_HOST),Play_EndTextsReset(),Main_innerHTML("end_channel_name_text",Main_values.Play_selectedChannelDisplayname),Main_innerHTML("end_vod_title_text",Main_values.Play_selectedChannelDisplayname+STR_IS_NOW+STR_USER_HOSTING+Play_TargetHost.target_display_name)),Main_textContent("end_game_name_text",Main_values.Play_gameSelected)}function Play_EndTextsReset(){Main_textContent("end_replay_name_text",""),Main_textContent("end_replay_title_text",""),Main_textContent("end_vod_name_text",""),Main_textContent("end_vod_title_text","")}function Play_OpenChannel(PlayVodClip){Main_values.Main_BeforeChannelisSet||Main_values.Main_Go===Main_ChannelVod||Main_values.Main_Go===Main_ChannelClip||(Main_values.Main_BeforeChannel=Main_values.Main_BeforeAgameisSet&&Main_values.Main_Go!==Main_aGame?Main_values.Main_BeforeAgame:Main_values.Main_Go,Main_values.Main_BeforeChannelisSet=!0),Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_ChannelContent,1===PlayVodClip?(Main_values.Main_selectedChannel_id=Main_values.Play_selectedChannel_id,Main_values.Main_selectedChannel=Main_values.Play_selectedChannel,Main_values.Main_selectedChannelDisplayname=Main_values.Play_selectedChannelDisplayname,ChannelContent_UserChannels=AddCode_IsFollowing,Play_hideChat(),Play_shutdownStream()):2===PlayVodClip?PlayVod_shutdownStream():3===PlayVodClip&&PlayClip_shutdownStream()}function Play_OpenSearch(PlayVodClip){1===PlayVodClip?(Play_hideChat(),Play_PreshutdownStream(!0)):2===PlayVodClip?PlayVod_PreshutdownStream():3===PlayVodClip&&PlayClip_PreshutdownStream(),Main_values.Play_WasPlaying=0,PlayVod_ProgresBarrUpdate(0,0),Main_ShowElement("scene1"),Main_HideElement("scene2"),Main_updateclock(),Main_OpenSearch()}function Play_OpenGame(PlayVodClip){if(""===Main_values.Play_gameSelected)return Play_clearHidePanel(),Play_IsWarning=!0,Play_showWarningDialog(STR_NO_GAME),void window.setTimeout(function(){Play_IsWarning=!1,Play_HideWarningDialog()},2e3);Main_values.Main_BeforeAgameisSet||Main_values.Main_Go===Main_AGameVod||Main_values.Main_Go===Main_AGameClip||(Main_values.Main_BeforeAgame=Main_values.Main_BeforeChannelisSet&&Main_values.Main_Go!==Main_ChannelContent&&Main_values.Main_Go!==Main_ChannelVod&&Main_values.Main_Go!==Main_ChannelClip?Main_values.Main_BeforeChannel:Main_values.Main_Go,Main_values.Main_BeforeAgameisSet=!0),Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_aGame,Main_values.Main_gameSelected=Main_values.Play_gameSelected,Main_values.Main_gameSelected_id=null,Play_hideChat(),1===PlayVodClip?Play_shutdownStream():2===PlayVodClip?PlayVod_shutdownStream():3===PlayVodClip&&PlayClip_shutdownStream()}function Play_FollowUnfollow(){AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?(AddCode_IsFollowing?AddCode_UnFollow:AddCode_Follow)():(Play_showWarningDialog(STR_NOKEY_WARN),Play_IsWarning=!0,window.setTimeout(function(){Play_HideWarningDialog(),Play_IsWarning=!1},2e3))}function Play_qualityDisplay(getQualitiesCount,qualityIndex,callback){var doc_up=document.getElementById("control_arrow_up_"+Play_controlsQuality),doc_down=document.getElementById("control_arrow_down"+Play_controlsQuality);1===getQualitiesCount()?(doc_up.classList.add("hide"),doc_down.classList.add("hide")):qualityIndex?qualityIndex===getQualitiesCount()-1?(doc_up.classList.remove("hide"),doc_down.classList.remove("hide"),doc_up.style.opacity="1",doc_down.style.opacity="0.2"):(doc_up.classList.remove("hide"),doc_down.classList.remove("hide"),doc_up.style.opacity="1",doc_down.style.opacity="1"):(doc_up.classList.remove("hide"),doc_down.classList.remove("hide"),doc_up.style.opacity="0.2",doc_down.style.opacity="1"),callback("controls_name_"+Play_controlsQuality)}function Play_qualityIndexReset(){for(var i=Play_qualityIndex=0;i<Play_getQualitiesCount();i++){if(Play_qualities[i].id===Play_quality){Play_qualityIndex=i;break}-1!==Play_qualities[i].id.indexOf(Play_quality)&&(Play_qualityIndex=i)}}function Play_PannelEndStart(PlayVodClip){1===PlayVodClip?(window.clearInterval(Play_streamCheckId),Play_CheckHostStart()):Play_PlayEndStart(PlayVodClip)}function Play_PlayEndStart(PlayVodClip){window.clearInterval(Play_streamCheckId),window.clearInterval(PlayClip_streamCheckId),window.clearInterval(PlayVod_streamCheckId),Play_PrepareshowEndDialog(PlayVodClip),Play_EndTextCounter=Play_EndSettingsCounter||-2,Play_EndText(PlayVodClip),Play_showEndDialog()}function Play_CheckHostStart(error_410){Main_IsNotBrowser&&webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),error_410&&(Play_IsWarning=!0,Play_showWarningDialog(STR_410_ERROR)),Play_showBufferDialog(),Play_state=-1,Play_loadingDataTry=0,Play_loadingDataTimeout=2e3,ChatLive_Clear(),window.clearInterval(Play_streamInfoTimerId),window.clearInterval(Play_streamCheckId),(""!==Main_values.Play_selectedChannel_id?Play_loadDataCheckHost:Play_CheckId)()}function Play_CheckId(){BasexmlHttpGet("https://api.twitch.tv/kraken/users?login="+Main_values.Play_selectedChannel,Play_loadingDataTimeout,2,null,Play_CheckIdValue,Play_CheckIdError,!1)}function Play_CheckIdValue(musers){void 0!==(musers=JSON.parse(musers).users[0])?(Main_values.Play_selectedChannel_id=musers._id,Play_loadingDataTry=0,Play_loadingDataTimeout=2e3,Play_loadDataCheckHost()):Play_PlayEndStart(1)}function Play_CheckIdError(){++Play_loadingDataTry<Play_loadingDataTryMax?(Play_loadingDataTimeout+=250,Play_CheckId()):Play_EndStart(!1,1)}function Play_loadDataCheckHost(){BasexmlHttpGet((Main_IsNotBrowser?"":proxyurl)+"https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Main_values.Play_selectedChannel_id),Play_loadingDataTimeout,1,null,Play_CheckHost,Play_loadDataCheckHostError)}function Play_loadDataCheckHostError(){++Play_loadingDataTry<Play_loadingDataTryMax?(Play_loadingDataTimeout+=250,Play_loadDataCheckHost()):Play_EndStart(!1,1)}function Play_CheckHost(responseText){void 0!==(Play_TargetHost=JSON.parse(responseText).hosts[0]).target_login?(Play_IsWarning=!0,Play_showWarningDialog(Main_values.Play_selectedChannelDisplayname+STR_IS_NOW+STR_USER_HOSTING+Play_TargetHost.target_display_name),window.setTimeout(function(){Play_IsWarning=!1},4e3),Play_EndSet(0),Main_values.Play_isHost=!0):(Play_EndSet(1),Main_values.Play_isHost=!1),Play_PlayEndStart(1)}function Play_setFollow(){Play_controls[Play_controlsFollow].setLable(AddCode_IsFollowing?STR_FOLLOWING:STR_FOLLOW,AddCode_IsFollowing)}function Play_KeyReturn(is_vod){Play_isEndDialogVisible()&&Play_EndTextClear(),!Play_isEndDialogVisible()||Play_ExitDialogVisible()||Play_SingleClickExit?UserLiveFeed_isFeedShow()&&!Play_isEndDialogVisible()?UserLiveFeed_Hide():Play_isPanelShown()&&!Play_isVodDialogShown()?(is_vod?PlayVod_hidePanel:Play_hidePanel)():Play_isVodDialogShown()&&Play_ExitDialogVisible()?(Play_HideVodDialog(),PlayVod_PreshutdownStream(!1),Play_exitMain()):Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),Play_hideChat(),(is_vod?PlayVod_shutdownStream:Play_shutdownStream)()):(Play_WarningDialogVisible()&&Play_HideWarningDialog(),Play_showExitDialog()):Play_showExitDialog()}function Play_handleKeyUp(e){e.keyCode===KEY_UP&&(Play_handleKeyUpEndClear(),Play_EndUpclear||Play_EndDialogUpDown())}function Play_OpenLiveFeed(ResetFeed,selectedChannel){selectedChannel=JSON.parse(selectedChannel.getAttribute(Main_DataAttribute))[0];Main_values.Play_selectedChannel!==selectedChannel?(Play_SavePlayData(),Play_PreshutdownStream(!1),Main_values.Play_isHost=!1,Play_UserLiveFeedPressed=!0,Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,Play_handleKeyDown)):ResetFeed&&UserLiveFeed_ResetFeedId()}function Play_keyUpEnd(){Play_EndUpclear=!0,UserLiveFeed_FeedRefresh(Play_EndFocus)}function Play_handleKeyUpEndClear(){window.clearTimeout(Play_EndUpclearID),document.body.removeEventListener("keyup",Play_handleKeyUp),document.body.addEventListener("keydown",Play_EndUpclearCalback,!1)}function Play_EndDialogUpDown(){Play_EndTextClear(),!UserLiveFeed_loadingData&&AddUser_UserIsSet()&&(Play_EndFocus?(Play_EndFocus=!1,Play_EndIconsRemoveFocus(),UserLiveFeed_FeedAddFocus()):(Play_EndFocus=!0,UserLiveFeed_FeedRemoveFocus(),Play_EndIconsAddFocus()))}function Play_SavePlayData(){Play_selectedChannel_id_Old=Main_values.Play_selectedChannel_id,Play_IsRerun_Old=Main_values.IsRerun,Play_selectedChannel_Old=Main_values.Play_selectedChannel,Play_isHost_Old=Play_isHost,Play_Main_isHost_Old=Main_values.Play_isHost,Play_DisplaynameHost_Old=Main_values.Play_DisplaynameHost,Play_selectedChannelDisplayname_Old=Main_values.Play_selectedChannelDisplayname,Play_gameSelected_Old=Main_values.Play_gameSelected}function Play_RestorePlayData(error_410){Play_HideBufferDialog(),Play_state=Play_STATE_PLAYING,Play_showWarningDialog(error_410?STR_410_ERROR:Main_values.Play_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE),window.setTimeout(function(){Play_HideWarningDialog()},2e3),Play_RestorePlayDataValues(),Main_SaveValues(),Play_updateStreamInfoStart()}function Play_RestorePlayDataValues(){Main_values.Play_selectedChannel_id=Play_selectedChannel_id_Old,Play_selectedChannel_id_Old=null,Main_values.IsRerun=Play_IsRerun_Old,Main_values.Play_selectedChannel=Play_selectedChannel_Old,Play_isHost=Play_isHost_Old,Main_values.Play_isHost=Play_Main_isHost_Old,Main_values.Play_DisplaynameHost=Play_DisplaynameHost_Old,Main_values.Play_selectedChannelDisplayname=Play_selectedChannelDisplayname_Old,Main_values.Play_gameSelected=Play_gameSelected_Old}function Play_handleKeyDown(e){if(Play_state!==Play_STATE_PLAYING)switch(e.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),Play_hideChat(),Play_shutdownStream()):Play_showExitDialog()}else switch(e.keyCode){case KEY_LEFT:!UserLiveFeed_isFeedShow()||Play_EndFocus&&Play_isEndDialogVisible()?Play_isPanelShown()?(Play_clearHidePanel(),2===PlayVod_PanelY&&Play_BottomLeftRigt(1,-1),Play_setHidePanel()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),--Play_Endcounter<(Main_values.Play_isHost?1:2)&&(Play_Endcounter=3),Play_EndIconsAddFocus()):Play_showPanel():Play_FeedPos&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos--,UserLiveFeed_FeedAddFocus());break;case KEY_RIGHT:!UserLiveFeed_isFeedShow()||Play_EndFocus&&Play_isEndDialogVisible()?Play_isPanelShown()?(Play_clearHidePanel(),2===PlayVod_PanelY&&Play_BottomLeftRigt(1,1),Play_setHidePanel()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),3<++Play_Endcounter&&(Play_Endcounter=Main_values.Play_isHost?1:2),Play_EndIconsAddFocus()):Play_showPanel():Play_FeedPos<UserLiveFeed_GetSize()-1&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos++,UserLiveFeed_FeedAddFocus());break;case KEY_UP:Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY--,PlayVod_PanelY<1?PlayVod_PanelY=1:PlayVod_IconsBottonFocus()):Play_BottomUpDown(1,1),Play_setHidePanel()):!UserLiveFeed_isFeedShow()&&AddUser_UserIsSet()?UserLiveFeed_ShowFeed():Play_isEndDialogVisible()?(Play_EndTextClear(),document.body.removeEventListener("keydown",Play_handleKeyDown,!1),document.body.addEventListener("keyup",Play_handleKeyUp,!1),Play_EndUpclear=!1,Play_EndUpclearCalback=Play_handleKeyDown,Play_EndUpclearID=window.setTimeout(Play_keyUpEnd,250)):UserLiveFeed_isFeedShow()&&UserLiveFeed_FeedRefresh();break;case KEY_DOWN:Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY++,PlayVod_IconsBottonFocus()):Play_BottomUpDown(1,-1),Play_setHidePanel()):(Play_isEndDialogVisible()?Play_EndDialogUpDown:UserLiveFeed_isFeedShow()?UserLiveFeed_Hide:Play_isFullScreen&&Play_isChatShown()?Play_KeyChatSizeChage:Play_showPanel)();break;case KEY_ENTER:var doc;Play_isEndDialogVisible()?Play_EndFocus?Play_EndDialogPressed(1):null!==(doc=document.getElementById(UserLiveFeed_ids[8]+Play_FeedPos))&&(Play_EndUpclearCalback=Play_handleKeyDown,Play_OpenLiveFeed(!(Play_EndDialogEnter=1),doc)):Play_isPanelShown()?(Play_clearHidePanel(),1===PlayVod_PanelY?Play_isEndDialogVisible()||Play_KeyPause(1):Play_BottomOptionsPressed(1),Play_setHidePanel()):UserLiveFeed_isFeedShow()?null!==(doc=document.getElementById(UserLiveFeed_ids[8]+Play_FeedPos))&&(Play_EndUpclearCalback=Play_handleKeyDown,Play_OpenLiveFeed(!(Play_EndDialogEnter=1),doc)):Play_showPanel();break;case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Play_KeyReturn(!1);break;case KEY_PLAY:!Play_isEndDialogVisible()&&Play_isNotplaying()&&Play_KeyPause(1);break;case KEY_PAUSE:Play_isEndDialogVisible()||Play_isNotplaying()||Play_KeyPause(1);break;case KEY_KEYBOARD_SPACE:case KEY_PLAYPAUSE:Play_isEndDialogVisible()||Play_KeyPause(1);break;case KEY_INFO:case KEY_REFRESH:Play_controls[Play_controlsChat].enterKey(1);break;case KEY_PG_UP:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(1,1),Play_Panelcounter=Play_controlsDefault;break;case KEY_PG_DOWN:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(1,-1),Play_Panelcounter=Play_controlsDefault;break;case KEY_STOP:Play_hideChat(),Play_shutdownStream();break;case KEY_GREEN:Main_isReleased||(Main_PrintUnicode("Reloading"),window.location.reload(!0))}}var Play_controls={},Play_controlsSize=-1,Play_controlsSearch=0,Play_controlsChanelCont=1,Play_controlsGameCont=2,Play_controlsOpenVod=3,Play_controlsFollow=4,Play_controlsQuality=5,Play_controlsLowLatency=6,Play_controlsChat=7,Play_controlsChatSide=8,Play_controlsChatPos=9,Play_controlsChatSize=10,Play_controlsChatBright=11,Play_controlsChatFont=12,Play_controlsChatDelay=13,Play_controlsChatForceDis=14,Play_controlsDefault=Play_controlsChat,Play_Panelcounter=Play_controlsDefault;function Play_MakeControls(){Play_controls[Play_controlsSearch]={icons:"search",string:STR_SEARCH,values:null,defaultValue:null,opacity:0,enterKey:function(PlayVodClip){Play_ForceHidePannel(),Play_OpenSearch(PlayVodClip)}},Play_controls[Play_controlsChanelCont]={icons:"filmstrip",string:STR_CHANNEL_CONT,values:"",defaultValue:null,opacity:0,enterKey:function(PlayVodClip){Play_ForceHidePannel(),Play_OpenChannel(PlayVodClip)},setLable:function(title){Main_innerHTML("extra_button_"+this.position,'<div style="max-width: 27%; text-overflow: ellipsis; overflow: hidden; transform: translate(135.5%, 0);">'+title+"</div>")}},Play_controls[Play_controlsGameCont]={icons:"gamepad",string:STR_GAME_CONT,values:"",defaultValue:null,opacity:0,enterKey:function(PlayVodClip){Play_ForceHidePannel(),Play_OpenGame(PlayVodClip)},setLable:function(title){Main_innerHTML("extra_button_"+this.position,'<div style="max-width: 40%; text-overflow: ellipsis; overflow: hidden; transform: translate(75%, 0);">'+title+"</div>")}},Play_controls[Play_controlsOpenVod]={icons:"movie-play",string:STR_OPEN_BROADCAST,values:"",defaultValue:null,opacity:0,enterKey:function(){Play_ForceHidePannel(),PlayClip_OpenVod()},setLable:function(title){Main_innerHTML("extra_button_"+this.position,'<div style="max-width: 60%; text-overflow: ellipsis; overflow: hidden; transform: translate(33%, 0);">'+title+"</div>")}},Play_controls[Play_controlsFollow]={icons:"heart-o",string:STR_FOLLOW,values:"",defaultValue:null,opacity:0,enterKey:function(PlayVodClip){AddCode_Channel_id=1===PlayVodClip?Main_values.Play_selectedChannel_id:Main_values.Main_selectedChannel_id,Play_FollowUnfollow(),Play_Resetpanel(PlayVodClip)},setLable:function(string,AddCode_IsFollowing){Main_textContent("extra_button_text"+this.position,string),this.setIcon(AddCode_IsFollowing),Main_textContent("extra_button_"+this.position,AddCode_IsFollowing?STR_CLICK_UNFOLLOW:STR_CLICK_FOLLOW)},setIcon:function(AddCode_IsFollowing){Main_innerHTML("controls_icon_"+this.position,'<i class="pause_button3d icon-'+(AddCode_IsFollowing?"heart":"heart-o")+'" style="color: #'+(AddCode_IsFollowing?"6441a4":"FFFFFF")+';" ></i>')}},Play_controls[Play_controlsQuality]={icons:"videocamera",string:STR_QUALITY,values:["1080p60 | Source | 10.00Mbps"],defaultValue:0,opacity:0,enterKey:function(PlayVodClip){1===PlayVodClip?(Play_hidePanel(),Play_quality=Play_qualities[Play_qualityIndex].id,Play_qualityPlaying=Play_quality,Play_playingUrl=Play_qualities[Play_qualityIndex].url,Play_SetHtmlQuality("stream_quality"),Play_onPlayer()):2===PlayVodClip?(PlayVod_hidePanel(),PlayVod_quality=PlayVod_qualities[PlayVod_qualityIndex].id,PlayVod_qualityPlaying=PlayVod_quality,PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex].url,PlayVod_SetHtmlQuality("stream_quality"),PlayVod_onPlayer()):3===PlayVodClip&&(PlayClip_hidePanel(),PlayClip_quality=PlayClip_qualities[PlayClip_qualityIndex].id,PlayClip_qualityPlaying=PlayClip_quality,PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex].url,PlayClip_SetHtmlQuality("stream_quality"),PlayClip_onPlayer()),Play_clearPause()},updown:function(adder,PlayVodClip){1===PlayVodClip?((Play_qualityIndex+=-1*adder)>Play_getQualitiesCount()-1?Play_qualityIndex=Play_getQualitiesCount()-1:Play_qualityIndex<0&&(Play_qualityIndex=0),Play_qualityDisplay(Play_getQualitiesCount,Play_qualityIndex,Play_SetHtmlQuality)):2===PlayVodClip?(PlayVod_qualityIndex+=-1*adder,PlayVod_qualityIndex>PlayVod_getQualitiesCount()-1?PlayVod_qualityIndex=PlayVod_getQualitiesCount()-1:PlayVod_qualityIndex<0&&(PlayVod_qualityIndex=0),Play_qualityDisplay(PlayVod_getQualitiesCount,PlayVod_qualityIndex,PlayVod_SetHtmlQuality)):3===PlayVodClip&&(PlayClip_qualityIndex+=-1*adder,PlayClip_qualityIndex>PlayClip_getQualitiesCount()-1?PlayClip_qualityIndex=PlayClip_getQualitiesCount()-1:PlayClip_qualityIndex<0&&(PlayClip_qualityIndex=0),Play_qualityDisplay(PlayClip_getQualitiesCount,PlayClip_qualityIndex,PlayClip_SetHtmlQuality))}},Play_controls[Play_controlsLowLatency]={icons:"history",string:STR_LOW_LATENCY,values:null,defaultValue:0,opacity:0,enterKey:function(){Play_hidePanel(),Play_LowLatency=!Play_LowLatency,Main_IsNotBrowser&&Play_onPlayer(),Play_LowLatency&&(Play_showWarningDialog(STR_LOW_LATENCY_SUMARRY),window.setTimeout(Play_HideWarningDialog,3e3)),Main_setItem("Play_LowLatency",Play_LowLatency),this.setLable()},setLable:function(){Main_textContent("extra_button_"+this.position,"("+(Play_LowLatency?STR_ENABLE:STR_DISABLE)+")")}},Play_controls[Play_controlsChat]={icons:"chat",string:STR_CHAT,values:null,defaultValue:null,opacity:0,enterKey:function(){Play_isFullScreen&&(Play_ChatEnable=Play_isChatShown()||Play_isEndDialogVisible()?(Play_hideChat(),!1):(Play_showChat(),!0),Main_setItem("ChatEnable",Play_ChatEnable?"true":"false"),this.setLable())},setLable:function(){var string=Play_isChatShown()?STR_YES:STR_NO;Play_isFullScreen||(string=STR_CHAT_SIDE),Main_textContent("extra_button_"+this.position,"("+string+")")}},Play_controls[Play_controlsChatSide]={icons:Play_isFullScreen?"resize-down":"resize-up",string:STR_CHAT_VIDEO_MODE,values:null,defaultValue:null,opacity:0,enterKey:function(){Play_SetFullScreen(Play_isFullScreen=!Play_isFullScreen),this.setLable(),this.setIcon()},setLable:function(){Main_textContent("extra_button_"+this.position,"("+(Play_isFullScreen?STR_CHAT_SIDE_FULL:STR_CHAT_SIDE)+")"),Play_controls[Play_controlsChat].setLable()},setIcon:function(){Main_innerHTML("controls_icon_"+this.position,'<i class="pause_button3d icon-'+(Play_isFullScreen?"resize-down":"resize-up")+'" ></i>')}},Play_controls[Play_controlsChatPos]={icons:"chat-pos",string:STR_CHAT_POS,values:[1,2,3,4,5,6,7,8],defaultValue:Play_ChatPositions,opacity:0,isChat:!0,updown:function(adder){Play_isChatShown()&&Play_isFullScreen&&(this.defaultValue+=adder,this.defaultValue<0?this.defaultValue=this.values.length-1:this.defaultValue>this.values.length-1&&(this.defaultValue=0),Play_ChatPositions+=adder,Play_ChatPosition(),this.defaultValue=Play_ChatPositions,this.setLable())},setLable:function(){Main_textContent("controls_name_"+this.position,this.values[this.defaultValue])}},Play_controls[Play_controlsChatSize]={icons:"chat-size",string:STR_CHAT_SIZE,values:["12.5%","25%","50%","75%","100%"],defaultValue:Play_ChatSizeValue,opacity:0,isChat:!0,updown:function(adder){if(Play_isChatShown()&&Play_isFullScreen){if(this.defaultValue+=adder,this.defaultValue<0)this.defaultValue=0;else if(this.defaultValue>this.values.length-1)return void(this.defaultValue=this.values.length-1);this.bottomArrows(),(Play_ChatSizeValue=this.defaultValue)===Play_MaxChatSizeValue-1&&-1===adder?Play_ChatPositionConvert(!1):Play_ChatSizeValue===Play_MaxChatSizeValue&&Play_ChatPositionConvert(!0),Play_ChatSize(!0),Play_controls[Play_controlsChatPos].defaultValue=Play_ChatPositions,this.setLable()}},setLable:function(){Main_textContent("controls_name_"+Play_controlsChatPos,Play_controls[Play_controlsChatPos].values[Play_controls[Play_controlsChatPos].defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChatBright]={icons:"chat-brig",string:STR_CHAT_BRIGHTNESS,values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:Main_values.ChatBackground,opacity:0,isChat:!0,updown:function(adder){Play_isChatShown()&&Play_isFullScreen&&(this.defaultValue+=adder,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),Main_values.ChatBackground=this.defaultValue,Play_ChatBackground=(.05*this.defaultValue).toFixed(2),Play_ChatBackgroundChange(!1),this.setLable(),this.bottomArrows(),Main_SaveValues())},setLable:function(){Main_textContent("controls_name_"+this.position,this.values[this.defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChatFont]={icons:"chat-font",string:STR_CHAT_FONT,values:["60%","80%","100%","120%","140%"],defaultValue:Main_values.Chat_font_size,opacity:0,isChat:!0,updown:function(adder){Play_isChatShown()&&(this.defaultValue+=adder,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),Main_values.Chat_font_size=this.defaultValue,Play_SetChatFont(),this.setLable(),this.bottomArrows(),Main_SaveValues())},setLable:function(){Main_textContent("controls_name_"+this.position,this.values[this.defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChatDelay]={icons:"chat-delay",string:STR_CHAT_DELAY,values:[STR_DISABLE,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,20,25,30,45,60,90,120,150,180,240,300],defaultValue:Play_ChatDelayPosition,opacity:0,isChat:!1,updown:function(adder){this.defaultValue+=adder,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),Play_ChatDelayPosition=this.defaultValue,Main_setItem("Play_ChatDelayPosition",Play_ChatDelayPosition),this.bottomArrows(),this.setLable()},setLable:function(){var stringSec="";1<this.defaultValue?stringSec=STR_SECONDS:0<this.defaultValue&&(stringSec=STR_SECOND),Main_textContent("controls_name_"+this.position,this.values[this.defaultValue]+stringSec)},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChatForceDis]={icons:"chat-stop",string:STR_F_DISABLE_CHAT,values:null,defaultValue:null,opacity:0,enterKey:function(PlayVodClip){Main_values.Play_ChatForceDisable=!Main_values.Play_ChatForceDisable,(1===PlayVodClip?ChatLive_Init:Chat_Init)(),this.setLable(),Main_SaveValues()},setLable:function(){Main_textContent("extra_button_"+this.position,"("+(Main_values.Play_ChatForceDisable?STR_YES:STR_NO)+")")}}}function Play_IconsAddFocus(){Main_AddClass("controls_button_"+Play_Panelcounter,"progress_bar_div_focus"),document.getElementById("controls_button_text_"+Play_Panelcounter).style.opacity="1",!Play_controls[Play_Panelcounter].isChat||Play_isChatShown()&&Play_isFullScreen?Play_Panelcounter===Play_controlsChat||Play_controls[Play_Panelcounter].isChat||(document.getElementById("controls_button_text_"+Play_controlsChat).style.opacity="0"):document.getElementById("controls_button_text_"+Play_controlsChat).style.opacity="1"}function Play_IconsRemoveFocus(){Main_RemoveClass("controls_button_"+Play_Panelcounter,"progress_bar_div_focus"),document.getElementById("controls_button_text_"+Play_Panelcounter).style.opacity="0",document.getElementById("controls_button_text_"+Play_controlsChat).style.opacity="0"}function Play_KeyChatSizeChage(){Play_MaxChatSizeValue<++Play_ChatSizeValue?(Play_ChatSizeValue=0,Play_ChatPositionConvert(!1)):Play_ChatSizeValue===Play_MaxChatSizeValue&&Play_ChatPositionConvert(!0),Play_ChatSize(!0),Play_controls[Play_controlsChatSize].defaultValue=Play_ChatSizeValue,Play_controls[Play_controlsChatSize].bottomArrows(),Play_controls[Play_controlsChatSize].setLable()}function Play_BottomOptionsPressed(PlayVodClip){Main_ready(function(){Play_controls[Play_Panelcounter].enterKey?Play_controls[Play_Panelcounter].enterKey(PlayVodClip):Play_Resetpanel(PlayVodClip)}),Main_SaveValues()}function Play_Resetpanel(PlayVodClip){Play_clearHidePanel(),1===PlayVodClip?Play_setHidePanel():2===PlayVodClip?PlayVod_setHidePanel():3===PlayVodClip&&PlayClip_setHidePanel()}function Play_BottomUpDown(PlayVodClip,adder){Play_controls[Play_Panelcounter].updown?Play_controls[Play_Panelcounter].updown(adder,PlayVodClip):1===adder&&(PlayVod_PanelY--,PlayVod_IconsBottonFocus())}function Play_BottomLeftRigt(PlayVodClip,adder){Play_IconsRemoveFocus(),Play_controlsSize<(Play_Panelcounter+=adder)?Play_Panelcounter=0:Play_Panelcounter<0&&(Play_Panelcounter=Play_controlsSize),"none"!==document.getElementById("controls_"+Play_Panelcounter).style.display?Play_IconsAddFocus():Play_BottomLeftRigt(PlayVodClip,adder)}function Play_BottomArrows(position){var doc_up=document.getElementById("control_arrow_up_"+position),doc_down=document.getElementById("control_arrow_down"+position);1===Play_controls[position].values.length?(doc_up.classList.add("hide"),doc_down.classList.add("hide")):Play_controls[position].defaultValue?(Play_controls[position].defaultValue===Play_controls[position].values.length-1?(doc_up.classList.remove("hide"),doc_down.classList.remove("hide"),doc_up.style.opacity="0.2"):(doc_up.classList.remove("hide"),doc_down.classList.remove("hide"),doc_up.style.opacity="1"),doc_down.style.opacity="1"):(doc_up.classList.remove("hide"),doc_down.classList.remove("hide"),doc_up.style.opacity="1",doc_down.style.opacity="0.2"),Main_textContent("controls_name_"+position,Play_controls[position].values[Play_controls[position].defaultValue])}function Play_SetControls(){var div,key,doc=document.getElementById("controls_holder");for(key in Play_controls)(div=document.createElement("div")).classList.add("controls_button_holder"),div.setAttribute("id","controls_"+key),div.innerHTML='<div id="controls_button_'+key+'" class="controls_button"><div id="controls_icon_'+key+'"><i class="pause_button3d icon-'+Play_controls[key].icons+'" ></i></div></div><div id="controls_button_text_'+key+'" class="extra_button_text_holder" style="opacity: '+Play_controls[key].opacity+';"><div id="extra_button_text'+key+'" class="extra_button_text strokedeline" >'+Play_controls[key].string+'</div><div id="extra_button_'+key+'" class="extra_button_text strokedeline" >'+(Play_controls[key].values?Play_SetControlsArrows(key):STR_SPACE)+"</div></div></div>",doc.appendChild(div),Play_controlsSize++,Play_controls[key].position=key,Play_controls[key].bottomArrows&&Play_BottomArrows(key),Play_controls[key].setLable&&Play_controls[key].setLable()}function Play_SetControlsArrows(key){return'<div id="controls_arrows_'+key+'" style="font-size: 50%; display: inline-block; vertical-align: middle;"><div style="display: inline-block;"><div id="control_arrow_up_'+key+'" class="up"></div><div id="control_arrow_down'+key+'" class="down"></div></div></div>&nbsp;<div id="controls_name_'+key+'" class="arrows_text">'+Play_controls[key].values[Play_controls[key].defaultValue]+"</div>"}var PlayClip_PlayerTime=0,PlayClip_streamCheckId=null,PlayClip_PlayerCheckCount=0,PlayClip_IsJumping=!1,PlayClip_jumpCount=0,PlayClip_TimeToJump=0,PlayClip_isOn=!1,PlayClip_replay=!1,PlayClip_loadingDataTry=0,PlayClip_loadingDataTimeout=2e3,PlayClip_loadingDataTryMax=3,PlayClip_quality="source",PlayClip_qualityPlaying=PlayClip_quality,PlayClip_qualityIndex=0,PlayClip_qualities=[],PlayClip_playingUrl="",PlayClip_currentTime=0,PlayClip_offsettime=0,PlayClip_state=0,PlayClip_STATE_PLAYING=1,PlayClip_HasVOD=!1,PlayClip_PlayerCheckCounter=0,PlayClip_PlayerCheckQualityChanged=!1,PlayClip_PlayerCheckRun=!1,PlayClip_Buffer=2e3,PlayClip_loadData410=!1,PlayClip_jumpTimers=[0,5],PlayClip_DurationSeconds=0,PlayClip_HasNext=!1,PlayClip_HasBack=!1,PlayClip_HideShowNextDiv=["next_button","back_button"],PlayClip_EnterPos=0,PlayClip_All=!1,PlayClip_All_Forced=!0,PlayClip_loadingtreamerInfoTry=0,PlayClip_bufferingcomplete=!1;function PlayClip_Start(){Play_showBufferDialog(),Play_HideEndDialog(),PlayClip_HasVOD=null!==Main_values.ChannelVod_vodId,Chat_title=STR_CLIP+".",PlayClip_HasVOD?(Chat_offset=ChannelVod_vodOffset,Chat_Init()):Chat_NoVod(),Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Main_selectedChannelLogo),Main_textContent("stream_info_name",Main_values.Main_selectedChannelDisplayname),Main_innerHTML("stream_info_title",ChannelClip_title),Main_innerHTML("stream_info_game",ChannelClip_game),Main_innerHTML("stream_live_time",ChannelClip_createdAt+","+STR_SPACE+ChannelClip_views),Main_textContent("stream_live_viewers",""),Main_textContent("stream_watching_time",""),Main_textContent("progress_bar_duration",Play_timeS(PlayClip_DurationSeconds)),Play_DefaultjumpTimers=PlayClip_jumpTimers,PlayVod_jumpSteps(Play_DefaultjumpTimers[1]),Main_replaceClassEmoji("stream_info_title"),Main_values.Play_isHost=!1,PlayClip_SetOpenVod(),document.getElementById("controls_"+Play_controlsChatDelay).style.display="none",document.getElementById("controls_"+Play_controlsLowLatency).style.display="none",Play_CurrentSpeed=3,Play_IconsResetFocus(),Main_textContent("progress_bar_current_time",Play_timeS(0)),Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i> </div>'),Main_ShowElement("progress_bar_div"),Main_ShowElement("controls_holder"),PlayClip_PlayerCheckCount=PlayClip_PlayerCheckCounter=PlayClip_offsettime=0,window.clearInterval(PlayClip_streamCheckId),PlayClip_PlayerCheckRun=!1,Play_PlayerPanelOffset=-13,PlayClip_currentTime=PlayClip_state=0,UserLiveFeed_PreventHide=!(PlayClip_qualityIndex=2),PlayClip_UpdateNext(),Play_EndSet(3),Play_IsWarning=!1,AddUser_UserIsSet()?(AddCode_PlayRequest=!0,AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_CheckFollow()):Play_hideFollow(),document.addEventListener("visibilitychange",PlayClip_Resume,!1),PlayClip_IsJumping=!1,PlayClip_isOn=!(PlayClip_TimeToJump=PlayClip_jumpCount=0),(PlayClip_replay?PlayClip_qualityChanged:PlayClip_loadData)(),PlayClip_replay=!1,document.body.removeEventListener("keyup",Main_handleKeyUp),PlayClip_loadingtreamerInfoTry=0,PlayClip_GetStreamerInfo(),PlayVod_loadingInfoDataTry=0,PlayClip_HasVOD?PlayClip_updateVodInfo():(Main_textContent("end_vod_name_text",""),Main_innerHTML("end_vod_title_text",""),Play_controls[Play_controlsOpenVod].setLable("")),Play_controls[Play_controlsChanelCont].setLable(Main_values.Main_selectedChannelDisplayname),Play_controls[Play_controlsGameCont].setLable(Main_values.Play_gameSelected)}function PlayClip_updateVodInfo(){var theUrl=Main_kraken_api+"videos/"+Main_values.ChannelVod_vodId+Main_TwithcV5Flag_I;BasexmlHttpGet(theUrl,PlayVod_loadingInfoDataTimeout,2,null,PlayClip_updateVodInfoSucess,PlayClip_updateVodInfoError,!1)}function PlayClip_updateVodInfoSucess(response){ChannelVod_title=twemoji.parse(JSON.parse(response).title,!1,!1),Main_innerHTML("end_vod_title_text",ChannelVod_title),Play_controls[Play_controlsOpenVod].setLable(ChannelVod_title)}function PlayClip_updateVodInfoError(){PlayVod_loadingInfoDataTry++,PlayVod_loadingInfoDataTry<PlayVod_loadingInfoDataTryMax&&PlayClip_updateVodInfo()}function PlayClip_GetStreamerInfo(){var theUrl=Main_kraken_api+"channels/"+Main_values.Main_selectedChannel_id+Main_TwithcV5Flag_I;BasexmlHttpGet(theUrl,1e4,2,null,PlayClip_GetStreamerInfoSuccess,PlayClip_GetStreamerInfoSuccessError)}function PlayClip_GetStreamerInfoSuccessError(){++PlayClip_loadingtreamerInfoTry<PlayClip_loadingDataTryMax&&PlayClip_GetStreamerInfo()}function PlayClip_GetStreamerInfoSuccess(response){Main_values.Main_selectedChannelPartner=JSON.parse(response).partner,Play_partnerIcon(Main_values.Main_selectedChannelDisplayname,Main_values.Main_selectedChannelPartner,!1,ChannelClip_language)}function PlayClip_loadData(){PlayClip_loadData410?PlayClip_loadDataSuccess410():(PlayClip_loadingDataTry=0,PlayClip_loadingDataTimeout=2e3,PlayClip_loadDataRequest())}function PlayClip_loadDataRequest(){var xmlHttp=new XMLHttpRequest;xmlHttp.open("POST","https://gql.twitch.tv/gql",!0),xmlHttp.timeout=PlayClip_loadingDataTimeout,xmlHttp.setRequestHeader(Main_clientIdHeader,Main_Headers_Backup[0][1]),xmlHttp.setRequestHeader("Content-Type","application/json"),xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?PlayClip_QualityGenerate(xmlHttp.responseText):410===xmlHttp.status?(PlayClip_loadData410=!0,window.setTimeout(function(){PlayClip_loadData410=!1},36e5),PlayClip_loadDataSuccess410()):PlayClip_loadDataError())},xmlHttp.send('{"query":"\\n {\\n clip(slug: \\"'+ChannelClip_playUrl+'\\") {\\n videoQualities {\\n frameRate\\n quality\\n sourceURL\\n }\\n }\\n }\\n"}')}function PlayClip_loadDataSuccess410(){(PlayClip_qualities=[]).push({id:"Auto | mp4",url:ChannelClip_playUrl2}),PlayClip_state=PlayClip_STATE_PLAYING,PlayClip_qualityChanged()}function PlayClip_loadDataError(){++PlayClip_loadingDataTry<PlayClip_loadingDataTryMax?(PlayClip_loadingDataTimeout+=250,PlayClip_loadDataRequest()):Main_IsNotBrowser?(Play_HideBufferDialog(),Play_PlayEndStart(3)):PlayClip_loadDataSuccessFake()}function PlayClip_loadDataSuccessFake(){PlayClip_qualities=[{id:"Auto",url:""},{id:"1080p60 | source | mp4",url:"https://fake"}],PlayClip_state=PlayClip_STATE_PLAYING,PlayClip_qualityChanged()}var PlayClip_listener={onbufferingstart:function(){Play_showBufferDialog(),PlayClip_bufferingcomplete=!1,PlayClip_PlayerCheckCount=0,Play_PlayerCheckTimer=Play_Buffer,PlayClip_PlayerCheckQualityChanged=!0,Main_isReleased||console.log("onbufferingstart:","date: "+new Date)},onbufferingcomplete:function(){Play_HideBufferDialog(),PlayClip_bufferingcomplete=!0,PlayClip_PlayerCheckCount=PlayClip_offsettime=0,Play_PlayerCheckTimer=Play_Buffer,PlayClip_PlayerCheckQualityChanged=!0,Main_isReleased||console.log("onbufferingcomplete:","date: "+new Date)},onbufferingprogress:function(percent){percent<5&&(PlayClip_PlayerCheckCount=0),Play_PlayerCheckTimer=Play_Buffer,PlayClip_PlayerCheckQualityChanged=!0,percent<98?(Play_BufferPercentage=percent,Play_BufferDialogVisible()||Play_showBufferDialog()):(Play_BufferPercentage=0,Play_HideBufferDialog(),Play_bufferingcomplete=!0,PlayClip_offsettime=0,Main_isReleased||console.log("onbufferingprogress > 98:","date: "+new Date))},oncurrentplaytime:function(currentTime){PlayClip_currentTime!==currentTime&&PlayClip_updateCurrentTime(currentTime)},onstreamcompleted:function(){Play_PannelEndStart(3)},onerror:function(eventType){Main_isReleased||console.log("onerror:","date: "+new Date+" eventType: "+eventType),"PLAYER_ERROR_CONNECTION_FAILED"!==eventType&&"PLAYER_ERROR_INVALID_URI"!==eventType||Play_PannelEndStart(3)}};function PlayClip_QualityGenerate(response){if(PlayClip_qualities=[],(response=JSON.parse(response))&&response.hasOwnProperty("data")&&response.data.hasOwnProperty("clip")){response=response.data.clip.videoQualities;for(var i=0;i<response.length;i++)PlayClip_qualities.length?PlayClip_qualities.push({id:response[i].quality+"p"+PlayClip_FrameRate(response[i].frameRate)+" | mp4",url:response[i].sourceURL}):PlayClip_qualities.push({id:response[i].quality+"p"+PlayClip_FrameRate(response[i].frameRate)+" | source | mp4",url:response[i].sourceURL})}PlayClip_state=PlayClip_STATE_PLAYING,PlayClip_qualityChanged()}function PlayClip_FrameRate(value){return 40<value?60:""}function PlayClip_qualityChanged(){window.clearInterval(PlayClip_streamCheckId),PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex=0].url;for(var i=0;i<PlayClip_getQualitiesCount();i++){if(PlayClip_qualities[i].id===PlayClip_quality){PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex=i].url;break}-1!==PlayClip_qualities[i].id.indexOf(PlayClip_quality)&&(PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex=i].url)}PlayClip_state=PlayClip_STATE_PLAYING,PlayClip_quality=PlayClip_qualities[PlayClip_qualityIndex].id,PlayClip_qualityPlaying=PlayClip_quality,PlayClip_SetHtmlQuality("stream_quality"),Main_isDebug&&console.log("PlayClip_onPlayer:",'\n\n"'+PlayClip_playingUrl+'"\n'),PlayClip_replay=!1,Play_onPlayerCounter=0,PlayClip_onPlayer()}function PlayClip_onPlayer(){if(Play_showBufferDialog(),Main_isReleased||(console.log("PlayClip_onPlayer:","date: "+new Date),console.log("PlayClip_onPlayer:",'\n\n"'+PlayClip_playingUrl+'"\n')),Main_IsNotBrowser){try{Play_avplay.stop(),Play_avplay.close(),Play_avplay.open(PlayClip_playingUrl)}catch(e){console.log("PlayClip_onPlayer open "+e)}if(0<PlayClip_offsettime&&PlayClip_offsettime!==Play_avplay.getCurrentTime()){try{Play_avplay.seekTo(PlayClip_offsettime-3500)}catch(e){console.log("PlayClip_onPlayer seekTo "+e)}Play_clearPause()}Play_avplay.setBufferingParam("PLAYER_BUFFER_FOR_PLAY","PLAYER_BUFFER_SIZE_IN_SECOND",PlayClip_Buffer),Play_avplay.setBufferingParam("PLAYER_BUFFER_FOR_RESUME","PLAYER_BUFFER_SIZE_IN_SECOND",PlayClip_Buffer),Play_SetFullScreen(Play_isFullScreen),Play_avplay.setListener(PlayClip_listener),Play_avplay.prepareAsync(function(){Main_isReleased||console.log("Play_avplay.prepareAsync Clip OK:","date: "+new Date),Play_avplay.play(),PlayClip_DurationSeconds=Play_avplay.getDuration()/1e3,Main_textContent("progress_bar_duration",Play_timeS(PlayClip_DurationSeconds)),Play_ChatEnable&&!Play_isChatShown()&&Play_showChat(),PlayClip_PlayerCheckCount=0,Play_PlayerCheckTimer=1+2*PlayClip_Buffer,PlayClip_PlayerCheckQualityChanged=!1,window.clearInterval(PlayClip_streamCheckId),PlayClip_streamCheckId=window.setInterval(PlayClip_PlayerCheck,Play_PlayerCheckInterval)},function(){Main_isReleased||console.log("Play_avplay.prepareAsync Clip NOK:","date: "+new Date),Play_onPlayerCounter++,Play_onPlayerCounter<5?PlayClip_onPlayer():(Main_isReleased||console.log("Play_avplay.prepareAsync Clip fail too mutch exit:","date: "+new Date),Play_EndStart(!1,3))})}}function PlayClip_Resume(){document.hidden&&PlayClip_shutdownStream()}function PlayClip_PlayerCheck(){PlayClip_isOn&&PlayClip_PlayerTime===PlayClip_currentTime&&Play_isIdleOrPlaying()?++PlayClip_PlayerCheckCount>Play_PlayerCheckTimer&&(PlayClip_PlayerCheckQualityChanged&&PlayClip_PlayerCheckRun&&PlayClip_qualityIndex<PlayClip_getQualitiesCount()-1?PlayClip_qualityIndex++:!PlayClip_PlayerCheckQualityChanged&&PlayClip_PlayerCheckRun&&PlayClip_PlayerCheckCounter++,navigator.onLine?1<PlayClip_PlayerCheckCounter?Play_CheckConnection(PlayClip_PlayerCheckCounter,3,PlayClip_DropOneQuality):(PlayClip_qualityDisplay(),PlayClip_offsettime=PlayClip_offsettime||Play_avplay.getCurrentTime(),PlayClip_qualityChanged(),PlayClip_PlayerCheckRun=!0):Play_EndStart(!1,3)):(PlayClip_PlayerCheckCount=PlayClip_PlayerCheckCounter=0,PlayClip_PlayerCheckRun=!1),PlayClip_PlayerTime=PlayClip_currentTime}function PlayClip_DropOneQuality(ConnectionDrop){if(!ConnectionDrop){if(!(PlayClip_qualityIndex<PlayClip_getQualitiesCount()-1))return void Play_EndStart(!1,3);PlayClip_qualityIndex++}PlayClip_PlayerCheckCounter=0,PlayClip_qualityDisplay(),PlayClip_offsettime=PlayClip_offsettime||Play_avplay.getCurrentTime(),PlayClip_qualityChanged(),PlayClip_PlayerCheckRun=!0}function PlayClip_updateCurrentTime(currentTime){PlayClip_currentTime=currentTime,PlayClip_HasVOD&&(PlayVod_currentTime=PlayClip_currentTime+1e3*ChannelVod_vodOffset),!Play_IsWarning&&Play_WarningDialogVisible()&&Play_HideWarningDialog(),PlayClip_bufferingcomplete&&Play_BufferDialogVisible()&&Play_HideBufferDialog(),Play_isPanelShown()&&!Play_BufferDialogVisible()&&PlayVod_ProgresBarrUpdate(PlayClip_currentTime/1e3,PlayClip_DurationSeconds,!PlayVod_IsJumping)}function PlayClip_shutdownStream(){PlayClip_isOn&&(PlayClip_All=!1,PlayClip_PreshutdownStream(),Play_CleanHideExit(),Play_exitMain())}function PlayClip_PreshutdownStream(){Main_IsNotBrowser&&Play_offPlayer(),PlayClip_hidePanel(),PlayClip_qualities=[],window.clearInterval(PlayClip_streamCheckId),PlayClip_isOn=!1,Chat_Clear(),Play_ClearPlayer(),UserLiveFeed_Hide(!0),document.body.removeEventListener("keydown",PlayClip_handleKeyDown),document.removeEventListener("visibilitychange",PlayClip_Resume),ChannelVod_vodOffset=0}function PlayClip_UpdateNext(){var text,nextid=PlayClip_getIdNext(1,0),backid=PlayClip_getIdNext(-1,inUseObj.ColoumnsCount-1);PlayClip_HasBack=PlayClip_HasNext=!1,nextid?(PlayClip_HasNext=!0,text=JSON.parse(document.getElementById(inUseObj.ids[8]+nextid).getAttribute(Main_DataAttribute)),Main_textContent("next_button_text_name",text[4]),Main_innerHTML("next_button_text_title",text[9]),Main_textContent("end_next_button_text_name",text[4]),Main_innerHTML("end_next_button_text_title",text[9]),PlayClip_HideShowNext(0,1)):PlayClip_HideShowNext(0,0),backid?(PlayClip_HasBack=!0,text=JSON.parse(document.getElementById(inUseObj.ids[8]+backid).getAttribute(Main_DataAttribute)),Main_textContent("back_button_text_name",text[4]),Main_innerHTML("back_button_text_title",text[9]),PlayClip_HideShowNext(1,1)):PlayClip_HideShowNext(1,0)}function PlayClip_getIdNext(y,x){return Main_ThumbNull(inUseObj.posY,inUseObj.posX+y,inUseObj.ids[0])?inUseObj.posY+"_"+(inUseObj.posX+y):Main_ThumbNull(inUseObj.posY+y,x,inUseObj.ids[0])?inUseObj.posY+y+"_"+x:null}function PlayClip_HideShowNext(which,val){document.getElementById(PlayClip_HideShowNextDiv[which]).style.opacity=val}function PlayClip_Enter(){PlayClip_EnterPos?1===PlayClip_EnterPos?PlayClip_PlayNext():-1===PlayClip_EnterPos&&PlayClip_PlayPreviously():(PlayClip_HasVOD&&!Main_values.Play_ChatForceDisable&&(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(3))}function PlayClip_PlayNext(){Screens_KeyLeftRight(1,0),PlayClip_PlayNextPreviously()}function PlayClip_PlayPreviously(){Screens_KeyLeftRight(-1,inUseObj.ColoumnsCount-1),PlayClip_PlayNextPreviously()}function PlayClip_PlayNextPreviously(){Play_ForceHidePannel(),Main_ready(function(){PlayClip_PreshutdownStream(),Main_OpenClip(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids,Screens_handleKeyDown)})}function PlayClip_hidePanel(){PlayVod_jumpCount=0,PlayVod_IsJumping=!1,PlayVod_addToJump=0,Play_clearHidePanel(),PlayClip_quality=PlayClip_qualityPlaying,Play_ForceHidePannel(),PlayVod_ProgresBarrUpdate(PlayClip_currentTime/1e3,PlayClip_DurationSeconds,!0),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none"}function PlayClip_showPanel(){PlayVod_ProgresBarrUpdate(PlayClip_currentTime/1e3,PlayClip_DurationSeconds,!0),Play_clock(),Play_CleanHideExit(),PlayVod_IconsBottonResetFocus(),PlayClip_qualityIndexReset(),PlayClip_qualityDisplay(),Play_ForceShowPannel(),Play_clearHidePanel(),PlayClip_setHidePanel()}function PlayClip_qualityIndexReset(){for(var i=PlayClip_qualityIndex=0;i<PlayClip_getQualitiesCount();i++){if(PlayClip_qualities[i].id===PlayClip_quality){PlayClip_qualityIndex=i;break}-1!==PlayClip_qualities[i].id.indexOf(PlayClip_quality)&&(PlayClip_qualityIndex=i)}}function PlayClip_getQualitiesCount(){return PlayClip_qualities.length}function PlayClip_qualityDisplay(){1===PlayClip_getQualitiesCount()?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0"):PlayClip_qualityIndex?PlayClip_qualityIndex===PlayClip_getQualitiesCount()-1?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0.2"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0.2",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"),PlayClip_SetHtmlQuality("controls_name_"+Play_controlsQuality)}function PlayClip_SetHtmlQuality(element){var quality_string;PlayClip_qualities[PlayClip_qualityIndex].hasOwnProperty("id")&&(quality_string=PlayClip_quality=PlayClip_qualities[PlayClip_qualityIndex].id,-1!==PlayClip_quality.indexOf("source")&&(quality_string=quality_string.replace("source",STR_SOURCE)),Main_textContent(element,PlayClip_quality))}function PlayClip_setHidePanel(){Play_PanelHideID=window.setTimeout(PlayClip_hidePanel,5e3+PlayVod_ProgressBaroffset)}function PlayClip_SetOpenVod(){document.getElementById("controls_"+Play_controlsOpenVod).style.display=PlayClip_HasVOD?"inline-block":"none"}function PlayClip_OpenVod(){PlayClip_HasVOD?(Main_values.vodOffset=ChannelVod_vodOffset,PlayClip_PreshutdownStream(),document.body.addEventListener("keydown",PlayVod_handleKeyDown,!1),Play_IconsResetFocus(),Main_ready(PlayVod_Start)):(Play_clearHidePanel(),Play_IsWarning=!0,Play_showWarningDialog(STR_NO_BROADCAST_WARNING),window.setTimeout(function(){Play_IsWarning=!1,Play_HideWarningDialog()},2e3))}function PlayClip_OpenLiveStream(){PlayClip_PreshutdownStream(),Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,PlayClip_handleKeyDown)}function PlayClip_handleKeyDown(e){if(PlayClip_state!==PlayClip_STATE_PLAYING)switch(e.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),PlayClip_shutdownStream()):Play_showExitDialog()}else switch(e.keyCode){case KEY_LEFT:if(!UserLiveFeed_isFeedShow()||Play_EndFocus&&Play_isEndDialogVisible())if(Play_isPanelShown())Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(3,-1):PlayVod_PanelY?1===PlayVod_PanelY&&-1<PlayClip_EnterPos&&(PlayClip_EnterPos--,PlayClip_HasBack||!PlayClip_EnterPos?PlayVod_IconsBottonFocus():PlayClip_EnterPos++):(PlayVod_jumpStart(-1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayClip_setHidePanel();else{if(!Play_isEndDialogVisible()){PlayClip_showPanel(),PlayVod_PanelY=0,PlayVod_IconsBottonFocus(),Play_clearHidePanel(),PlayVod_jumpStart(-1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayClip_setHidePanel();break}Play_EndTextClear(),Play_EndIconsRemoveFocus(),Play_Endcounter--,Play_Endcounter<(PlayClip_HasNext?-1:0)&&(Play_Endcounter=3),Play_EndIconsAddFocus()}else Play_FeedPos&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos--,UserLiveFeed_FeedAddFocus());break;case KEY_RIGHT:!UserLiveFeed_isFeedShow()||Play_EndFocus&&Play_isEndDialogVisible()?!Play_isFullScreen||Play_isPanelShown()||Play_isEndDialogVisible()?Play_isPanelShown()?(Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(3,1):PlayVod_PanelY?1===PlayVod_PanelY&&PlayClip_EnterPos<1&&(PlayClip_EnterPos++,PlayClip_HasNext||!PlayClip_EnterPos?PlayVod_IconsBottonFocus():PlayClip_EnterPos--):(PlayVod_jumpStart(1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayClip_setHidePanel()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),Play_Endcounter++,3<Play_Endcounter&&(Play_Endcounter=PlayClip_HasNext?-1:0),Play_EndIconsAddFocus()):PlayClip_showPanel():(PlayClip_showPanel(),PlayVod_PanelY=0,PlayVod_IconsBottonFocus(),Play_clearHidePanel(),PlayVod_jumpStart(1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayClip_setHidePanel()):Play_FeedPos<UserLiveFeed_GetSize()-1&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos++,UserLiveFeed_FeedAddFocus());break;case KEY_UP:Play_isEndDialogVisible()?(Play_EndTextClear(),document.body.removeEventListener("keydown",PlayClip_handleKeyDown,!1),document.body.addEventListener("keyup",Play_handleKeyUp,!1),Play_EndUpclear=!1,Play_EndUpclearCalback=PlayClip_handleKeyDown,Play_EndUpclearID=window.setTimeout(Play_keyUpEnd,250)):Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY--,PlayVod_IconsBottonFocus()):Play_BottomUpDown(3,1),PlayClip_setHidePanel()):(UserLiveFeed_isFeedShow()?UserLiveFeed_isFeedShow()?UserLiveFeed_FeedRefresh:PlayClip_showPanel:UserLiveFeed_ShowFeed)();break;case KEY_DOWN:Play_isEndDialogVisible()?Play_EndDialogUpDown():Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY++,PlayVod_IconsBottonFocus()):Play_BottomUpDown(3,-1),PlayClip_setHidePanel()):(UserLiveFeed_isFeedShow()?UserLiveFeed_Hide:Play_isFullScreen&&Play_isChatShown()?Play_KeyChatSizeChage:PlayClip_showPanel)();break;case KEY_ENTER:Play_isEndDialogVisible()?Play_EndFocus?Play_EndDialogPressed(3):(Play_EndDialogEnter=3,Play_EndUpclearCalback=PlayClip_handleKeyDown,Play_SavePlayData(),Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,Play_handleKeyDown)):Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY?1===PlayVod_PanelY?PlayClip_Enter():Play_BottomOptionsPressed(3):PlayVod_addToJump&&PlayVod_jump(),PlayClip_setHidePanel()):UserLiveFeed_isFeedShow()?Play_CheckIfIsLiveStart(PlayClip_OpenLiveStream):PlayClip_showPanel();break;case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Play_isEndDialogVisible()&&Play_EndTextClear(),Play_isPanelShown()?PlayClip_hidePanel():UserLiveFeed_isFeedShow()&&!Play_isEndDialogVisible()?UserLiveFeed_Hide():Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),PlayClip_shutdownStream()):Play_showExitDialog();break;case KEY_PLAY:!Play_isEndDialogVisible()&&Play_isNotplaying()&&(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Play(Chat_Id));break;case KEY_PAUSE:Play_isEndDialogVisible()||Play_isNotplaying()||(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Pause());break;case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:PlayClip_HasVOD&&!Main_values.Play_ChatForceDisable&&(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(3);break;case KEY_INFO:case KEY_REFRESH:Play_controls[Play_controlsChat].enterKey(3);break;case KEY_PG_UP:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(3,1),Play_Panelcounter=Play_controlsDefault;break;case KEY_PG_DOWN:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(3,-1),Play_Panelcounter=Play_controlsDefault;break;case KEY_MEDIAREWIND:Play_isPanelShown()||(PlayClip_showPanel(),PlayVod_PanelY=0,PlayVod_IconsBottonFocus()),Play_clearHidePanel(),PlayVod_jumpStart(-1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayClip_setHidePanel();break;case KEY_MEDIAFASTFORWARD:Play_isPanelShown()||(PlayClip_showPanel(),PlayVod_PanelY=0,PlayVod_IconsBottonFocus()),Play_clearHidePanel(),PlayVod_jumpStart(1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayClip_setHidePanel();break;case KEY_STOP:Play_hideChat(),PlayClip_shutdownStream();break;case KEY_GREEN:Main_isReleased||(Main_PrintUnicode("Reloading"),window.location.reload(!0))}}var PlayVod_SizeClearID,PlayVod_updateStreamInfId,PlayVod_SaveOffsetId,PlayVod_quality="Auto",PlayVod_qualityPlaying=PlayVod_quality,PlayVod_state=0,PlayVod_streamInfoTimerId=null,PlayVod_tokenResponse=0,PlayVod_playlistResponse=0,PlayVod_playingTry=0,PlayVod_playingUrl="",PlayVod_qualities=[],PlayVod_qualityIndex=0,PlayVod_loadingDataTry=0,PlayVod_loadingDataTryMax=5,PlayVod_isOn=!1,PlayVod_Buffer=2e3,PlayVod_loadingInfoDataTry=0,PlayVod_loadingInfoDataTryMax=5,PlayVod_loadingInfoDataTimeout=1e4,PlayVod_PlayerTime=0,PlayVod_streamCheckId=null,PlayVod_PlayerCheckCount=0,PlayVod_PlayerCheckQualityChanged=!1,PlayVod_PlayerCheckCounter=0,PlayVod_PlayerCheckRun=!1,Play_jumping=!1,PlayVod_addToJump=0,PlayVod_IsJumping=!1,PlayVod_jumpCount=0,PlayVod_loadingDataTimeout=2e3,PlayVod_qualitiesFound=!1,PlayVod_currentTime=0,PlayVod_VodIds={},PlayVod_VodPositions=0,PlayVod_PanelY=0,PlayVod_ProgressBaroffset=0,PlayVod_StepsCount=0,PlayVod_TimeToJump=0,PlayVod_replay=!1,PlayVod_jumpTimers=[0,10,30,60,120,300,600,900,1200,1800],PlayVod_WasSubChekd=!1,PlayVod_bufferingcomplete=!1;function PlayVod_Start(){Play_showBufferDialog(),Play_HideEndDialog(),PlayVod_currentTime=0,Main_textContent("stream_live_time",""),Main_textContent("stream_watching_time",""),Main_textContent("progress_bar_current_time",Play_timeS(0)),Chat_title=STR_PAST_BROA+".",Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i> </div>'),Main_HideElement("progress_pause_holder"),Main_ShowElement("progress_bar_div"),document.getElementById("controls_"+Play_controlsOpenVod).style.display="none",document.getElementById("controls_"+Play_controlsChatDelay).style.display="none",document.getElementById("controls_"+Play_controlsLowLatency).style.display="none",Play_CurrentSpeed=3,Play_IconsResetFocus(),PlayVod_StepsCount=0,Play_DefaultjumpTimers=PlayVod_jumpTimers,PlayVod_jumpSteps(Play_DefaultjumpTimers[1]),PlayVod_state=Play_STATE_LOADING_TOKEN,PlayClip_HasVOD=!0,UserLiveFeed_PreventHide=!1,ChannelVod_vodOffset=0,Main_values.Play_isHost=!1,PlayClip_HideShowNext(0,0),PlayClip_HideShowNext(1,0),Main_values.vodOffset?(PlayVod_PrepareLoad(),PlayVod_updateVodInfo()):(PlayVod_updateStreamerInfoValues(),Main_innerHTML("stream_info_title",ChannelVod_title),Main_textContent("stream_info_game",ChannelVod_game),Main_innerHTML("stream_live_time",ChannelVod_createdAt+","+STR_SPACE+ChannelVod_views),Main_textContent("stream_live_viewers",""),Main_textContent("stream_watching_time",""),Main_replaceClassEmoji("stream_info_title")),PlayVod_VodIds["#"+Main_values.ChannelVod_vodId]&&!Main_values.vodOffset?(Play_HideBufferDialog(),Play_showVodDialog()):PlayVod_PosStart()}function PlayVod_PosStart(){window.setTimeout(function(){Main_ShowElement("controls_holder"),Main_ShowElement("progress_pause_holder")},1e3),Main_textContent("progress_bar_duration",Play_timeS(ChannelVod_DurationSeconds)),Main_values.Play_WasPlaying=2,Main_SaveValues(),window.clearInterval(PlayVod_SaveOffsetId),PlayVod_SaveOffsetId=window.setInterval(PlayVod_SaveOffset,6e4),PlayVod_PlayerCheckCount=PlayVod_PlayerCheckCounter=0,window.clearInterval(PlayVod_streamCheckId),Play_PlayerPanelOffset=-13,Play_IsWarning=PlayVod_qualitiesFound=PlayVod_PlayerCheckRun=!1,PlayVod_IsJumping=!1,PlayVod_playingTry=PlayVod_playlistResponse=PlayVod_tokenResponse=PlayVod_jumpCount=0,document.addEventListener("visibilitychange",PlayVod_Resume,!1),PlayVod_WasSubChekd=!(PlayVod_isOn=!(Play_jumping=!1)),PlayVod_replay?(PlayVod_state=Play_STATE_PLAYING,PlayVod_qualityChanged()):PlayVod_loadData(),Play_EndSet(2),document.body.removeEventListener("keyup",Main_handleKeyUp),Play_controls[Play_controlsChanelCont].setLable(Main_values.Main_selectedChannelDisplayname),Play_controls[Play_controlsGameCont].setLable(Main_values.Play_gameSelected)}function PlayVod_PrepareLoad(){PlayVod_loadingInfoDataTry=0,PlayVod_loadingInfoDataTryMax=5,PlayVod_loadingInfoDataTimeout=1e4}function PlayVod_updateStreamerInfoValues(){Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Main_selectedChannelLogo),Play_partnerIcon(Main_values.Main_selectedChannelDisplayname,Main_values.Main_selectedChannelPartner,!1," ["+ChannelVod_language.toUpperCase()+"]"),PlayVod_VodIds["#"+Main_values.ChannelVod_vodId]||Chat_Init(),AddUser_UserIsSet()?(AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_PlayRequest=!0,AddCode_CheckFollow()):Play_hideFollow()}function PlayVod_updateVodInfo(){var theUrl=Main_kraken_api+"videos/"+Main_values.ChannelVod_vodId+Main_TwithcV5Flag_I;BasexmlHttpGet(theUrl,PlayVod_loadingInfoDataTimeout,2,null,PlayVod_updateVodInfoPannel,PlayVod_updateVodInfoError,!1)}function PlayVod_updateVodInfoError(){++PlayVod_loadingInfoDataTry<PlayVod_loadingInfoDataTryMax&&(PlayVod_loadingInfoDataTimeout+=2e3,PlayVod_updateVodInfo())}function PlayVod_updateVodInfoPannel(response){response=JSON.parse(response),ChannelVod_title=twemoji.parse(response.title,!1,!0),Main_values.Main_selectedChannelPartner=response.channel.partner,Play_partnerIcon(Main_values.Main_selectedChannelDisplayname,Main_values.Main_selectedChannelPartner,!1,"["+response.channel.broadcaster_language.toUpperCase()+"]"),Main_innerHTML("stream_info_title",ChannelVod_title),Main_innerHTML("stream_info_game",""!==response.game&&null!==response.game?STR_STARTED+STR_PLAYING+response.game:""),Main_innerHTML("stream_live_time",STR_STREAM_ON+Main_videoCreatedAt(response.created_at)+","+STR_SPACE+Main_addCommas(response.views)+STR_VIEWS),Main_textContent("stream_live_viewers",""),Main_textContent("stream_watching_time",""),ChannelVod_DurationSeconds=parseInt(response.length),Main_textContent("progress_bar_duration",Play_timeS(ChannelVod_DurationSeconds)),PlayVod_currentTime=1e3*Main_values.vodOffset,PlayVod_ProgresBarrUpdate(Main_values.vodOffset,ChannelVod_DurationSeconds,!0),Main_values.Main_selectedChannelDisplayname=response.channel.display_name,Main_values.Main_selectedChannelLogo=response.channel.logo,Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Main_selectedChannelLogo),Main_values.Main_selectedChannel_id=response.channel._id,Main_values.Main_selectedChannel=response.channel.name,AddUser_UserIsSet()?(AddCode_PlayRequest=!0,AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_CheckFollow()):Play_hideFollow(),Play_EndSet(2)}function PlayVod_Resume(){document.hidden?Play_isEndDialogVisible()?(Play_CleanHideExit(),Play_hideChat(),PlayVod_shutdownStream()):(PlayVod_SaveOffset(),PlayVod_SaveVodIds(),Chat_Pause(),Main_IsNotBrowser&&(Play_avplay.pause(),Main_values.vodOffset=Play_avplay.getCurrentTime()/1e3),Play_ClearPlayer(),UserLiveFeed_Hide(!0),window.clearInterval(PlayVod_streamCheckId),window.clearInterval(PlayVod_SaveOffsetId)):(PlayVod_isOn=!0,Play_clearPause(),PlayVod_isOn&&(Play_showBufferDialog(),Play_ResumeAfterOnlineCounter=0,window.clearInterval(Play_ResumeAfterOnlineId),navigator.onLine?PlayVod_ResumeAfterOnline():Play_ResumeAfterOnlineId=window.setInterval(PlayVod_ResumeAfterOnline,100),Play_EndSet(2),window.clearInterval(PlayVod_SaveOffsetId),PlayVod_SaveOffsetId=window.setInterval(PlayVod_SaveOffset,6e4)))}function PlayVod_ResumeAfterOnline(){(navigator.onLine||200<Play_ResumeAfterOnlineCounter)&&(window.clearInterval(Play_ResumeAfterOnlineId),PlayVod_state=Play_STATE_LOADING_TOKEN,PlayVod_loadData()),Play_ResumeAfterOnlineCounter++}function PlayVod_SaveOffset(){Main_values.vodOffset||(Main_values.vodOffset=parseInt(PlayVod_currentTime/1e3),Main_SaveValues(),Main_values.vodOffset=0)}function PlayVod_loadData(){PlayVod_loadingDataTry=0,PlayVod_loadingDataTimeout=2e3,PlayVod_loadDataRequest()}function PlayVod_loadDataRequest(){var theUrl;if(PlayVod_state===Play_STATE_LOADING_TOKEN)theUrl="https://api.twitch.tv/api/vods/"+Main_values.ChannelVod_vodId+"/access_token?platform=_"+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token&&!Play_410ERROR?"&oauth_token="+AddUser_UsernameArray[0].access_token:"");else{if(!PlayVod_tokenResponse.hasOwnProperty("token")||!PlayVod_tokenResponse.hasOwnProperty("sig"))return Play_410ERROR=!0,Main_isDebug&&console.log("Play_410ERROR "+Play_410ERROR),void PlayVod_loadDataError();theUrl="https://usher.ttvnw.net/vod/"+Main_values.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(PlayVod_tokenResponse.token)+"&nauthsig="+PlayVod_tokenResponse.sig+"&playlist_include_framerate=true&reassignments_supported=true&allow_source=true"+(Main_vp9supported?"&preferred_codecs=vp09":"")+"&p="+Main_RandomInt()}var xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=Play_loadingDataTimeout,xmlHttp.setRequestHeader(Main_clientIdHeader,Play_410ERROR?Main_Headers_Backup[0][1]:AddCode_clientId),xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?PlayVod_loadDataSuccess(xmlHttp.responseText):(410===xmlHttp.status&&(Play_410ERROR=!0,Main_isDebug&&console.log("Play_410ERROR "+Play_410ERROR)),PlayVod_loadDataError()))},xmlHttp.send(null)}function PlayVod_loadDataError(){var mjson;PlayVod_isOn&&(PlayVod_tokenResponse.token&&(mjson=JSON.parse(PlayVod_tokenResponse.token)),mjson&&0!==JSON.parse(PlayVod_tokenResponse.token).chansub.restricted_bitrates.length?PlayVod_loadDataCheckSub():++PlayVod_loadingDataTry<PlayVod_loadingDataTryMax?(PlayVod_loadingDataTimeout+=250,PlayVod_loadDataRequest()):Main_IsNotBrowser?(Play_HideBufferDialog(),Play_PlayEndStart(2)):PlayVod_loadDataSuccessFake())}function PlayVod_loadDataSuccessFake(){PlayVod_qualities=[{id:"1080p60 | source ",band:"| 10.00Mbps",codec:" | avc",url:"https://souce"},{id:"720p60",band:" | 5.00Mbps",codec:" | avc",url:"https://720p60"},{id:"720p",band:" | 2.50Mbps",codec:" | avc",url:"https://720"},{id:"480p",band:" | 2.50Mbps",codec:" | avc",url:"https://480"},{id:"320p",band:" | 2.50Mbps",codec:" | avc",url:"https://320"}],PlayVod_state=Play_STATE_PLAYING,PlayVod_isOn&&PlayVod_qualityChanged()}function PlayVod_loadDataSuccess(responseText){PlayVod_state===Play_STATE_LOADING_TOKEN?(PlayVod_tokenResponse=JSON.parse(responseText),PlayVod_state=Play_STATE_LOADING_PLAYLIST,PlayVod_loadData()):PlayVod_state===Play_STATE_LOADING_PLAYLIST&&(PlayVod_playlistResponse=responseText,PlayVod_qualities=Play_extractQualities(PlayVod_playlistResponse),PlayVod_state=Play_STATE_PLAYING,PlayVod_isOn&&PlayVod_qualityChanged())}function PlayVod_loadDataCheckSub(){AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?(AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_CheckSub()):(Play_HideBufferDialog(),Play_showWarningDialog(STR_IS_SUB_ONLY+STR_IS_SUB_NOOAUTH),window.setTimeout(function(){PlayVod_isOn&&PlayVod_shutdownStream()},4e3))}function PlayVod_NotSub(){Play_HideBufferDialog(),Play_showWarningDialog(STR_IS_SUB_ONLY+STR_IS_SUB_NOT_SUB),window.setTimeout(function(){PlayVod_isOn&&PlayVod_shutdownStream()},4e3)}function PlayVod_isSub(){PlayVod_WasSubChekd?(Play_HideBufferDialog(),Play_showWarningDialog(STR_IS_SUB_ONLY+STR_IS_SUB_IS_SUB+STR_410_FEATURING),window.setTimeout(function(){PlayVod_isOn&&PlayVod_shutdownStream()},4e3)):(PlayVod_WasSubChekd=!0,PlayVod_state=Play_STATE_LOADING_TOKEN,PlayVod_loadData())}function PlayVod_qualityChanged(){window.clearInterval(PlayVod_streamCheckId),PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex=0].url;for(var i=0;i<PlayVod_getQualitiesCount();i++){if(PlayVod_qualities[i].id===PlayVod_quality){PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex=i].url;break}-1!==PlayVod_qualities[i].id.indexOf(PlayVod_quality)&&(PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex=i].url)}PlayVod_quality=PlayVod_qualities[PlayVod_qualityIndex].id,PlayVod_qualityPlaying=PlayVod_quality,PlayVod_SetHtmlQuality("stream_quality",!0),Play_onPlayerCounter=0,PlayVod_onPlayer()}var PlayVod_listener={onbufferingstart:function(){Play_showBufferDialog(),PlayVod_bufferingcomplete=!1,Play_PlayerCheckTimer=PlayVod_Buffer,PlayVod_PlayerCheckQualityChanged=!(PlayVod_PlayerCheckCount=0),Main_isReleased||console.log("onbufferingstart:","date: "+new Date)},onbufferingcomplete:function(){Play_HideBufferDialog(),PlayVod_bufferingcomplete=!0,PlayVod_SaveOffset(),Play_PlayerCheckTimer=PlayVod_Buffer,PlayVod_PlayerCheckQualityChanged=!(PlayVod_PlayerCheckCount=0),Main_isReleased||console.log("onbufferingcomplete:","date: "+new Date)},onbufferingprogress:function(percent){percent<5&&(PlayVod_PlayerCheckCount=0),Play_PlayerCheckTimer=PlayVod_Buffer,PlayVod_PlayerCheckQualityChanged=!0,percent<98?(Play_BufferPercentage=percent,Play_BufferDialogVisible()||Play_showBufferDialog()):(Play_BufferPercentage=0,Play_HideBufferDialog(),Play_bufferingcomplete=!0,Main_values.vodOffset=0,Main_isReleased||console.log("onbufferingprogress > 98:","date: "+new Date))},oncurrentplaytime:function(currentTime){PlayVod_currentTime!==currentTime&&PlayVod_updateCurrentTime(currentTime)},onstreamcompleted:function(){Play_PannelEndStart(2)},onerror:function(eventType){Main_isReleased||console.log("onerror:","date: "+new Date+" eventType: "+eventType),"PLAYER_ERROR_CONNECTION_FAILED"!==eventType&&"PLAYER_ERROR_INVALID_URI"!==eventType||Play_PannelEndStart(2)}};function PlayVod_onPlayer(){if(Play_showBufferDialog(),Main_isReleased||(console.log("PlayVod_onPlayer:","date: "+new Date),console.log("PlayVod_onPlayer:",'\n\n"'+PlayVod_playingUrl+'"\n')),Main_IsNotBrowser){try{Play_avplay.stop(),Play_avplay.close(),Play_avplay.open(PlayVod_playingUrl)}catch(e){console.log("PlayVod_onPlayer open "+e)}Main_values.vodOffset>ChannelVod_DurationSeconds&&(Main_values.vodOffset=0),Main_values.vodOffset&&!PlayVod_replay&&(Chat_offset=Main_values.vodOffset,Chat_Init(),Play_avplay.seekTo(1e3*Main_values.vodOffset)),PlayVod_replay=!1,Play_avplay.setBufferingParam("PLAYER_BUFFER_FOR_PLAY","PLAYER_BUFFER_SIZE_IN_SECOND",PlayVod_Buffer),Play_avplay.setBufferingParam("PLAYER_BUFFER_FOR_RESUME","PLAYER_BUFFER_SIZE_IN_SECOND",PlayVod_Buffer),Play_SetFullScreen(Play_isFullScreen),Play_avplay.setListener(PlayVod_listener),Play_avplay.prepareAsync(function(){Main_isReleased||console.log("Play_avplay.prepareAsync Vod OK:","date: "+new Date),Play_avplay.play(),ChannelVod_DurationSeconds=Play_avplay.getDuration()/1e3,Main_textContent("progress_bar_duration",Play_timeS(ChannelVod_DurationSeconds)),Play_ChatEnable&&!Play_isChatShown()&&Play_showChat(),PlayVod_PlayerCheckCount=0,Play_PlayerCheckTimer=3+2*PlayVod_Buffer,PlayVod_PlayerCheckQualityChanged=!1,window.clearInterval(PlayVod_streamCheckId),PlayVod_streamCheckId=window.setInterval(PlayVod_PlayerCheck,Play_PlayerCheckInterval)},function(){Main_isReleased||console.log("Play_avplay.prepareAsync Vod NOK:","date: "+new Date),Play_onPlayerCounter++,Play_onPlayerCounter<5?PlayVod_onPlayer():(Main_isReleased||console.log("Play_avplay.prepareAsync Vod fail too mutch exit:","date: "+new Date),Play_EndStart(!1,2))})}}function PlayVod_PlayerCheck(){PlayVod_isOn&&PlayVod_PlayerTime===PlayVod_currentTime&&Play_isIdleOrPlaying()?++PlayVod_PlayerCheckCount>Play_PlayerCheckTimer&&(PlayVod_PlayerCheckQualityChanged&&PlayVod_PlayerCheckRun&&PlayVod_qualityIndex<PlayVod_getQualitiesCount()-1&&-1===PlayVod_quality.indexOf("Auto")?PlayVod_qualityIndex++:!PlayVod_PlayerCheckQualityChanged&&PlayVod_PlayerCheckRun&&PlayVod_PlayerCheckCounter++,navigator.onLine?1<PlayVod_PlayerCheckCounter?Play_CheckConnection(PlayVod_PlayerCheckCounter,2,PlayVod_DropOneQuality):(PlayVod_qualityDisplay(),Main_IsNotBrowser&&!Main_values.vodOffset&&(Main_values.vodOffset=Play_avplay.getCurrentTime()/1e3),PlayVod_qualityChanged(),PlayVod_PlayerCheckRun=!0):Play_EndStart(!1,2)):(PlayVod_PlayerCheckCount=PlayVod_PlayerCheckCounter=0,PlayVod_PlayerCheckRun=!1),PlayVod_PlayerTime=PlayVod_currentTime}function PlayVod_updateCurrentTime(currentTime){PlayVod_currentTime=currentTime,!Play_IsWarning&&Play_WarningDialogVisible()&&Play_HideWarningDialog(),PlayVod_bufferingcomplete&&Play_BufferDialogVisible()&&Play_HideBufferDialog(),Play_isPanelShown()&&!Play_BufferDialogVisible()&&PlayVod_ProgresBarrUpdate(PlayVod_currentTime/1e3,ChannelVod_DurationSeconds,!PlayVod_IsJumping)}function PlayVod_DropOneQuality(ConnectionDrop){if(!ConnectionDrop){if(!(PlayVod_qualityIndex<PlayVod_getQualitiesCount()-1))return void Play_EndStart(!1,2);PlayVod_qualityIndex++}PlayVod_PlayerCheckCounter=0,PlayVod_qualityDisplay(),Main_IsNotBrowser&&!Main_values.vodOffset&&(Main_values.vodOffset=Play_avplay.getCurrentTime()/1e3),PlayVod_qualityChanged(),PlayVod_PlayerCheckRun=!0}function PlayVod_shutdownStream(){PlayVod_isOn&&(PlayVod_qualities=[],PlayVod_PreshutdownStream(!0),Play_exitMain())}function PlayVod_PreshutdownStream(saveOffset){saveOffset&&PlayVod_SaveVodIds(),Main_IsNotBrowser&&Play_offPlayer(),Main_ShowElement("controls_holder"),Main_ShowElement("progress_pause_holder"),PlayVod_isOn=!1,window.clearInterval(PlayVod_SaveOffsetId),window.clearInterval(PlayVod_updateStreamInfId),Main_values.Play_WasPlaying=0,Chat_Clear(),UserLiveFeed_Hide(!0),Play_ClearPlayer(),PlayVod_ClearVod()}function PlayVod_ClearVod(){document.body.removeEventListener("keydown",PlayVod_handleKeyDown),document.removeEventListener("visibilitychange",PlayVod_Resume),Main_values.vodOffset=0,window.clearInterval(PlayVod_streamInfoTimerId),window.clearInterval(PlayVod_streamCheckId),ChannelVod_DurationSeconds=0}function PlayVod_hidePanel(){PlayVod_IsJumping=!1,PlayVod_addToJump=PlayVod_jumpCount=0,Play_clearHidePanel(),Play_ForceHidePannel(),PlayVod_ProgresBarrUpdate(PlayVod_currentTime/1e3,ChannelVod_DurationSeconds,!0),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none",PlayVod_quality=PlayVod_qualityPlaying}function PlayVod_showPanel(autoHide){PlayVod_ProgresBarrUpdate(PlayVod_currentTime/1e3,ChannelVod_DurationSeconds,!0),Play_clock(),Play_CleanHideExit(),autoHide&&(PlayVod_IconsBottonResetFocus(),PlayVod_qualityIndexReset(),PlayVod_qualityDisplay(),PlayVod_SetHtmlQuality("stream_quality",!0),Play_clearHidePanel(),PlayVod_setHidePanel()),Play_ForceShowPannel()}function PlayVod_IconsBottonResetFocus(){PlayVod_PanelY=1,PlayClip_EnterPos=0,PlayVod_IconsBottonFocus()}function PlayVod_IconsBottonFocus(){PlayVod_PanelY<0?PlayVod_PanelY=0:(Main_RemoveClass("pause_button","progress_bar_div_focus"),Main_RemoveClass("next_button","progress_bar_div_focus"),Main_RemoveClass("back_button","progress_bar_div_focus"),Main_RemoveClass("progress_bar_div","progress_bar_div_focus"),PlayVod_PanelY?1===PlayVod_PanelY?(PlayClip_EnterPos?1===PlayClip_EnterPos?Main_AddClass("next_button","progress_bar_div_focus"):-1===PlayClip_EnterPos&&Main_AddClass("back_button","progress_bar_div_focus"):Main_AddClass("pause_button","progress_bar_div_focus"),Play_IconsRemoveFocus(),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none"):2===PlayVod_PanelY&&(Play_IconsAddFocus(),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none"):(Main_AddClass("progress_bar_div","progress_bar_div_focus"),Play_IconsRemoveFocus(),PlayVod_addToJump&&(PlayVod_jumpTime(),document.getElementById("progress_bar_steps").style.display="inline-block")))}function PlayVod_setHidePanel(){Play_PanelHideID=window.setTimeout(PlayVod_hidePanel,5e3+PlayVod_ProgressBaroffset)}function PlayVod_qualityIndexReset(){for(var i=PlayVod_qualityIndex=0;i<PlayVod_getQualitiesCount();i++){if(PlayVod_qualities[i].id===PlayVod_quality){PlayVod_qualityIndex=i;break}-1!==PlayVod_qualities[i].id.indexOf(PlayVod_quality)&&(PlayVod_qualityIndex=i)}}function PlayVod_qualityDisplay(){1===PlayVod_getQualitiesCount()?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0"):PlayVod_qualityIndex?PlayVod_qualityIndex===PlayVod_getQualitiesCount()-1?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0.2"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0.2",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"),PlayVod_SetHtmlQuality("controls_name_"+Play_controlsQuality)}function PlayVod_SetHtmlQuality(element){var quality_string;PlayVod_qualities[PlayVod_qualityIndex]&&PlayVod_qualities[PlayVod_qualityIndex].hasOwnProperty("id")&&(quality_string="",quality_string=-1!==(PlayVod_quality=PlayVod_qualities[PlayVod_qualityIndex].id).indexOf("source")?PlayVod_quality.replace("source",STR_SOURCE):PlayVod_quality,quality_string+=PlayVod_qualities[PlayVod_qualityIndex].band+PlayVod_qualities[PlayVod_qualityIndex].codec,Main_textContent(element,quality_string))}function PlayVod_getQualitiesCount(){return PlayVod_qualities.length}function PlayVod_ProgresBarrUpdate(current_time_seconds,duration_seconds,update_bar){Main_textContent("progress_bar_current_time",Play_timeS(current_time_seconds)),update_bar&&(Play_ProgresBarrElm.style.width=current_time_seconds/duration_seconds*100+"%")}function PlayVod_jump(){if(Play_BufferDialogVisible())return Play_IsWarning=!0,Play_showWarningDialog(STR_JUMP_BUFFER_WARNING),void window.setTimeout(function(){Play_IsWarning=!1,Play_HideWarningDialog()},1e3);if(Play_clearPause(),!Play_isEndDialogVisible()&&Main_IsNotBrowser){Play_isIdleOrPlaying()&&Play_avplay.pause();try{Play_avplay.seekTo(0<PlayVod_TimeToJump?1e3*PlayVod_TimeToJump:0)}catch(e){return Play_HideWarningDialog(),void console.log("PlayVod_jump "+e)}PlayClip_PlayerCheckQualityChanged=PlayVod_PlayerCheckQualityChanged=!1,PlayVod_currentTime=1e3*PlayVod_TimeToJump,PlayVod_SaveVodIds(),Chat_offset=PlayVod_isOn?PlayVod_TimeToJump:ChannelVod_vodOffset,PlayClip_HasVOD&&Chat_Init(),Play_isIdleOrPlaying()||Play_avplay.play()}Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none",Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i> </div>'),PlayVod_IsJumping=!1,PlayVod_TimeToJump=PlayVod_addToJump=PlayVod_jumpCount=0}function PlayVod_SizeClear(){PlayVod_StepsCount=PlayVod_jumpCount=0,PlayVod_jumpSteps(Play_DefaultjumpTimers[1])}function PlayVod_jumpSteps(duration_seconds){PlayVod_addToJump&&!PlayVod_PanelY&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(duration_seconds)?Main_textContent("progress_bar_steps",STR_JUMPING_STEP+duration_seconds/60+STR_MINUTES):duration_seconds?Main_textContent("progress_bar_steps",STR_JUMPING_STEP+duration_seconds+STR_SECONDS):Main_textContent("progress_bar_steps",STR_JUMPING_STEP+Play_DefaultjumpTimers[1]+STR_SECONDS)}function PlayVod_jumpTime(){Main_textContent("progress_bar_jump_to",STR_JUMP_TIME+" ("+(PlayVod_addToJump<0?"-":"")+Play_timeS(Math.abs(PlayVod_addToJump))+")"+STR_JUMP_T0+Play_timeS(PlayVod_TimeToJump))}function PlayVod_jumpStart(multiplier,duration_seconds){var currentTime=Main_IsNotBrowser?Play_avplay.getCurrentTime()/1e3:0;window.clearTimeout(PlayVod_SizeClearID),PlayVod_IsJumping=!0,PlayVod_jumpCount<Play_DefaultjumpTimers.length-1&&PlayVod_StepsCount++%6==0&&PlayVod_jumpCount++,PlayVod_addToJump+=Play_DefaultjumpTimers[PlayVod_jumpCount]*multiplier,PlayVod_TimeToJump=currentTime+PlayVod_addToJump,PlayVod_isOn&&(PlayVod_TimeToJump=10*Math.floor(PlayVod_TimeToJump/10)),duration_seconds<PlayVod_TimeToJump?(PlayVod_addToJump=duration_seconds-currentTime-Play_DefaultjumpTimers[1],PlayVod_TimeToJump=currentTime+PlayVod_addToJump,PlayVod_StepsCount=PlayVod_jumpCount=0):PlayVod_TimeToJump<0&&(PlayVod_addToJump=0-currentTime,PlayVod_TimeToJump=PlayVod_StepsCount=PlayVod_jumpCount=0),PlayVod_jumpTime(),Play_ProgresBarrElm.style.width=PlayVod_TimeToJump/duration_seconds*100+"%",PlayVod_jumpSteps(Play_DefaultjumpTimers[PlayVod_jumpCount]*multiplier),PlayVod_SizeClearID=window.setTimeout(PlayVod_SizeClear,1e3)}function PlayVod_SaveVodIds(){var time=PlayVod_currentTime/1e3,vod_id="#"+Main_values.ChannelVod_vodId;300<time&&time<ChannelVod_DurationSeconds-300?(PlayVod_VodIds[vod_id]&&delete PlayVod_VodIds[vod_id],PlayVod_VodIds[vod_id]=time,Main_setItem("PlayVod_VodIds",JSON.stringify(PlayVod_VodIds))):time>ChannelVod_DurationSeconds-300&&PlayVod_VodIds[vod_id]&&(delete PlayVod_VodIds[vod_id],Main_setItem("PlayVod_VodIds",JSON.stringify(PlayVod_VodIds)))}function PlayVod_RestoreVodIds(){PlayVod_VodIds=Main_getItemJson("PlayVod_VodIds",{});var size=PlayVod_VodIdsSize();250<size&&PlayVod_CleanVodIds(size-250)}function PlayVod_VodIdsSize(){var key,size=0;for(key in PlayVod_VodIds)PlayVod_VodIds.hasOwnProperty(key)&&size++;return size}function PlayVod_CleanVodIds(quantity){var key,position=0;for(key in PlayVod_VodIds){if(!(position<quantity))break;delete PlayVod_VodIds[key],position++}Main_setItem("PlayVod_VodIds",JSON.stringify(PlayVod_VodIds))}function Play_showVodDialog(){Main_HideElement("controls_holder"),PlayVod_showPanel(!1),Main_textContent("stream_quality",""),Main_innerHTML("dialog_vod_saved_text",STR_FROM+Play_timeMs(1e3*PlayVod_VodIds["#"+Main_values.ChannelVod_vodId])),Main_ShowElement("dialog_vod_start")}function Play_HideVodDialog(){PlayVod_hidePanel(),Main_HideElement("dialog_vod_start"),PlayVod_IconsResetFocus(),window.setTimeout(function(){Main_ShowElement("controls_holder")},1e3)}function Play_isVodDialogShown(){return Main_isElementShowing("dialog_vod_start")}function PlayVod_IconsResetFocus(){PlayVod_IconsRemoveFocus(),PlayVod_VodPositions=0,PlayVod_IconsAddFocus()}function PlayVod_IconsAddFocus(){Main_AddClass("dialog_vod_"+PlayVod_VodPositions,"dialog_end_icons_focus")}function PlayVod_IconsRemoveFocus(){Main_RemoveClass("dialog_vod_"+PlayVod_VodPositions,"dialog_end_icons_focus")}function PlayVod_DialogPressed(fromStart){Play_HideVodDialog(),Play_showBufferDialog(),Main_ready(function(){fromStart?(delete PlayVod_VodIds["#"+Main_values.ChannelVod_vodId],Main_values.vodOffset=0,PlayVod_Start()):(Main_values.vodOffset=PlayVod_VodIds["#"+Main_values.ChannelVod_vodId],PlayVod_currentTime=1e3*Main_values.vodOffset,PlayVod_ProgresBarrUpdate(Main_values.vodOffset,ChannelVod_DurationSeconds,!0),PlayVod_PosStart())})}function PlayVod_OpenLiveStream(){PlayVod_PreshutdownStream(!0),Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,PlayVod_handleKeyDown)}function PlayVod_handleKeyDown(e){if(PlayVod_state===Play_STATE_PLAYING||Play_isVodDialogShown())switch(e.keyCode){case KEY_LEFT:!UserLiveFeed_isFeedShow()||Play_EndFocus&&Play_isEndDialogVisible()?Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(2,-1):PlayVod_PanelY||(PlayVod_jumpStart(-1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayVod_setHidePanel()):Play_isVodDialogShown()?(PlayVod_IconsRemoveFocus(),PlayVod_VodPositions?PlayVod_VodPositions--:PlayVod_VodPositions++,PlayVod_IconsAddFocus()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),Play_Endcounter--,Play_Endcounter<0&&(Play_Endcounter=3),1===Play_Endcounter&&(Play_Endcounter=0),Play_EndIconsAddFocus()):Play_isVodDialogShown()||(PlayVod_showPanel(!0),PlayVod_PanelY=0,PlayVod_IconsBottonFocus(),Play_clearHidePanel(),PlayVod_jumpStart(-1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayVod_setHidePanel()):Play_FeedPos&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos--,UserLiveFeed_FeedAddFocus());break;case KEY_RIGHT:!UserLiveFeed_isFeedShow()||Play_EndFocus&&Play_isEndDialogVisible()?!Play_isFullScreen||Play_isPanelShown()||Play_isEndDialogVisible()?Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(2,1):PlayVod_PanelY||(PlayVod_jumpStart(1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayVod_setHidePanel()):Play_isVodDialogShown()?(PlayVod_IconsRemoveFocus(),PlayVod_VodPositions?PlayVod_VodPositions--:PlayVod_VodPositions++,PlayVod_IconsAddFocus()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),Play_Endcounter++,3<Play_Endcounter&&(Play_Endcounter=0),1===Play_Endcounter&&(Play_Endcounter=2),Play_EndIconsAddFocus()):Play_isVodDialogShown()||PlayVod_showPanel(!0):(PlayVod_showPanel(!0),PlayVod_PanelY=0,PlayVod_IconsBottonFocus(),Play_clearHidePanel(),PlayVod_jumpStart(1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayVod_setHidePanel()):Play_FeedPos<UserLiveFeed_GetSize()-1&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos++,UserLiveFeed_FeedAddFocus());break;case KEY_UP:Play_isEndDialogVisible()?(Play_EndTextClear(),document.body.removeEventListener("keydown",PlayVod_handleKeyDown,!1),document.body.addEventListener("keyup",Play_handleKeyUp,!1),Play_EndUpclear=!1,Play_EndUpclearCalback=PlayVod_handleKeyDown,Play_EndUpclearID=window.setTimeout(Play_keyUpEnd,250)):Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY--,PlayVod_IconsBottonFocus()):Play_BottomUpDown(2,1),PlayVod_setHidePanel()):UserLiveFeed_isFeedShow()?UserLiveFeed_isFeedShow()?UserLiveFeed_FeedRefresh():Play_isVodDialogShown()||PlayVod_showPanel(!0):UserLiveFeed_ShowFeed();break;case KEY_DOWN:Play_isEndDialogVisible()?Play_EndDialogUpDown():Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY++,PlayVod_IconsBottonFocus()):Play_BottomUpDown(2,-1),PlayVod_setHidePanel()):UserLiveFeed_isFeedShow()?UserLiveFeed_Hide():Play_isFullScreen&&Play_isChatShown()?Play_KeyChatSizeChage():Play_isVodDialogShown()||PlayVod_showPanel(!0);break;case KEY_ENTER:Play_isVodDialogShown()?PlayVod_DialogPressed(PlayVod_VodPositions):Play_isEndDialogVisible()?Play_EndFocus?Play_EndDialogPressed(2):(Play_EndDialogEnter=2,Play_EndUpclearCalback=PlayVod_handleKeyDown,Play_SavePlayData(),Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,Play_handleKeyDown)):Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY?1===PlayVod_PanelY?(Main_values.Play_ChatForceDisable||(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(2)):Play_BottomOptionsPressed(2):PlayVod_addToJump&&PlayVod_jump(),PlayVod_setHidePanel()):UserLiveFeed_isFeedShow()?Play_CheckIfIsLiveStart(PlayVod_OpenLiveStream):PlayVod_showPanel(!0);break;case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Play_KeyReturn(!0);break;case KEY_PLAY:!Play_isEndDialogVisible()&&Play_isNotplaying()&&(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Play(Chat_Id));break;case KEY_PAUSE:Play_isEndDialogVisible()||Play_isNotplaying()||(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Pause());break;case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:Main_values.Play_ChatForceDisable||(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(2);break;case KEY_INFO:case KEY_REFRESH:Play_controls[Play_controlsChat].enterKey(2);break;case KEY_PG_UP:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(2,1),Play_Panelcounter=Play_controlsDefault;break;case KEY_PG_DOWN:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(2,-1),Play_Panelcounter=Play_controlsDefault;break;case KEY_MEDIAREWIND:Play_isPanelShown()||(PlayVod_showPanel(!0),PlayVod_PanelY=0,PlayVod_IconsBottonFocus()),Play_clearHidePanel(),PlayVod_jumpStart(-1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayVod_setHidePanel();break;case KEY_MEDIAFASTFORWARD:Play_isPanelShown()||(PlayVod_showPanel(!0),PlayVod_PanelY=0,PlayVod_IconsBottonFocus()),Play_clearHidePanel(),PlayVod_jumpStart(1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500,PlayVod_setHidePanel();break;case KEY_STOP:Play_hideChat(),PlayVod_shutdownStream();break;case KEY_GREEN:Main_isReleased||(Main_PrintUnicode("Reloading"),window.location.reload(!0))}else switch(e.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),PlayVod_shutdownStream()):Play_showExitDialog()}}var Screens_KeyEnterID,Screens_PeriodDialogID,inUseObj={},Screens_clear=!1,Screens_ScrollAnimationTimeout=350,Screens_ChangeFocusAnimationFinished=!0,Screens_ChangeFocusAnimationFast=!1,Screens_SettingDoAnimations=!0;function Screens_InitScreens(){ScreensObj_InitLive(),ScreensObj_InitFeatured(),ScreensObj_InitAGame(),ScreensObj_InitUserHost(),ScreensObj_InitUserLive(),ScreensObj_InitClip(),ScreensObj_InitChannelClip(),ScreensObj_InitAGameClip(),ScreensObj_InitGame(),ScreensObj_InitUserGames(),ScreensObj_InitVod(),ScreensObj_InitAGameVod(),ScreensObj_InitChannelVod(),ScreensObj_InitUserVod(),ScreensObj_InitUserChannels(),ScreensObj_InitSearchGames(),ScreensObj_InitSearchLive(),ScreensObj_InitSearchChannels()}function Screens_ScreenIds(base){return[base+"_thumbdiv",base+"_img",base+"_infodiv",base+"_title",base+"_createdon",base+"_game",base+"_viewers",base+"_duration",base+"_cell","cpempty_",base+"_scroll",base+"_lang",base+"_row"]}function Screens_assign(){for(var ret={},i=0;i<arguments.length;i+=1)for(var obj=arguments[i],keys=Object.keys(obj),j=0;j<keys.length;j+=1)ret[keys[j]]=obj[keys[j]];return ret}function Screens_init(){Main_addFocusVideoOffset=-1,Main_values.Main_Go=inUseObj.screen,inUseObj.label_init(),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),Main_ShowElement(inUseObj.ids[10]),inUseObj.status?(Main_YRst(inUseObj.posY),Screens_addFocus(!0),Main_SaveValues()):Screens_StartLoad()}function Screens_exit(){Main_addFocusVideoOffset=0,inUseObj.label_exit&&inUseObj.label_exit(),document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_HideElement(inUseObj.ids[10]),Main_HideWarningDialog(),Screens_ClearAnimation()}function Screens_StartLoad(){Main_showLoadDialog(),Main_updateclock(),Main_empty(inUseObj.table),Main_HideWarningDialog(),inUseObj.cursor=null,inUseObj.after="",inUseObj.status=!1,inUseObj.TopRowCreated=!1,inUseObj.offset=0,inUseObj.offsettop=0,inUseObj.idObject={},inUseObj.Cells=[],inUseObj.FirstLoad=!0,inUseObj.itemsCount=0,inUseObj.posX=0,inUseObj.posY=0,inUseObj.row_id=0,inUseObj.currY=0,inUseObj.loadChannelOffsset=0,inUseObj.followerChannels=[],inUseObj.followerChannelsDone=!1,inUseObj.coloumn_id=0,inUseObj.data=null,inUseObj.data_cursor=0,inUseObj.dataEnded=!1,Main_CounterDialogRst(),Screens_loadDataRequestStart()}function Screens_loadDataRequestStart(){Screens_loadDataPrepare(),Screens_loadDataRequest()}function Screens_loadDataPrepare(){inUseObj.loadingData=!0,inUseObj.loadingDataTry=0,inUseObj.loadingDataTimeout=3500}function Screens_loadDataRequest(){inUseObj.set_url(),(inUseObj.use_hls?BasexmlHttpGetBack:BasexmlHttpGet)(inUseObj.url+Main_TwithcV5Flag,inUseObj.loadingDataTimeout,inUseObj.HeaderQuatity,inUseObj.token,Screens_concatenate,Screens_loadDataError)}function Screens_loadDataError(){inUseObj.loadingDataTry++,inUseObj.loadingDataTry<inUseObj.loadingDataTryMax?(inUseObj.loadingDataTimeout+=500,Screens_loadDataRequest()):Screens_loadDatafail()}function Screens_loadDatafail(){inUseObj.loadingData=!1,inUseObj.itemsCount?inUseObj.dataEnded=!0:(Sidepannel_SetTopOpacity(Main_values.Main_Go),inUseObj.FirstLoad=!1,Main_HideLoadDialog(),Main_showWarningDialog(STR_REFRESH_PROBLEM),inUseObj.key_exit(),Main_ShowElement("topbar"),Main_ShowElement("side_panel_new_holder"))}function Screens_concatenate(responseText){inUseObj.concatenate(responseText)}function Screens_loadDataSuccess(){var response_items=inUseObj.data.length-inUseObj.data_cursor;if(response_items>inUseObj.ItemsLimit?response_items=inUseObj.ItemsLimit:inUseObj.loadingData||(inUseObj.dataEnded=!0),inUseObj.HasSwitches&&!inUseObj.TopRowCreated&&inUseObj.addSwitches(),response_items){inUseObj.row_id||(inUseObj.row=document.createElement("div"),inUseObj.rowClass&&inUseObj.row.classList.add(inUseObj.rowClass),inUseObj.row.id=inUseObj.ids[12]+inUseObj.row_id);var response_rows=Math.ceil(response_items/inUseObj.ColoumnsCount),max_row=inUseObj.row_id+response_rows;for(inUseObj.row_id;inUseObj.row_id<max_row;){for(inUseObj.coloumn_id===inUseObj.ColoumnsCount&&(inUseObj.row=document.createElement("div"),inUseObj.rowClass&&inUseObj.row.classList.add(inUseObj.rowClass),inUseObj.row.id=inUseObj.ids[12]+inUseObj.row_id,inUseObj.coloumn_id=0),inUseObj.coloumn_id;inUseObj.coloumn_id<inUseObj.ColoumnsCount&&inUseObj.data_cursor<inUseObj.data.length;inUseObj.data_cursor++)inUseObj.data[inUseObj.data_cursor]&&inUseObj.addCell(inUseObj.data[inUseObj.data_cursor]);if(inUseObj.coloumn_id===inUseObj.ColoumnsCount)inUseObj.Cells[inUseObj.row_id]=inUseObj.row,inUseObj.row_id++;else if(inUseObj.data_cursor>=inUseObj.data.length){""!==inUseObj.row.innerHTML&&(inUseObj.Cells[inUseObj.row_id]=inUseObj.row);break}}}inUseObj.emptyContent=!response_items&&!inUseObj.status,Screens_loadDataSuccessFinish()}function Screens_createCell(id_attribute,Data_content,html_content){var div=document.createElement("div");return div.setAttribute("id",id_attribute),div.setAttribute(Main_DataAttribute,JSON.stringify(Data_content)),div.classList.add(inUseObj.thumbclass),div.innerHTML=html_content,div}function Screens_createCellChannel(id,idArray,valuesArray){return Screens_createCell(idArray[8]+id,valuesArray,'<div id="'+idArray[0]+id+'" class="stream_thumbnail_channel" ><div class="stream_thumbnail_channel_img"><img id="'+idArray[1]+id+'" alt="" class="stream_img" src="'+valuesArray[2]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+idArray[2]+id+'" class="stream_thumbnail_channel_text_holder"><div id="'+idArray[3]+id+'" class="stream_info_channel_name">'+valuesArray[3]+(valuesArray[4]?STR_SPACE+STR_SPACE+'</div><div class="stream_info_channel_partner_icon"><img style="width: 2ch;" alt="" src="'+IMG_PARTNER+'">':"")+"</div></div></div>")}function Screens_createCellGame(id,idArray,valuesArray){return Screens_createCell(idArray[5]+id,valuesArray,'<div id="'+idArray[0]+id+'" class="stream_thumbnail_game"><div class="stream_thumbnail_live_game"><img id="'+idArray[1]+id+'" class="stream_img" alt="" src="'+valuesArray[0]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+idArray[2]+id+'" class="stream_thumbnail_game_text_holder"><div class="stream_text_holder"><div id="<div id="'+idArray[3]+id+'" class="stream_info_game_name">'+valuesArray[1]+"</div>"+(""!==valuesArray[2]?'<div id="'+idArray[4]+id+'"class="stream_info_live" style="width: 100%; display: inline-block;">'+valuesArray[2]+"</div>":"")+"</div></div></div>")}function Screens_createCellClip(id,idArray,valuesArray){var playing=""!==valuesArray[2]?STR_PLAYING+valuesArray[2]:"";return Screens_createCell(idArray[8]+id,valuesArray,'<div id="'+idArray[0]+id+'" class="stream_thumbnail_live"><div class="stream_thumbnail_live_img"><img id="'+idArray[1]+id+'" class="stream_img" alt="" src="'+valuesArray[13]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+idArray[2]+id+'" class="stream_thumbnail_live_text_holder"><div class="stream_text_holder"><div style="line-height: 1.6ch;"><div id="'+idArray[3]+id+'" class="stream_info_live_name" style="width: 72%; display: inline-block;">'+valuesArray[4]+'</div><div id="'+idArray[7]+id+'"class="stream_info_live" style="width:27%; float: right; text-align: right; display: inline-block;">'+valuesArray[10]+'</div></div><div id="'+idArray[11]+id+'"class="stream_info_live_title">'+valuesArray[9]+'</div><div id="'+idArray[4]+id+'"class="stream_info_live">'+playing+'</div><div style="line-height: 1.3ch;"><div id="'+idArray[6]+id+'"class="stream_info_live" style="width: auto; display: inline-block;">'+valuesArray[11]+","+STR_SPACE+valuesArray[12]+'</div><div id="'+idArray[5]+id+'"class="stream_info_live" style="width: 6ch; display: inline-block; float: right; text-align: right;">'+Play_timeS(valuesArray[1])+"</div></div></div></div></div></div>")}function Screens_createCellVod(id,idArray,valuesArray){return Screens_createCell(idArray[8]+id,valuesArray,'<div id="'+idArray[0]+id+'" class="stream_thumbnail_live"><div id="'+idArray[6]+id+'" class="stream_thumbnail_live_img" '+(valuesArray[7]?' style="width: 100%; padding-bottom: 56.25%; background-size: 0 0; background-image: url('+valuesArray[7]+');"':"")+'><img id="'+idArray[1]+id+'" class="stream_img" alt="" src="'+valuesArray[0]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+idArray[2]+id+'" class="stream_thumbnail_live_text_holder"><div class="stream_text_holder"><div style="line-height: 1.6ch;"><div id="'+idArray[3]+id+'" class="stream_info_live_name" style="width: 72%; display: inline-block;">'+valuesArray[1]+'</div><div id="'+idArray[7]+id+'"class="stream_info_live" style="width:27%; float: right; text-align: right; display: inline-block;">'+valuesArray[5]+'</div></div><div id="'+idArray[11]+id+'"class="stream_info_live_title">'+valuesArray[3]+'</div><div id="'+idArray[9]+id+'"class="stream_info_live">'+(""!==valuesArray[10]&&null!==valuesArray[10]?STR_STARTED+STR_PLAYING+valuesArray[10]:"")+'</div><div style="line-height: 1.3ch;"><div id="'+idArray[4]+id+'"class="stream_info_live" style="width: auto; display: inline-block;">'+valuesArray[2]+","+STR_SPACE+valuesArray[4]+'</div><div id="'+idArray[5]+id+'"class="stream_info_live" style="width: 9ch; display: inline-block; float: right; text-align: right;">'+Play_timeS(valuesArray[6])+"</div></div></div></div></div>")}function Screens_createCellLive(id,data,idArray,valuesArray){var ishosting=-1!==valuesArray[1].indexOf(STR_USER_HOSTING);return Screens_createCell(idArray[8]+id,data,'<div id="'+idArray[0]+id+'" class="stream_thumbnail_live"><div class="stream_thumbnail_live_img"><img id="'+idArray[1]+id+'" class="stream_img" alt="" src="'+valuesArray[0]+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+idArray[2]+id+'" class="stream_thumbnail_live_text_holder"><div class="stream_text_holder"><div style="line-height: 1.6ch;"><div id="'+idArray[3]+id+'" class="stream_info_live_name" style="width:'+(ishosting?99:66)+'%; display: inline-block;"><i class="icon-'+(data[2]?"refresh":"circle")+' live_icon strokedeline" style="color: '+(data[2]?"#FFFFFF":ishosting?"#FED000":"red")+';"></i> '+valuesArray[1]+'</div><div id="'+idArray[7]+id+'"class="stream_info_live" style="width:'+(ishosting?0:33)+'%; float: right; text-align: right; display: inline-block;">'+valuesArray[5]+'</div></div><div id="'+idArray[4]+id+'"class="stream_info_live_title">'+twemoji.parse(valuesArray[2])+'</div><div id="'+idArray[5]+id+'"class="stream_info_live">'+(""!==valuesArray[3]?STR_PLAYING+valuesArray[3]:"")+'</div><div id="'+idArray[6]+id+'"class="stream_info_live">'+valuesArray[4]+"</div></div></div></div>")}function Screens_loadDataSuccessFinish(){if(inUseObj.status)Main_CounterDialog(inUseObj.posX,inUseObj.posY,inUseObj.ColoumnsCount,inUseObj.itemsCount);else{if(Main_values.Main_Go===Main_aGame&&AGame_Checkfollow(),inUseObj.emptyContent)Main_showWarningDialog(inUseObj.empty_str());else{inUseObj.status=!0;for(var doc=document.getElementById(inUseObj.table),i=0;i<(inUseObj.Cells.length<inUseObj.visiblerows?inUseObj.Cells.length:inUseObj.visiblerows);i++)doc.appendChild(inUseObj.Cells[i])}inUseObj.FirstLoad=!1,Main_FirstRun?(Main_values.Never_run_new&&(Main_GoBefore=Main_Live,Main_values.Play_WasPlaying=0),Settings_value.restor_playback.defaultValue&&Main_values.Play_WasPlaying&&inUseObj.status?(Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_GoBefore,Main_values.vodOffset||(Main_values.vodOffset=1),ChannelVod_DurationSeconds=Main_values.vodOffset+1,Play_showWarningDialog(STR_RESTORE_PLAYBACK_WARN),Main_ready(function(){(1===Main_values.Play_WasPlaying?Main_openStream:Main_openVod)(),Main_SwitchScreen(!0),window.setTimeout(function(){Play_IsWarning||Play_HideWarningDialog()},2e3),Screens_loadDataSuccessFinishEnd()})):Main_GoBefore!==Main_Live&&Main_GoBefore!==Main_addUser&&Main_GoBefore!==Main_Search?(Main_HideElement(inUseObj.ids[10]),Main_ready(function(){Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_GoBefore,Screens_RemoveAllFocus(),Main_SwitchScreenAction(),Main_newUsercode?(Main_FirstRun=!1,Main_HideLoadDialog()):Screens_loadDataSuccessFinishEnd(!0)})):Main_ready(function(){Main_values.Search_isSearching=!1,Main_values.Main_BeforeChannelisSet=!1,Main_values.Main_BeforeAgameisSet=!1,Main_values.Never_run_new&&(Main_showControlsDialog(),document.body.removeEventListener("keydown",Screens_handleKeyDown),document.body.addEventListener("keydown",Screens_handleKeyControls,!1)),Screens_addFocus(!(Main_values.Never_run_new=!1)),Main_SaveValues(),Screens_loadDataSuccessFinishEnd()})):(Screens_addFocus(!0),Main_SaveValues(),Screens_loadDataSuccessFinishEnd())}}function Screens_handleKeyControls(event){switch(event.keyCode){case KEY_ENTER:case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Main_HideControlsDialog(),Main_HideAboutDialog(),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),document.body.removeEventListener("keydown",Screens_handleKeyControls),Screens_addFocus(!0)}}function Screens_loadDataSuccessFinishEnd(SkipHidedialog){Main_FirstRun=!1,SkipHidedialog||Main_HideLoadDialog(),Main_ShowElement("topbar"),Main_ShowElement("side_panel_new_holder"),(Main_values.Sidepannel_IsUser?Sidepannel_SetUserLables:Sidepannel_SetDefaultLables)(),Sidepannel_SetTopOpacity(Main_values.Main_Go)}function Screens_addFocus(forceScroll){if(inUseObj.emptyContent){if(!inUseObj.HasSwitches)return void inUseObj.key_exit(inUseObj.emptyContent);inUseObj.posY=-1}if(inUseObj.posY<0)return Screens_addFocusFollow(),document.getElementById(inUseObj.ids[10]).style.top="",void(inUseObj.emptyContent||Main_CounterDialog(inUseObj.posX,inUseObj.posY+1,inUseObj.ColoumnsCount,inUseObj.itemsCount));2<inUseObj.posY&&inUseObj.data_cursor+Main_ItemsLimitMax>inUseObj.data.length&&!inUseObj.dataEnded&&!inUseObj.loadingData?Screens_loadDataRequestStart():inUseObj.posY+inUseObj.ItemsReloadLimit>inUseObj.itemsCount/inUseObj.ColoumnsCount&&inUseObj.data_cursor<inUseObj.data.length&&inUseObj.loadDataSuccess(),inUseObj.addrow(forceScroll,inUseObj.posY)}function Screens_ThumbNotNull(thumbnail){return null!==document.getElementById(thumbnail)}function Screens_addrowChannel(forceScroll,y){var doc;inUseObj.currY<y?(inUseObj.currY=inUseObj.posY,2<y&&Screens_addrowChannelDown(y)):inUseObj.currY>y&&(inUseObj.currY=inUseObj.posY,1<y&&inUseObj.Cells.length>y+3&&((doc=document.getElementById(inUseObj.table)).insertBefore(inUseObj.Cells[y-2],doc.childNodes[0]),document.getElementById(inUseObj.ids[12]+(y-2)).classList.add("animate_height"),Screens_ChangeFocusAnimationFinished&&Screens_SettingDoAnimations&&!Screens_ChangeFocusAnimationFast?(Screens_ChangeFocusAnimationFast=!(Screens_ChangeFocusAnimationFinished=!1),Main_ready(function(){document.getElementById(inUseObj.ids[12]+(y-2)).classList.remove("animate_height")}),window.setTimeout(function(){Screens_RemoveElement(inUseObj.ids[12]+(y+3)),Screens_ChangeFocusAnimationFinished=!0},Screens_ScrollAnimationTimeout)):(document.getElementById(inUseObj.ids[12]+(y-2)).classList.remove("animate_height"),Screens_RemoveElement(inUseObj.ids[12]+(y+3))))),Screens_addrowEnd(forceScroll)}function Screens_addrowChannelDown(y){inUseObj.Cells[y+2]?(document.getElementById(inUseObj.table).appendChild(inUseObj.Cells[y+2]),Screens_ThumbNotNull(inUseObj.ids[12]+(y-3))&&(Screens_ChangeFocusAnimationFinished&&Screens_SettingDoAnimations&&!Screens_ChangeFocusAnimationFast?(Screens_ChangeFocusAnimationFast=!(Screens_ChangeFocusAnimationFinished=!1),document.getElementById(inUseObj.ids[12]+(y-3)).classList.add("animate_height"),window.setTimeout(function(){Screens_RemoveElement(inUseObj.ids[12]+(y-3)),Screens_ChangeFocusAnimationFinished=!0},Screens_ScrollAnimationTimeout)):Screens_RemoveElement(inUseObj.ids[12]+(y-3)))):inUseObj.loadingData&&window.setTimeout(function(){Screens_addrowChannelDown(y)},10)}function Screens_addrow(forceScroll,y){var doc;inUseObj.currY<y?(inUseObj.currY=inUseObj.posY,Screens_addrowDown(y)):inUseObj.currY>y&&(inUseObj.currY=inUseObj.posY,y&&inUseObj.Cells.length>y+1&&inUseObj.Cells[y+2]&&((doc=document.getElementById(inUseObj.table)).insertBefore(inUseObj.Cells[y-1],doc.childNodes[inUseObj.HasSwitches?1:0]),document.getElementById(inUseObj.ids[12]+(y-1)).classList.add("animate_height"),Screens_ChangeFocusAnimationFinished&&Screens_SettingDoAnimations&&!Screens_ChangeFocusAnimationFast?(Screens_ChangeFocusAnimationFast=!(Screens_ChangeFocusAnimationFinished=!1),Main_ready(function(){document.getElementById(inUseObj.ids[12]+(y-1)).classList.remove("animate_height")}),window.setTimeout(function(){Screens_RemoveElement(inUseObj.ids[12]+(y+2)),Screens_ChangeFocusAnimationFinished=!0},Screens_ScrollAnimationTimeout)):(document.getElementById(inUseObj.ids[12]+(y-1)).classList.remove("animate_height"),Screens_RemoveElement(inUseObj.ids[12]+(y+2))))),Screens_addrowEnd(forceScroll)}function Screens_addrowDown(y){inUseObj.Cells[y+1]?(document.getElementById(inUseObj.table).appendChild(inUseObj.Cells[y+1]),Screens_ThumbNotNull(inUseObj.ids[12]+(y-2))&&(Screens_ChangeFocusAnimationFinished&&Screens_SettingDoAnimations&&!Screens_ChangeFocusAnimationFast?(Screens_ChangeFocusAnimationFast=!(Screens_ChangeFocusAnimationFinished=!1),document.getElementById(inUseObj.ids[12]+(y-2)).classList.add("animate_height"),window.setTimeout(function(){Screens_RemoveElement(inUseObj.ids[12]+(y-2)),Screens_ChangeFocusAnimationFinished=!0},Screens_ScrollAnimationTimeout)):Screens_RemoveElement(inUseObj.ids[12]+(y-2)))):inUseObj.loadingData&&window.setTimeout(function(){Screens_addrowDown(y)},10)}function Screens_RemoveElement(ele){ele=document.getElementById(ele);ele&&ele.remove()}function Screens_addrowEnd(forceScroll){Main_AddClass(inUseObj.ids[0]+inUseObj.posY+"_"+inUseObj.posX,Main_classThumb),Main_CounterDialog(inUseObj.posX,inUseObj.posY,inUseObj.ColoumnsCount,inUseObj.itemsCount),inUseObj.addFocus(inUseObj.posY,inUseObj.ids,forceScroll)}function Screens_setOffset(pos,y){inUseObj.offsettop&&inUseObj.offsettopFontsize===Settings_Obj_default("global_font_offset")||(pos=y||y+pos,inUseObj.Cells[pos]&&(inUseObj.offsettop=document.getElementById(inUseObj.ids[0]+pos+"_0").offsetTop/BodyfontSize,inUseObj.offsettopFontsize=Settings_Obj_default("global_font_offset")))}function Screens_addFocusChannel(y,idArray,forceScroll){Screens_setOffset(2,y),(Main_YchangeAddFocus(y)||forceScroll)&&(1<y?inUseObj.Cells.length<6?inUseObj.Cells[y+1]&&y+2<inUseObj.Cells.length||4===inUseObj.Cells.length?document.getElementById(idArray[10]).style.top="calc(39% - "+inUseObj.offsettop+"em)":3<inUseObj.Cells.length&&(document.getElementById(idArray[10]).style.top="calc(39% - "+3*inUseObj.offsettop/2+"em)"):inUseObj.Cells[y+2]?document.getElementById(idArray[10]).style.top="calc(39% - "+inUseObj.offsettop+"em)":document.getElementById(idArray[10]).style.top="calc(39% - "+3*inUseObj.offsettop/2+"em)":document.getElementById(idArray[10]).style.top=""),Main_handleKeyUp()}function Screens_addFocusVideo(y,idArray,forceScroll){Screens_setOffset(1,y),(Main_YchangeAddFocus(y)||forceScroll)&&(0<y?Main_ThumbNull(y+1,0,idArray[0])&&(document.getElementById(idArray[10]).style.top="calc(7.65% - "+inUseObj.offsettop+"em)"):document.getElementById(idArray[10]).style.top=""),Main_handleKeyUp()}function Screens_addFocusGame(y,idArray,forceScroll){Screens_setOffset(1,y),(Main_YchangeAddFocus(y)||forceScroll)&&(0<y?Main_ThumbNull(y+1,0,idArray[0])&&(document.getElementById(idArray[10]).style.top="calc(4.5% - "+inUseObj.offsettop+"em)"):document.getElementById(idArray[10]).style.top=""),Main_handleKeyUp()}function Screens_ChangeFocus(y,x){Main_removeFocus(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids),Screens_ClearAnimation(),inUseObj.posY+=y,inUseObj.posX=x,Screens_addFocus()}function Screens_addFocusFollow(){inUseObj.posX>inUseObj.SwitchesIcons.length-1?inUseObj.posX=0:inUseObj.posX<0&&(inUseObj.posX=inUseObj.SwitchesIcons.length-1),Main_AddClass(inUseObj.ids[0]+"y_"+inUseObj.posX,"stream_switch_focused")}function Screens_removeFocusFollow(){inUseObj.posX>inUseObj.SwitchesIcons.length-1?inUseObj.posX=0:inUseObj.posX<0&&(inUseObj.posX=inUseObj.SwitchesIcons.length-1),Main_RemoveClass(inUseObj.ids[0]+"y_"+inUseObj.posX,"stream_switch_focused")}function Screens_BasicExit(before){Main_isControlsDialogShown()?Main_HideControlsDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():(before===inUseObj.screen?Main_values.Main_Go=Main_Live:Main_values.Main_Go=before,Screens_exit())}function Screens_KeyUpDown(y){if(!inUseObj.HasSwitches||inUseObj.posY||-1!==y||inUseObj.emptyContent){if(inUseObj.HasSwitches&&-1===inUseObj.posY&&Main_ThumbNull(0,inUseObj.posX,inUseObj.ids[0]))inUseObj.posY=0,Screens_addFocus(),Screens_removeFocusFollow();else for(var i=0;i<inUseObj.ColoumnsCount;i++)if(Main_ThumbNull(inUseObj.posY+y,inUseObj.posX-i,inUseObj.ids[0]))return void Screens_ChangeFocus(y,inUseObj.posX-i)}else Main_removeFocus(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids),Screens_ClearAnimation(),inUseObj.posY=-1,inUseObj.posX>inUseObj.SwitchesIcons.length-1&&(inUseObj.posX=1),Screens_addFocusFollow()}function Screens_ClearAnimation(){inUseObj.HasAnimateThumb&&(window.clearInterval(inUseObj.AnimateThumbId),Screens_ThumbNotNull(inUseObj.ids[6]+inUseObj.posY+"_"+inUseObj.posX)&&Main_ShowElement(inUseObj.ids[6]+inUseObj.posY+"_"+inUseObj.posX))}function Screens_KeyLeftRight(y,x){inUseObj.HasSwitches&&-1===inUseObj.posY?(inUseObj.posY=-1,Screens_removeFocusFollow(),inUseObj.posX+=x?-1:1,Screens_addFocusFollow()):Main_ThumbNull(inUseObj.posY,inUseObj.posX+y,inUseObj.ids[0])?Screens_ChangeFocus(0,inUseObj.posX+y):Main_ThumbNull(inUseObj.posY+y,x,inUseObj.ids[0])&&Screens_ChangeFocus(y,x)}function Screens_OpenSidePanel(){Screens_RemoveAllFocus(),Main_values.Main_Go===Main_aGame&&(Main_values.Main_OldgameSelected=Main_values.Main_gameSelected),Screens_ClearAnimation(),document.body.removeEventListener("keydown",Screens_handleKeyDown),Sidepannel_Start(Screens_handleKeyDown)}function Screens_RemoveAllFocus(){Main_ThumbNull(inUseObj.posY,inUseObj.posX,inUseObj.ids[0])?Main_removeFocus(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids):inUseObj.posY<0&&(Screens_removeFocusFollow(),inUseObj.posY=0,inUseObj.posX=0)}function Screens_handleKeyUp(e){e.keyCode===KEY_ENTER&&(Screens_handleKeyUpClear(),Screens_clear||inUseObj.key_play())}function Screens_handleKeyUpClear(){window.clearTimeout(Screens_KeyEnterID),document.body.removeEventListener("keyup",Screens_handleKeyUp),document.body.addEventListener("keydown",Screens_handleKeyDown,!1)}function Screens_handleKeyUpAnimationFast(){Screens_ChangeFocusAnimationFast=!1}function Screens_handleKeyDown(event){if(!inUseObj.FirstLoad&&!Main_CantClick())switch(Main_keyClickDelayStart(),event.keyCode){case KEY_PG_UP:!inUseObj.loadingData&&inUseObj.key_pgUp&&(Screens_RemoveAllFocus(),inUseObj.screen===Main_UserChannels?Sidepannel_Go(AddUser_UsernameArray[0].access_token?inUseObj.key_pgUp:inUseObj.key_pgUpNext):Sidepannel_Go(inUseObj.key_pgUp));break;case KEY_PG_DOWN:!inUseObj.loadingData&&inUseObj.key_pgDown&&(Screens_RemoveAllFocus(),inUseObj.screen===Main_usergames?Sidepannel_Go(AddUser_UsernameArray[0].access_token?inUseObj.key_pgDown:inUseObj.key_pgDownNext):Sidepannel_Go(inUseObj.key_pgDown));break;case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:inUseObj.loadingData||inUseObj.key_exit();break;case KEY_LEFT:if(inUseObj.loadingData)break;inUseObj.posX?Screens_KeyLeftRight(-1,inUseObj.ColoumnsCount-1):Screens_OpenSidePanel();break;case KEY_RIGHT:inUseObj.dataEnded||inUseObj.posX<inUseObj.ColoumnsCount-1||inUseObj.Cells.length-1>=inUseObj.posY+1?inUseObj.posX===inUseObj.ColoumnsCount-1&&!Screens_ChangeFocusAnimationFinished||Screens_KeyLeftRight(1,0):Screens_addFocus(!0);break;case KEY_UP:Screens_ChangeFocusAnimationFinished&&Screens_KeyUpDown(-1);break;case KEY_DOWN:inUseObj.dataEnded||inUseObj.Cells.length-1>=inUseObj.posY+1?Screens_ChangeFocusAnimationFinished&&Screens_KeyUpDown(1):Screens_addFocus(!0);break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:inUseObj.key_play();break;case KEY_ENTER:Settings_Obj_default("enter_refresh")?inUseObj.key_play():(document.body.removeEventListener("keydown",Screens_handleKeyDown,!1),document.body.addEventListener("keyup",Screens_handleKeyUp,!1),Screens_clear=!1,Screens_KeyEnterID=window.setTimeout(Main_ReloadScreen,400));break;case KEY_INFO:case KEY_REFRESH:Main_ReloadScreen();break;case KEY_GREEN:Main_isReleased||(Main_PrintUnicode("Reloading"),window.location.reload(!0))}}function AGame_headerOptions(){inUseObj.posX?1===inUseObj.posX?(Main_values.Main_Go=Main_AGameClip,Main_values.Main_OldgameSelected=Main_values.Main_gameSelected,AGame_headerOptionsExit(),Main_SwitchScreenAction()):AGame_follow():(Main_values.Main_Go=Main_AGameVod,Main_values.Main_OldgameSelected=Main_values.Main_gameSelected,AGame_headerOptionsExit(),Main_SwitchScreenAction())}function AGame_headerOptionsExit(){inUseObj.status&&-1===inUseObj.posY&&(Screens_removeFocusFollow(),inUseObj.posY=0,inUseObj.posX=0,Main_AddClass(inUseObj.ids[0]+"0_"+inUseObj.posX,Main_classThumb)),document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_HideElement(inUseObj.ids[10])}function AGame_follow(){AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?(AGame_following?AddCode_UnFollowGame:AddCode_FollowGame)():(Main_showWarningDialog(STR_NOKEY_WARN),window.setTimeout(function(){inUseObj.emptyContent&&Main_values.Main_Go===Main_aGame?Main_showWarningDialog(STR_NO+STR_LIVE_GAMES):Main_HideWarningDialog()},2e3))}function AGame_Checkfollow(){AddUser_UserIsSet()?AddCode_CheckFollowGame():(AGame_following=!1,AGame_setFollow())}function AGame_setFollow(){AGame_following?Main_innerHTML(AGame.ids[3]+"y_2",'<i class="icon-heart" style="color: #6441a4; font-size: 100%;"></i>'+STR_SPACE+STR_SPACE+STR_FOLLOWING):Main_innerHTML(AGame.ids[3]+"y_2",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+STR_SPACE+STR_SPACE+(AddUser_UserIsSet()?STR_FOLLOW:STR_NOKEY))}document.body.addEventListener("keyup",Screens_handleKeyUpAnimationFast);var Screens_OffSetDialogID,Screens_PeriodDialogPos=0;function Screens_PeriodStart(){Screens_setPeriodDialog(),Main_ShowElement("dialog_period"),document.body.removeEventListener("keydown",Screens_handleKeyDown),document.body.addEventListener("keydown",Screens_PeriodhandleKeyDown,!1)}function Screens_clearPeriodDialogId(){window.clearTimeout(Screens_PeriodDialogID)}function Screens_SetPeriodDialogId(){window.clearTimeout(Screens_PeriodDialogID),Screens_PeriodDialogID=window.setTimeout(Screens_PeriodDialogHide,6e3)}function Screens_setPeriodDialog(){Screens_PeriodAddFocus(Screens_PeriodDialogPos=inUseObj.periodPos),Screens_SetPeriodDialogId()}function Screens_PeriodDialogHide(){Screens_clearPeriodDialogId(),Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),document.body.removeEventListener("keydown",Screens_PeriodhandleKeyDown,!1),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),Main_HideElement("dialog_period")}function Screens_PeriodAddFocus(pos){Main_AddClass("dialog_period_"+pos,"button_dialog_focused")}function Screens_PeriodRemoveFocus(pos){Main_RemoveClass("dialog_period_"+pos,"button_dialog_focused")}function Screens_PeriodhandleKeyDown(event){switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),Screens_PeriodDialogHide();break;case KEY_LEFT:Screens_clearPeriodDialogId(),Screens_SetPeriodDialogId(),Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),--Screens_PeriodDialogPos<1&&(Screens_PeriodDialogPos=4),Screens_PeriodAddFocus(Screens_PeriodDialogPos);break;case KEY_RIGHT:Screens_clearPeriodDialogId(),Screens_SetPeriodDialogId(),Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),4<++Screens_PeriodDialogPos&&(Screens_PeriodDialogPos=1),Screens_PeriodAddFocus(Screens_PeriodDialogPos);break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:case KEY_ENTER:Screens_PeriodDialogHide(),inUseObj.periodPos!==Screens_PeriodDialogPos&&(inUseObj.periodPos=Screens_PeriodDialogPos,inUseObj.SetPeriod(),Screens_StartLoad())}}function Screens_OffSetStart(){inUseObj.OffSetPos=inUseObj.extraoffset/100,Screens_setOffSetDialog(),Main_ShowElement("dialog_OffSet"),document.body.removeEventListener("keydown",Screens_handleKeyDown),document.body.addEventListener("keydown",Screens_OffSethandleKeyDown,!1)}function Screens_clearOffSetDialogId(){window.clearTimeout(Screens_OffSetDialogID)}function Screens_SetOffSetDialogId(){window.clearTimeout(Screens_OffSetDialogID),Screens_OffSetDialogID=window.setTimeout(Screens_OffSetDialogHide,6e3)}function Screens_setOffSetDialog(){Screens_OffSetAddFocus(100*inUseObj.OffSetPos),Screens_SetOffSetDialogId()}function Screens_OffSetDialogHide(){Screens_clearOffSetDialogId(),document.body.removeEventListener("keydown",Screens_OffSethandleKeyDown,!1),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),Main_HideElement("dialog_OffSet")}function Screens_OffSetAddFocus(pos){Main_textContent("dialog_OffSet_val",pos);0<pos&&pos<5e3?(document.getElementById("dialog_OffSet_left").style.opacity="1",document.getElementById("dialog_OffSet_right").style.opacity="1"):5e3===pos?(document.getElementById("dialog_OffSet_left").style.opacity="1",document.getElementById("dialog_OffSet_right").style.opacity="0.2"):(document.getElementById("dialog_OffSet_left").style.opacity="0.2",document.getElementById("dialog_OffSet_right").style.opacity="1")}function Screens_OffSethandleKeyDown(event){switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Screens_OffSetDialogHide();break;case KEY_LEFT:Screens_clearOffSetDialogId(),Screens_SetOffSetDialogId(),inUseObj.OffSetPos--,inUseObj.OffSetPos<0&&(inUseObj.OffSetPos=0),Screens_OffSetAddFocus(100*inUseObj.OffSetPos);break;case KEY_RIGHT:Screens_clearOffSetDialogId(),Screens_SetOffSetDialogId(),inUseObj.OffSetPos++,50<inUseObj.OffSetPos&&(inUseObj.OffSetPos=50),Screens_OffSetAddFocus(100*inUseObj.OffSetPos);break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:case KEY_ENTER:Screens_OffSetDialogHide(),inUseObj.extraoffset!==inUseObj.OffSetPos&&(inUseObj.extraoffset=100*inUseObj.OffSetPos,inUseObj.SetPeriod(),Screens_StartLoad())}}var Clip,ChannelClip,AGameClip,Game,UserGames,Live,Featured,AGame,Vod,AGameVod,UserVod,ChannelVod,UserHost,UserLive,UserChannels,SearchGames,SearchLive,SearchChannels,Main_ItemsLimitMax=100,ChannelClip_game="",ChannelClip_views="",ChannelClip_title="",ChannelClip_playUrl="",ChannelClip_playUrl2="",ChannelClip_createdAt="",ChannelClip_language="",ChannelVod_vodOffset=0,ChannelVod_DurationSeconds=0,ChannelVod_language="",ChannelVod_createdAt="",ChannelVod_views="",ChannelVod_Duration="",ChannelVod_title="",ChannelVod_game="",Vod_DoAnimateThumb=1,AGame_following=!1,Base_obj={posX:0,posY:0,currY:0,row_id:0,offsettopFontsize:0,offsettop:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,visiblerows:3,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,token:null,data_cursor:0,loadDataSuccess:Screens_loadDataSuccess,addrow:Screens_addrow,key_exit:function(goSidepanel){Screens_RemoveAllFocus(),this.screen!==Main_aGame||goSidepanel?this.screen!==Main_SearchLive&&this.screen!==Main_SearchGames&&this.screen!==Main_SearchChannels||goSidepanel?this.screen!==Main_AGameClip&&this.screen!==Main_AGameVod||goSidepanel?this.screen!==Main_ChannelClip&&this.screen!==Main_ChannelVod||goSidepanel?Screens_OpenSidePanel():(Screens_BasicExit(Main_ChannelContent),Main_SwitchScreenAction()):(Screens_BasicExit(Main_aGame),Main_SwitchScreenAction()):(Main_values.Main_Go===Main_values.Main_BeforeSearch?Main_values.Main_Go=Main_Live:Main_values.Main_Go=Main_values.Main_BeforeSearch,Main_values.Search_isSearching=!1,Screens_BasicExit(Main_values.Main_Go),Main_SwitchScreenAction()):(Main_values.Games_return?(Main_values.Main_Go=Main_SearchGames,Main_values.Main_gameSelected=Main_values.gameSelectedOld,Main_values.gameSelectedOld=null):(Main_values.Main_Go=Main_values.Main_BeforeAgame,Main_values.Main_BeforeAgame=Main_games),Screens_BasicExit(Main_values.Main_Go),Main_SwitchScreenAction())},concatenate:function(responseText){this.data?((responseText=JSON.parse(responseText))[this.object]&&(this.data=this.data.concat(responseText[this.object]),this.offset=this.data.length),this.setMax(responseText)):(responseText=JSON.parse(responseText),this.data=responseText[this.object],this.data?(this.offset=this.data.length,this.setMax(responseText)):this.data=[],this.loadDataSuccess()),this.loadingData=!1}},Base_Vod_obj={ItemsLimit:Main_ItemsLimitVideo,ColoumnsCount:Main_ColoumnsCountVideo,ItemsReloadLimit:Main_ItemsReloadLimitVideo,thumbclass:"stream_thumbnail_live_holder",rowClass:"animate_height_transition",addFocus:function(y,x,idArray,forceScroll){this.AnimateThumb(this),Screens_addFocusVideo(y,x,idArray,forceScroll)},setMax:function(tempObj){tempObj[this.object].length<Main_ItemsLimitMax-5&&(this.dataEnded=!0)},img_404:IMG_404_VIDEO,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return STR_NO+STR_SPACE+(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)},AnimateThumbId:null,HasAnimateThumb:!0,Vod_newImg:new Image,AnimateThumb:function(screen){var div;window.clearInterval(screen.AnimateThumbId),Vod_DoAnimateThumb&&(div=document.getElementById(this.ids[6]+this.posY+"_"+this.posX),this.Vod_newImg.onload=function(){this.onload=null,Main_HideElement(screen.ids[1]+screen.posY+"_"+screen.posX),div.style.backgroundSize=div.offsetWidth+"px";var frame=0;screen.AnimateThumbId=window.setInterval(function(){div.style.backgroundPosition="0px "+ ++frame%10*-div.offsetHeight+"px"},650)},this.Vod_newImg.src=div.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1"))},addCellBase:function(cell,thubnail){this.idObject[cell._id]||-1!==(thubnail+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[cell._id]=1,this.row.appendChild(Screens_createCellVod(this.row_id+"_"+this.coloumn_id,this.ids,[thubnail.replace("{width}x{height}",Main_VideoSize),cell.channel.display_name,STR_STREAM_ON+Main_videoCreatedAt(cell.created_at),twemoji.parse(cell.title),Main_addCommas(cell.views)+STR_VIEWS,cell.resolutions.chunked?Main_videoqualitylang(cell.resolutions.chunked.slice(-4),parseInt(cell.fps.chunked)||0,cell.channel.broadcaster_language):"",cell.length,cell.animated_preview_url,cell._id,cell.channel.broadcaster_language,cell.game,cell.channel.name,cell.increment_view_count_url,cell.channel._id,cell.channel.logo,cell.channel.partner])),this.coloumn_id++)},addCell:function(cell){this.addCellBase(cell,cell.preview.template)}};function ScreensObj_InitVod(){Vod=Screens_assign({periodMaxPos:4,HeaderQuatity:2,key_pgDown:Main_Clip,key_pgUp:Main_games,object:"vods",ids:Screens_ScreenIds("Vod"),table:"stream_table_vod",screen:Main_Vod,highlightSTR:"Vod_highlight",highlight:Main_getItemBool("Vod_highlight",!1),periodPos:Main_getItemInt("vod_periodPos",2),base_url:Main_kraken_api+"videos/top?limit="+Main_ItemsLimitMax,set_url:function(){this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):Screens_PeriodStart():Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var thumbfollow,div,SwitchesStrings=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_CLIP],i=0;i<SwitchesStrings.length;i++)thumbfollow='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_follow_icon"></i>'+SwitchesStrings[i],(div=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),div.className="stream_cell_period",div.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_follow_game">'+thumbfollow+"</div></div>",this.row.appendChild(div);document.getElementById(this.table).appendChild(this.row)},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),this.SetPeriod()},SetPeriod:function(){Main_setItem("vod_periodPos",this.periodPos),ScreensObj_SetTopLable(STR_VIDEOS,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+STR_SPACE+Main_Periods[this.periodPos-1])}},Base_obj),Vod=Screens_assign(Vod,Base_Vod_obj)}function ScreensObj_InitChannelVod(){ChannelVod=Screens_assign({periodMaxPos:2,HeaderQuatity:2,key_pgDown:Main_ChannelClip,object:"videos",ids:Screens_ScreenIds("ChannelVod"),table:"stream_table_channel_vod",screen:Main_ChannelVod,time:["time","views"],extraoffset:0,OffSetPos:0,highlightSTR:"ChannelVod_highlight",highlight:Main_getItemBool("ChannelVod_highlight",!1),periodPos:Main_getItemInt("ChannelVod_periodPos",1),base_url:Main_kraken_api+"channels/",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_selectedChannel_id)+"/videos?limit="+Main_ItemsLimitMax+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort="+this.time[this.periodPos-1]+"&offset="+(this.offset+this.extraoffset)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):1===this.posX?(this.periodPos++,this.periodPos>this.periodMaxPos&&(this.periodPos=1),this.SetPeriod(),Screens_StartLoad()):Screens_OffSetStart():Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history","offset"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var thumbfollow,div,SwitchesStrings=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_TYPE,STR_SPACE+STR_SPACE+STR_SWITCH_POS],i=0;i<SwitchesStrings.length;i++)thumbfollow='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_follow_icon"></i>'+SwitchesStrings[i],(div=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),div.className="stream_cell_period",div.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_follow_game">'+thumbfollow+"</div></div>",this.row.appendChild(div);document.getElementById(this.table).appendChild(this.row)},lastselectedChannel:"",label_init:function(){!Main_values.Search_isSearching&&Main_values.Main_selectedChannel_id&&ChannelContent_RestoreChannelValue(),Main_values.Main_selectedChannel!==this.lastselectedChannel&&(this.OffSetPos=0,this.extraoffset=0,this.status=!1),this.lastselectedChannel=Main_values.Main_selectedChannel,Main_cleanTopLabel(),Main_ShowElement("label_side_panel"),this.SetPeriod()},SetPeriod:function(){Main_setItem("UserVod_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_selectedChannelDisplayname,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+(1===this.periodPos?STR_TIME:STR_VIWES)+", Offset "+inUseObj.extraoffset)},label_exit:function(){Main_RestoreTopLabel()}},Base_obj),(ChannelVod=Screens_assign(ChannelVod,Base_Vod_obj)).addCell=function(cell){var thumbnail=cell.preview.template;this.row_id||-1===(thumbnail+"").indexOf("404_processing")||(thumbnail=null!==ChannelContent_offline_image?ChannelContent_offline_image:this.img_404),this.addCellBase(cell,thumbnail)}}function ScreensObj_InitAGameVod(){AGameVod=Screens_assign({periodMaxPos:4,HeaderQuatity:2,object:"vods",key_pgDown:Main_Vod,key_pgUp:Main_Featured,ids:Screens_ScreenIds("AGameVod"),table:"stream_table_a_game_vod",screen:Main_AGameVod,highlightSTR:"AGameVod_highlight",highlight:Main_getItemBool("AGameVod_highlight",!1),periodPos:Main_getItemInt("AGameVod_periodPos",2),base_url:Main_kraken_api+"videos/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_gameSelected)+"&limit="+Main_ItemsLimitMax+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):Screens_PeriodStart():Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var thumbfollow,div,SwitchesStrings=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_CLIP],i=0;i<SwitchesStrings.length;i++)thumbfollow='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_follow_icon"></i>'+SwitchesStrings[i],(div=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),div.className="stream_cell_period",div.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_follow_game">'+thumbfollow+"</div></div>",this.row.appendChild(div);document.getElementById(this.table).appendChild(this.row)},OldgameSelected:"",label_init:function(){ScreensObj_TopLableAgameInit(),this.SetPeriod()},label_exit:ScreensObj_TopLableAgameExit,SetPeriod:function(){Main_setItem("AGameVod_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_gameSelected,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+STR_SPACE+Main_Periods[this.periodPos-1])}},Base_obj),AGameVod=Screens_assign(AGameVod,Base_Vod_obj)}function ScreensObj_InitUserVod(){UserVod=Screens_assign({periodMaxPos:2,HeaderQuatity:3,object:"videos",key_pgDown:Main_UserChannels,key_pgUp:Main_usergames,ids:Screens_ScreenIds("UserVod"),table:"stream_table_user_vod",screen:Main_UserVod,time:["time","views"],highlightSTR:"UserVod_highlight",highlight:Main_getItemBool("UserVod_highlight",!1),periodPos:Main_getItemInt("UserVod_periodPos",1),base_url:Main_kraken_api+"videos/followed?limit="+Main_ItemsLimitMax,set_url:function(){this.token=Main_OAuth+AddUser_UsernameArray[0].access_token,this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort="+this.time[this.periodPos-1]+"&offset="+this.offset},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,this.periodPos>this.periodMaxPos&&(this.periodPos=1),this.SetPeriod(),Screens_StartLoad()):Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var thumbfollow,div,SwitchesStrings=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_TYPE],i=0;i<SwitchesStrings.length;i++)thumbfollow='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_follow_icon"></i>'+SwitchesStrings[i],(div=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),div.className="stream_cell_period",div.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_follow_game">'+thumbfollow+"</div></div>",this.row.appendChild(div);document.getElementById(this.table).appendChild(this.row)},label_init:function(){this.SetPeriod(),Sidepannel_SetTopOpacity(this.screen)},SetPeriod:function(){Main_setItem("UserVod_periodPos",this.periodPos),ScreensObj_SetTopLable(STR_USER,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+(1===this.periodPos?STR_TIME:STR_VIWES))}},Base_obj),UserVod=Screens_assign(UserVod,Base_Vod_obj)}var Base_Live_obj={ItemsReloadLimit:Main_ItemsReloadLimitVideo,ItemsLimit:Main_ItemsLimitVideo,ColoumnsCount:Main_ColoumnsCountVideo,addFocus:Screens_addFocusVideo,rowClass:"animate_height_transition",thumbclass:"stream_thumbnail_live_holder",img_404:IMG_404_VIDEO,setMax:function(tempObj){this.MaxOffset=tempObj._total,tempObj[this.object]?void 0===this.MaxOffset?tempObj[this.object].length<90&&(this.dataEnded=!0):this.data.length>=this.MaxOffset&&(this.dataEnded=!0):this.dataEnded=!0},check_offset:function(){(900<=this.offset||void 0!==this.MaxOffset&&this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset)&&(this.dataEnded=!0)},empty_str:function(){return STR_NO+STR_SPACE+STR_LIVE_CHANNELS},addCell:function(cell){this.addCellTemp(cell)},addCellTemp:function(cell){this.idObject[cell.channel._id]||(this.itemsCount++,this.idObject[cell.channel._id]=1,this.row.appendChild(Screens_createCellLive(this.row_id+"_"+this.coloumn_id,[cell.channel.name,cell.channel._id,Main_is_rerun(cell.broadcast_platform)],this.ids,[cell.preview.template.replace("{width}x{height}",Main_VideoSize),cell.channel.display_name,cell.channel.status,cell.game,STR_SINCE+Play_streamLiveAt(cell.created_at)+STR_SPACE+STR_FOR+Main_addCommas(cell.viewers)+STR_SPACE+STR_VIEWER,Main_videoqualitylang(cell.video_height,cell.average_fps,cell.channel.broadcaster_language)])),this.coloumn_id++)}};function ScreensObj_InitLive(){Live=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("Live"),table:"stream_table_live",screen:Main_Live,object:"streams",key_pgDown:Main_Featured,key_pgUp:Main_Clip,base_url:Main_kraken_api+"streams?limit="+Main_ItemsLimitMax,set_url:function(){this.check_offset(),this.url=this.base_url+"&offset="+this.offset+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_LIVE)},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),Live=Screens_assign(Live,Base_Live_obj)}function ScreensObj_InitSearchLive(){SearchLive=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("SearchLive"),table:"stream_table_search_live",screen:Main_SearchLive,object:"streams",base_url:Main_kraken_api+"search/streams?limit="+Main_ItemsLimitMax+"&query=",set_url:function(){this.check_offset(),this.url=this.base_url+encodeURIComponent(Main_values.Search_data)+"&offset="+this.offset},label_init:function(){Main_values.Search_isSearching=!0,Main_cleanTopLabel(),this.lastData!==Main_values.Search_data&&(this.status=!1),this.lastData=Main_values.Search_data,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_SEARCH+STR_SPACE+STR_LIVE,"'"+Main_values.Search_data+"'")},label_exit:function(){Main_values.Search_isSearching=!1,Main_values.Search_isSearching||Main_RestoreTopLabel()},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),SearchLive=Screens_assign(SearchLive,Base_Live_obj)}function ScreensObj_InitUserLive(){UserLive=Screens_assign({HeaderQuatity:3,ids:Screens_ScreenIds("UserLive"),table:"stream_table_user_live",screen:Main_UserLive,object:"streams",key_pgDown:Main_UserHost,key_pgUp:Main_UserChannels,base_url:Main_kraken_api+"streams/",loadChannelOffsset:0,followerChannels:"",followerChannelsDone:!1,set_url:function(){this.check_offset(),AddUser_UsernameArray[0].access_token?(this.HeaderQuatity=3,this.token=Main_OAuth+AddUser_UsernameArray[0].access_token,this.url=this.base_url+"followed?limit="+Main_ItemsLimitMax+"&offset="+this.offset+"&stream_type=all"):(this.HeaderQuatity=2,this.token=null,this.followerChannelsDone?this.url=this.base_url+"?channel="+this.followerChannels.join()+"&limit="+Main_ItemsLimitMax+"&offset="+this.offset+"&stream_type=all":this.url=Main_kraken_api+"users/"+encodeURIComponent(AddUser_UsernameArray[0].id)+"/follows/channels?limit="+Main_ItemsLimitMax+"&offset="+this.loadChannelOffsset+"&sortby=last_broadcast")},label_init:function(){ScreensObj_TopLableUserInit(),ScreensObj_SetTopLable(STR_USER,STR_LIVE_CHANNELS)},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),(UserLive=Screens_assign(UserLive,Base_Live_obj)).concatenate=function(max){if(this.token||this.followerChannelsDone)this.data?((max=JSON.parse(max))[this.object]&&(this.data=this.data.concat(max[this.object]),this.offset=this.data.length),this.setMax(max)):(max=JSON.parse(max),this.data=max[this.object],this.data?this.offset=this.data.length:this.data=[],this.setMax(max),this.dataEnded&&this.token&&this.data.sort(function(a,b){return b.viewers-a.viewers}),this.loadDataSuccess()),this.loadingData=!1;else{var response=JSON.parse(max).follows,response_items=response.length;if(response_items){var x=0,max=this.followerChannels.length+response_items;for(max>UserLiveFeed_maxChannels&&(this.followerChannelsDone=!0,response_items=Math.min(response_items,response_items-(max-UserLiveFeed_maxChannels)));x<response_items;x++)this.followerChannels.push(response[x].channel._id);this.loadChannelOffsset+=response_items}else this.followerChannelsDone=!0;Screens_loadDataRequest()}}}function ScreensObj_InitUserHost(){UserHost=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("UserHost"),table:"stream_table_user_host",screen:Main_UserHost,object:"hosts",use_hls:!0,key_pgDown:Main_usergames,key_pgUp:Main_UserLive,base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(AddUser_UsernameArray[0].name)+"/followed/hosting?limit="+Main_ItemsLimitMax+"&offset="+this.offset},label_init:function(){ScreensObj_TopLableUserInit(),ScreensObj_SetTopLable(STR_USER,STR_LIVE_HOSTS)},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),(UserHost=Screens_assign(UserHost,Base_Live_obj)).addCell=function(cell){this.idObject[cell.target._id+""+cell._id]||(this.itemsCount++,this.idObject[cell.target._id+""+cell._id]=1,this.row.appendChild(Screens_createCellLive(this.row_id+"_"+this.coloumn_id,[cell.target.channel.name,cell.target._id,!1],this.ids,[cell.target.preview_urls.template.replace("{width}x{height}",Main_VideoSize),cell.display_name+STR_USER_HOSTING+cell.target.channel.display_name,cell.target.title,cell.target.meta_game,STR_FOR.charAt(0).toUpperCase()+STR_FOR.slice(1)+Main_addCommas(cell.target.viewers)+STR_SPACE+STR_VIEWER,""])),this.coloumn_id++)}}function ScreensObj_InitAGame(){AGame=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("AGame"),table:"stream_table_a_game",screen:Main_aGame,object:"streams",key_pgDown:Main_Vod,key_pgUp:Main_Featured,base_url:Main_kraken_api+"streams?game=",set_url:function(){this.check_offset(),this.url=this.base_url+encodeURIComponent(Main_values.Main_gameSelected)+"&limit="+Main_ItemsLimitMax+"&offset="+this.offset+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},label_init:function(){ScreensObj_TopLableAgameInit(),Main_values.Search_isSearching?Main_cleanTopLabel():Main_values.gameSelectedOld=null,ScreensObj_SetTopLable(Main_values.Main_gameSelected,STR_LIVE)},label_exit:ScreensObj_TopLableAgameExit,HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var thumbfollow,div,SwitchesStrings=[STR_SPACE+STR_SPACE+STR_VIDEOS,STR_SPACE+STR_SPACE+STR_CLIPS,STR_SPACE+STR_SPACE+STR_FOLLOW],i=0;i<SwitchesStrings.length;i++)thumbfollow='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_follow_icon"></i>'+SwitchesStrings[i],(div=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),div.className="stream_cell_period",div.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_follow_game">'+thumbfollow+"</div></div>",this.row.appendChild(div);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1!==this.posY?Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown):AGame_headerOptions()}},Base_obj),AGame=Screens_assign(AGame,Base_Live_obj)}function ScreensObj_InitFeatured(){Featured=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("Featured"),table:"stream_table_featured",screen:Main_Featured,key_pgDown:Main_games,key_pgUp:Main_Live,base_url:Main_kraken_api+"streams/featured?limit="+Main_ItemsLimitMax,set_url:function(){this.check_offset(),this.url=this.base_url+"&offset="+this.offset+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?"&oauth_token="+AddUser_UsernameArray[0].access_token:"")},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_FEATURED)},object:"featured",key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),(Featured=Screens_assign(Featured,Base_Live_obj)).addCell=function(cell){cell=cell.stream,this.addCellTemp(cell)}}var Base_Clip_obj={HeaderQuatity:2,ItemsLimit:Main_ItemsLimitVideo,TopRowCreated:!1,ItemsReloadLimit:Main_ItemsReloadLimitVideo,ColoumnsCount:Main_ColoumnsCountVideo,addFocus:Screens_addFocusVideo,rowClass:"animate_height_transition",thumbclass:"stream_thumbnail_live_holder",cursor:null,object:"clips",period:["day","week","month","all"],img_404:IMG_404_VIDEO,empty_str:function(){return STR_NO+STR_SPACE+STR_CLIPS},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var thumbfollow,div,SwitchesStrings=[STR_SPACE+STR_SPACE+STR_SWITCH_CLIP,STR_SPACE+STR_SPACE+STR_PLAY_ALL],i=0;i<SwitchesStrings.length;i++)thumbfollow='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_follow_icon"></i>'+SwitchesStrings[i],(div=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),div.className="stream_cell_period",div.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_follow_game">'+thumbfollow+"</div></div>",this.row.appendChild(div);document.getElementById(this.table).appendChild(this.row)},setMax:function(tempObj){this.cursor=tempObj._cursor,""===this.cursor&&(this.dataEnded=!0)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(PlayClip_All=!0,Screens_removeFocusFollow(),this.posX=0,this.posY=0,Main_OpenClip(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)):Screens_PeriodStart()):Main_OpenClip(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},Cells:[],addCell:function(cell){this.idObject[cell.tracking_id]||(this.itemsCount++,this.idObject[cell.tracking_id]=1,this.row.appendChild(Screens_createCellClip(this.row_id+"_"+this.coloumn_id,this.ids,[cell.slug,cell.duration,cell.game,cell.broadcaster.name,cell.broadcaster.display_name,cell.broadcaster.logo.replace("150x150","300x300"),cell.broadcaster.id,null!==cell.vod?cell.vod.id:null,null!==cell.vod?cell.vod.offset:null,twemoji.parse(cell.title),"["+cell.language.toUpperCase()+"]",STR_CREATED_AT+Main_videoCreatedAt(cell.created_at),Main_addCommas(cell.views)+STR_VIEWS,cell.thumbnails.medium])),this.coloumn_id++)}};function ScreensObj_InitClip(){Clip=Screens_assign({ids:Screens_ScreenIds("Clip"),table:"stream_table_clip",screen:Main_Clip,key_pgDown:Main_Live,key_pgUp:Main_Vod,periodPos:Main_getItemInt("Clip_periodPos",2),base_url:Main_kraken_api+"clips/top?limit="+Main_ItemsLimitMax,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Main_ContentLang?"&language="+(Languages_Extra[Main_ContentLang]||Main_ContentLang):"")},SetPeriod:function(){Main_setItem("Clip_periodPos",this.periodPos),ScreensObj_SetTopLable(STR_CLIPS,Main_Periods[this.periodPos-1])},label_init:function(){this.SetPeriod(),Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen)},label_exit:function(){Main_RestoreTopLabel()}},Base_obj),Clip=Screens_assign(Clip,Base_Clip_obj)}function ScreensObj_InitChannelClip(){ChannelClip=Screens_assign({ids:Screens_ScreenIds("ChannelClip"),table:"stream_table_channel_clip",screen:Main_ChannelClip,key_pgUp:Main_ChannelVod,periodPos:Main_getItemInt("ChannelClip_periodPos",2),base_url:Main_kraken_api+"clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_selectedChannel)+"&limit="+Main_ItemsLimitMax+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Main_setItem("ChannelClip_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_selectedChannelDisplayname,STR_CLIPS+STR_SPACE+Main_Periods[this.periodPos-1])},label_init:function(){!Main_values.Search_isSearching&&Main_values.Main_selectedChannel_id&&ChannelContent_RestoreChannelValue(),Main_values.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),Main_cleanTopLabel(),this.SetPeriod(),Main_ShowElement("label_side_panel"),this.lastselectedChannel=Main_values.Main_selectedChannel},label_exit:Main_RestoreTopLabel},Base_obj),ChannelClip=Screens_assign(ChannelClip,Base_Clip_obj)}function ScreensObj_InitAGameClip(){AGameClip=Screens_assign({ids:Screens_ScreenIds("AGameClip"),table:"stream_table_a_game_clip",screen:Main_AGameClip,key_pgDown:Main_Vod,key_pgUp:Main_Featured,periodPos:Main_getItemInt("AGameClip_periodPos",2),base_url:Main_kraken_api+"clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_gameSelected)+"&limit="+Main_ItemsLimitMax+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Main_ContentLang?"&language="+(Languages_Extra[Main_ContentLang]||Main_ContentLang):"")},SetPeriod:function(){Main_setItem("AGameClip_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_gameSelected,STR_CLIPS+STR_SPACE+Main_Periods[this.periodPos-1])},label_init:function(){ScreensObj_TopLableAgameInit(),this.SetPeriod()},label_exit:ScreensObj_TopLableAgameExit},Base_obj),AGameClip=Screens_assign(AGameClip,Base_Clip_obj)}var Base_Game_obj={HeaderQuatity:2,thumbclass:"stream_thumbnail_game_holder",ItemsReloadLimit:Main_ItemsReloadLimitGame,ItemsLimit:Main_ItemsLimitGame,rowClass:"animate_height_transition_games",ColoumnsCount:Main_ColoumnsCountGame,addFocus:Screens_addFocusGame,img_404:IMG_404_GAME,empty_str:function(){return STR_NO+STR_SPACE+STR_LIVE_GAMES},key_play:function(){Main_removeFocus(this.posY+"_"+this.posX,this.ids),Main_values.Main_gameSelected=JSON.parse(document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Main_DataAttribute)),Main_values.Main_gameSelected_id=Main_values.Main_gameSelected[3],Main_values.Main_gameSelected=Main_values.Main_gameSelected[1],document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_values.Main_BeforeAgame=this.screen,Main_values.Main_Go=Main_aGame,Main_values.Main_BeforeAgameisSet=!0,Main_addFocusVideoOffset=0,document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_HideElement(this.ids[10]),Main_SwitchScreenAction()},setMax:function(tempObj){this.MaxOffset=tempObj._total,this.data.length>=this.MaxOffset&&(this.dataEnded=!0)},addCell:function(cell){var hasLive=this.isLive||this.screen===Main_games,game=hasLive?cell.game:cell;this.idObject[game._id]||(this.itemsCount++,this.idObject[game._id]=1,this.row.appendChild(Screens_createCellGame(this.row_id+"_"+this.coloumn_id,this.ids,[game.box.template.replace("{width}x{height}",Main_GameSize),game.name,hasLive?Main_addCommas(cell.channels)+STR_SPACE+STR_CHANNELS+STR_BR+STR_FOR+Main_addCommas(cell.viewers)+STR_SPACE+STR_VIEWER:"",game._id])),this.coloumn_id++)}};function ScreensObj_InitGame(){Game=Screens_assign({ids:Screens_ScreenIds("Game"),table:"stream_table_games",screen:Main_games,key_pgDown:Main_Vod,key_pgUp:Main_Featured,object:"top",hasGameProp:!0,base_url:Main_kraken_api+"games/top?limit="+Main_ItemsLimitMax,set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_GAMES)}},Base_obj),Game=Screens_assign(Game,Base_Game_obj)}function ScreensObj_InitUserGames(){UserGames=Screens_assign({ids:Screens_ScreenIds("UserGames"),table:"stream_table_user_games",screen:Main_usergames,key_pgDownNext:Main_UserChannels,key_pgDown:Main_UserVod,key_pgUp:Main_UserHost,isLive:Main_getItemBool("user_Games_live",!0),OldUserName:"",object:"follows",use_hls:!0,base_url:Main_kraken_api+"streams/followed",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url,this.isLive?this.url+="?stream_type=live&limit=150":this.url+="?stream_type=all&limit="+Main_ItemsLimitMax+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,ScreensObj_SetTopLable(STR_USER,this.isLive?STR_LIVE_GAMES:STR_FOLLOW_GAMES),Screens_StartLoad(),Main_setItem("user_Games_live",this.isLive?"true":"false")},label_init:function(){ScreensObj_TopLableUserInit(),Main_IconLoad("label_refresh","icon-refresh",STR_USER_GAMES_CHANGE+STR_LIVE_GAMES+"/"+STR_FOLLOW_GAMES+":"+STR_GUIDE),ScreensObj_SetTopLable(STR_USER,this.isLive?STR_LIVE_GAMES:STR_FOLLOW_GAMES)},label_exit:function(){Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE)}},Base_obj),UserGames=Screens_assign(UserGames,Base_Game_obj)}function ScreensObj_InitSearchGames(){SearchGames=Screens_assign({ids:Screens_ScreenIds("SearchGames"),table:"stream_table_search_game",screen:Main_SearchGames,isLive:!1,OldUserName:"",object:"games",lastData:"",base_url:Main_kraken_api+"search/games?query=",set_url:function(){this.dataEnded=!0,this.url=this.base_url+encodeURIComponent(Main_values.Search_data)},label_init:function(){Main_values.gameSelectedOld||(Main_values.gameSelectedOld=Main_values.Main_gameSelected),Main_values.Search_isSearching=!0,Main_cleanTopLabel(),this.lastData!==Main_values.Search_data&&(this.status=!1),this.lastData=Main_values.Search_data,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_SEARCH+STR_SPACE+STR_GAMES,"'"+Main_values.Search_data+"'")},label_exit:function(){Main_values.Main_gameSelected=Main_values.gameSelectedOld,Main_values.Search_isSearching||Main_RestoreTopLabel(),Main_values.Games_return=!1}},Base_obj),(SearchGames=Screens_assign(SearchGames,Base_Game_obj)).ItemsLimit=100}var Base_Channel_obj={ItemsLimit:Main_ItemsLimitChannel,ColoumnsCount:Main_ColoumnsCountChannel,addFocus:Screens_addFocusChannel,ItemsReloadLimit:Main_ItemsReloadLimitChannel,thumbclass:"stream_thumbnail_channel_holder",rowClass:"animate_height_transition_channel",img_404:IMG_404_LOGO,setMax:function(tempObj){this.MaxOffset=tempObj._total,(this.data.length>=this.MaxOffset||void 0===this.MaxOffset)&&(this.dataEnded=!0)},empty_str:function(){return STR_NO+STR_SPACE+STR_USER_CHANNEL},addCellTemp:function(cell){this.idObject[cell._id]||(this.itemsCount++,this.idObject[cell._id]=1,this.row.appendChild(Screens_createCellChannel(this.row_id+"_"+this.coloumn_id,this.ids,[cell.name,cell._id,cell.logo,cell.display_name,cell.partner])),this.coloumn_id++)}};function ScreensObj_InitUserChannels(){UserChannels=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("UserChannels"),table:"stream_table_user_channels",screen:Main_UserChannels,object:"follows",key_pgDown:Main_UserLive,key_pgUp:Main_UserVod,key_pgUpNext:Main_usergames,base_url:Main_kraken_api+"users/",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(AddUser_UsernameArray[0].id)+"/follows/channels?limit="+Main_ItemsLimitMax+"&offset="+this.offset+"&sortby=login&direction=asc"},label_init:function(){ScreensObj_TopLableUserInit(),ScreensObj_SetTopLable(STR_USER,STR_USER_CHANNEL)},key_play:function(){Main_ThumbOpenIsNull(this.posY+"_"+this.posX,this.ids[0])||(Main_values.Main_selectedChannel=JSON.parse(document.getElementById(this.ids[8]+this.posY+"_"+this.posX).getAttribute(Main_DataAttribute)),Main_values.Main_selectedChannel_id=Main_values.Main_selectedChannel[1],Main_values.Main_selectedChannelDisplayname=Main_values.Main_selectedChannel[3],Main_values.Main_selectedChannelLogo=Main_values.Main_selectedChannel[2],Main_values.Main_selectedChannel=Main_values.Main_selectedChannel[0],document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_values.Main_BeforeChannel=Main_UserChannels,Main_values.Main_Go=Main_ChannelContent,Main_values.Main_BeforeChannelisSet=!0,AddCode_IsFollowing=!0,ChannelContent_UserChannels=!0,Screens_exit(),Main_SwitchScreen())},addCell:function(cell){cell=cell.channel,this.addCellTemp(cell)}},Base_obj),(UserChannels=Screens_assign(UserChannels,Base_Channel_obj)).addrow=Screens_addrowChannel,UserChannels.visiblerows=5}function ScreensObj_InitSearchChannels(){SearchChannels=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("SearchChannels"),table:"stream_table_search_channel",screen:Main_SearchChannels,object:"channels",base_url:Main_kraken_api+"search/channels?limit="+Main_ItemsLimitMax+"&query=",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Main_values.Search_data)+"&offset="+this.offset},label_init:function(){Main_values.Search_isSearching=!0,Main_cleanTopLabel(),this.lastData!==Main_values.Search_data&&(this.status=!1),this.lastData=Main_values.Search_data,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_SEARCH+STR_SPACE+STR_CHANNELS,"'"+Main_values.Search_data+"'")},label_exit:function(){Main_values.Search_isSearching||Main_RestoreTopLabel()},key_play:function(){Main_ThumbOpenIsNull(this.posY+"_"+this.posX,this.ids[0])||(Main_values.Main_selectedChannel=JSON.parse(document.getElementById(this.ids[8]+this.posY+"_"+this.posX).getAttribute(Main_DataAttribute)),Main_values.Main_selectedChannel_id=Main_values.Main_selectedChannel[1],Main_values.Main_selectedChannelDisplayname=Main_values.Main_selectedChannel[3],Main_values.Main_selectedChannelLogo=Main_values.Main_selectedChannel[2],Main_values.Main_selectedChannel=Main_values.Main_selectedChannel[0],document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_values.Main_BeforeChannel=Main_SearchChannels,Main_values.Main_Go=Main_ChannelContent,Main_values.Main_BeforeChannelisSet=!0,AddCode_IsFollowing=!1,ChannelContent_UserChannels=!1,Screens_exit(),Main_SwitchScreen())},addCell:function(cell){this.addCellTemp(cell)}},Base_obj),(SearchChannels=Screens_assign(SearchChannels,Base_Channel_obj)).addrow=Screens_addrowChannel,SearchChannels.visiblerows=5}function ScreensObj_TopLableAgameInit(){null===Main_values.Main_OldgameSelected&&(Main_values.Main_OldgameSelected=Main_values.Main_gameSelected),Main_ShowElement("label_side_panel"),Main_values.Main_OldgameSelected===Main_values.Main_gameSelected&&inUseObj.gameSelected===Main_values.Main_gameSelected||(inUseObj.status=!1),inUseObj.gameSelected=Main_values.Main_gameSelected,Main_values.Main_OldgameSelected=Main_values.Main_gameSelected,Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(inUseObj.screen)}function ScreensObj_TopLableAgameExit(){inUseObj.gameSelected=Main_values.Main_gameSelected,Main_HideElement("label_side_panel")}function ScreensObj_TopLableUserInit(){inUseObj.OldUserName!==AddUser_UsernameArray[0].name&&(inUseObj.status=!1),inUseObj.OldUserName=AddUser_UsernameArray[0].name,Sidepannel_SetUserLables(),Sidepannel_SetTopOpacity(inUseObj.screen)}function ScreensObj_SetTopLable(text,small_text){Main_innerHTML("top_lable",text+STR_SPACE+(small_text?'<div style="font-size: 65%;display: inline-block;">'+small_text+"</div>":""))}var Search_cursorY=0,Search_cursorX=0,Search_keyBoardOn=!1;function Search_init(){Main_HideWarningDialog(),Main_HideElement("label_refresh"),Main_ShowElement("label_side_panel"),Main_SearchInput.placeholder=STR_PLACEHOLDER_SEARCH,Main_ShowElement("search_scroll"),Search_cursorX=Search_cursorY=0,Search_refreshInputFocusTools(),Search_inputFocus()}function Search_exit(){Search_RemoveinputFocus(!1),document.body.removeEventListener("keydown",Search_handleKeyDown),Search_refreshInputFocusTools(),Main_values.Main_Go=Main_values.Main_BeforeSearch,Main_HideElement("label_side_panel"),Main_ShowElement("label_refresh"),Main_SearchInput.value="",Main_HideElement("search_scroll")}function Search_loadData(){Search_exit(),Main_ready(function(){Search_cursorX?1===Search_cursorX?(inUseObj=SearchGames,Screens_init()):2===Search_cursorX&&(inUseObj=SearchLive,Screens_init()):(inUseObj=SearchChannels,Screens_init())})}function Search_refreshInputFocusTools(){Main_RemoveClass("chanel_button","button_search_focused"),Main_RemoveClass("game_button","button_search_focused"),Main_RemoveClass("live_button","button_search_focused"),Search_cursorY&&(Search_cursorX?1===Search_cursorX?Main_AddClass("game_button","button_search_focused"):2===Search_cursorX&&Main_AddClass("live_button","button_search_focused"):Main_AddClass("chanel_button","button_search_focused"))}function Search_handleKeyDown(event){if(!Search_keyBoardOn)switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Main_isControlsDialogShown()?Main_HideControlsDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():(Search_exit(),Main_SwitchScreen());break;case KEY_LEFT:1===Search_cursorY&&(--Search_cursorX<0&&(Search_cursorX=2),Search_refreshInputFocusTools());break;case KEY_RIGHT:1===Search_cursorY&&(2<++Search_cursorX&&(Search_cursorX=0),Search_refreshInputFocusTools());break;case KEY_UP:1===Search_cursorY&&(Search_cursorY=0,Search_refreshInputFocusTools(),Search_inputFocus());break;case KEY_DOWN:Search_cursorY?1===Search_cursorY&&(Search_cursorY=0,Search_refreshInputFocusTools(),Search_inputFocus()):(Search_RemoveinputFocus(!1),Search_cursorY=1,Search_refreshInputFocusTools());break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:Search_cursorY?""!==Main_SearchInput.value&&null!==Main_SearchInput.value?(Main_values.Search_data=Main_SearchInput.value,Main_SearchInput.value="",Search_loadData()):(Main_showWarningDialog(STR_SEARCH_EMPTY),window.setTimeout(function(){Main_HideWarningDialog()},1e3)):Search_inputFocus()}}function Search_inputFocus(){document.body.removeEventListener("keydown",Search_handleKeyDown),document.body.addEventListener("keydown",Search_KeyboardEvent,!1),Main_SearchInput.placeholder=STR_PLACEHOLDER_SEARCH,Main_SearchInput.focus(),Search_keyBoardOn=!0}function Search_RemoveinputFocus(EnaKeydown){Main_SearchInput.blur(),Search_removeEventListener(),document.body.removeEventListener("keydown",Search_KeyboardEvent),Main_SearchInput.placeholder=STR_PLACEHOLDER_PRESS+STR_PLACEHOLDER_SEARCH,EnaKeydown&&document.body.addEventListener("keydown",Search_handleKeyDown,!1),Search_keyBoardOn=!1}function Search_removeEventListener(){var elClone;null!==Main_SearchInput&&(elClone=Main_SearchInput.cloneNode(!0),Main_SearchInput.parentNode.replaceChild(elClone,Main_SearchInput),Main_SearchInput=document.getElementById("search_input"))}function Search_KeyboardEvent(event){switch(event.keyCode){case KEY_RETURN_Q:case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(Search_exit(),Main_SwitchScreen());break;case KEY_KEYBOARD_DELETE_ALL:Main_SearchInput.value="";break;case KEY_KEYBOARD_DONE:case KEY_KEYBOARD_CANCEL:case KEY_DOWN:Search_RemoveinputFocus(!0),Search_cursorY=1,Search_refreshInputFocusTools();break;case KEY_KEYBOARD_BACKSPACE:Main_SearchInput.value=Main_SearchInput.value.slice(0,-1);break;case KEY_KEYBOARD_SPACE:Main_SearchInput.value+=" "}}var Settings_cursorY=0,Settings_value={restor_playback:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},single_click_exit:{values:["no","yes"],defaultValue:1},app_animations:{values:["no","yes"],defaultValue:1},enter_refresh:{values:["yes","no"],defaultValue:1},show_screen_counter:{values:["no","yes"],defaultValue:2},live_feed_sort:{values:["views_more","views_less","name_a-z","name_z-a","game_a-z","game_z-a","uptime_new","uptime_old"],defaultValue:1},live_notification:{values:["no","yes"],defaultValue:2},global_font_offset:{values:[-3,-2,-1,0,1,2,3],defaultValue:4},live_notification_time:{values:[1,2,3,4,5,6,7,8,9,10],defaultValue:4},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:5},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},end_dialog_counter:{values:["disable",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},bitrate_min:{values:["disable",11,10.5,10,9.5,9,8.5,8,7.5,7,6.5,6,5.5,5,4.5,4,3.5,3,2.5,2,1.5,1],defaultValue:18},videos_animation:{values:["no","yes"],defaultValue:2},thumb_quality:{values:["very-low","low","normal","high","very-high"],defaultValue:3},clock_offset:{values:Settings_GenerateClock(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}},Settings_FeedSort=[[null,"viewers",0],[null,"viewers",1],["channel","name",1],["channel","name",0],[null,"game",1],[null,"game",0],[null,"created_at",0],[null,"created_at",1]];function Settings_GenerateClock(){for(var clock=[],time=43200,i=0;i<48;i++)clock.push("-"+Play_timeS(time)),time-=900;for(clock.push(Play_timeS(0)),time=900,i=0;i<48;i++)clock.push(Play_timeS(time)),time+=900;return clock}var Settings_value_keys=[],Settings_positions_length=0;function Settings_init(){document.body.addEventListener("keydown",Settings_handleKeyDown,!1),ScreensObj_SetTopLable(STR_SETTINGS),Main_ShowElement("settings_holder"),Main_ShowElement("label_side_panel"),Main_HideElement("label_refresh"),Settings_inputFocus(Settings_cursorY=0),Settings_DivOptionChangeLang("content_lang",STR_CONTENT_LANG,Languages_Selected)}function Settings_exit(){Settings_ScrollTableReset(),document.body.removeEventListener("keydown",Settings_handleKeyDown),Main_HideElement("label_side_panel"),Main_ShowElement("label_refresh"),Settings_RemoveinputFocus(),Main_HideElement("settings_holder")}function Settings_SetSettings(){var key,div="";div+=Settings_DivTitle("general",STR_SETTINGS_GENERAL),Settings_value_keys.push("content_lang"),Settings_value.content_lang.values=[STR_CONTENT_LANG_SUMARRY],div+=Settings_DivOptionWithSummary("content_lang",STR_CONTENT_LANG,""),Settings_value_keys.push("live_feed_sort"),Settings_value.live_feed_sort.values=[STR_VIWES_MOST,STR_VIWES_LOWEST,STR_NAME_A_Z,STR_NAME_Z_A,STR_GAME_A_Z,STR_GAME_Z_A,STR_CREATED_NEWEST,STR_CREATED_OLDEST],div+=Settings_DivOptionWithSummary("live_feed_sort",STR_LIVE_FEED_SORT,STR_LIVE_FEED_SORT_SUMMARY),Settings_value_keys.push("thumb_quality"),Settings_value.thumb_quality.values=[STR_VERY_LOW,STR_LOW,STR_NORMAL,STR_HIGH,STR_VERY_HIGH],div+=Settings_DivOptionWithSummary("thumb_quality",STR_THUMB_RESOLUTION,STR_THUMB_RESOLUTION_SUMARRY),Settings_value_keys.push("global_font_offset"),div+=Settings_DivOptionWithSummary("global_font_offset",STR_GLOBAL_FONT,STR_GLOBAL_FONT_SUMMARY),Settings_value_keys.push("restor_playback"),Settings_value.restor_playback.values=[STR_NO,STR_YES],div+=Settings_DivOptionWithSummary("restor_playback",STR_RESTORE_PLAYBACK,STR_RESTORE_PLAYBACK_SUMARRY),Settings_value_keys.push("videos_animation"),Settings_value.videos_animation.values=[STR_NO,STR_YES],div+=Settings_DivOptionNoSummary("videos_animation",STR_VIDEOS_ANIMATION),Settings_value_keys.push("app_animations"),Settings_value.app_animations.values=[STR_NO,STR_YES],div+=Settings_DivOptionNoSummary("app_animations",STR_APP_ANIMATIONS),Settings_value_keys.push("enter_refresh"),Settings_value.enter_refresh.values=[STR_NO,STR_YES],div+=Settings_DivOptionNoSummary("enter_refresh",STR_ENTER_REFRESH),Settings_value_keys.push("clip_auto_play_next"),Settings_value.clip_auto_play_next.values=[STR_YES,STR_NO],div+=Settings_DivOptionNoSummary("clip_auto_play_next",STR_AUTO_PLAY_NEXT),Settings_value_keys.push("live_notification"),Settings_value.live_notification.values=[STR_NO,STR_YES],div+=Settings_DivOptionNoSummary("live_notification",STR_NOW_LIVE_SHOW),Settings_value_keys.push("live_notification_time"),div+=Settings_DivOptionNoSummary("live_notification_time",STR_NOW_DURATION),Settings_value_keys.push("clock_offset"),div+=Settings_DivOptionNoSummary("clock_offset",STR_CLOCK_OFFSET),Settings_value_keys.push("show_screen_counter"),Settings_value.show_screen_counter.values=[STR_NO,STR_YES],div+=Settings_DivOptionNoSummary("show_screen_counter",STR_SCREEN_COUNTER),div+=Settings_DivTitle("play",STR_SETTINGS_PLAYER),Settings_value_keys.push("single_click_exit"),Settings_value.single_click_exit.values=[STR_NO,STR_YES],div+=Settings_DivOptionWithSummary("single_click_exit",STR_SINGLE_EXIT,STR_SINGLE_EXIT_SUMMARY),Settings_value_keys.push("end_dialog_counter"),Settings_value.end_dialog_counter.values[0]=STR_END_DIALOG_DISABLE,div+=Settings_DivOptionWithSummary("end_dialog_counter",STR_END_DIALOG_SETTINGS,STR_END_DIALOG_SETTINGS_SUMMARY),div+='<div id="setting_title_buffers" class="settings_title">'+STR_SETTINGS_BUFFER_SIZE+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+STR_SETTINGS_BUFFER_SIZE_SUMMARY+"</div>",Settings_value_keys.push("buffer_live"),div+=Settings_DivOptionNoSummary("buffer_live",STR_SETTINGS_BUFFER_LIVE),Settings_value_keys.push("buffer_vod"),div+=Settings_DivOptionNoSummary("buffer_vod",STR_SETTINGS_BUFFER_VOD),key="buffer_clip",Settings_value_keys.push(key),div+=Settings_DivOptionNoSummary(key,STR_SETTINGS_BUFFER_CLIP),Main_innerHTML("settings_main",div),Settings_positions_length=Settings_value_keys.length,Languages_SetSettings()}function Settings_DivTitle(key,string){return'<div id="setting_title_'+key+'" class="settings_section">'+string+"</div>"}function Settings_DivOptionNoSummary(key,string){return'<div id="'+key+'_div" class="settings_div"><div id="'+key+'_name" class="settings_name">'+string+'</div><div class="settings_arraw_div"><div id="'+key+'arrow_left" class="left"></div></div><div id="'+key+'" class="strokedeline settings_value">'+Settings_Obj_values(key)+'</div><div class="settings_arraw_div"><div id="'+key+'arrow_right" class="right"></div></div></div>'}function Settings_DivOptionWithSummary(key,string_title,string_summary){return'<div id="'+key+'_div" class="settings_div"><div id="'+key+'_name" class="settings_name">'+string_title+'<div id="'+key+'_summary" class="settings_summary" style="font-size: 65%;">'+string_summary+'</div></div><div class="settings_arraw_div"><div id="'+key+'arrow_left" class="left"></div></div><div id="'+key+'" class="strokedeline settings_value">'+Settings_Obj_values(key)+'</div><div class="settings_arraw_div"><div id="'+key+'arrow_right" class="right"></div></div></div>'}function Settings_DivOptionChangeLang(key,string_title,string_summary){Main_innerHTML(key+"_name",string_title+'<div id="'+key+'_summary" class="settings_summary" style="font-size: 65%;">'+string_summary+"</div>")}function Settings_SetStrings(){var key="";for(key in Main_textContent("setting_title_general",STR_SETTINGS_GENERAL),key="clock_offset",Main_textContent(key+"_name",STR_CLOCK_OFFSET),key="show_screen_counter",Main_textContent(key+"_name",STR_SCREEN_COUNTER),key="content_lang",Main_textContent(key+"_name",STR_CONTENT_LANG),Main_textContent(key,Settings_Obj_values(key)),Settings_value[key].values=[STR_CONTENT_LANG_SUMARRY],Settings_DivOptionChangeLang(key="live_feed_sort",STR_LIVE_FEED_SORT,STR_LIVE_FEED_SORT_SUMMARY),Main_textContent(key,Settings_Obj_values(key)),Settings_value[key].values=[STR_VIWES_MOST,STR_VIWES_LOWEST,STR_NAME_A_Z,STR_NAME_Z_A,STR_GAME_A_Z,STR_GAME_Z_A,STR_CREATED_NEWEST,STR_CREATED_OLDEST],Main_textContent("setting_title_play",STR_SETTINGS_PLAYER),Main_textContent("setting_title_bandwidth",STR_PLAYER_BITRATE),Main_textContent("setting_title_bandwidth_summary",STR_PLAYER_BITRATE_SUMARRY),Main_textContent("setting_title_buffers",STR_SETTINGS_BUFFER_SIZE),Main_textContent("setting_title_buffers_summary",STR_SETTINGS_BUFFER_SIZE_SUMMARY),key="buffer_live",Main_textContent(key+"_name",STR_SETTINGS_BUFFER_LIVE),key="buffer_vod",Main_textContent(key+"_name",STR_SETTINGS_BUFFER_VOD),key="buffer_clip",Main_textContent(key+"_name",STR_SETTINGS_BUFFER_CLIP),Settings_DivOptionChangeLang(key="restor_playback",STR_RESTORE_PLAYBACK,STR_RESTORE_PLAYBACK_SUMARRY),Settings_value[key].values=[STR_YES,STR_NO],Settings_DivOptionChangeLang(key="thumb_quality",STR_THUMB_RESOLUTION,STR_THUMB_RESOLUTION_SUMARRY),Settings_value[key].values=[STR_VERY_LOW,STR_LOW,STR_NORMAL,STR_HIGH,STR_VERY_HIGH],Settings_DivOptionChangeLang(key="global_font_offset",STR_GLOBAL_FONT,STR_GLOBAL_FONT_SUMMARY),Settings_DivOptionChangeLang(key="end_dialog_counter",STR_END_DIALOG_SETTINGS,STR_END_DIALOG_SETTINGS_SUMMARY),Settings_value[key].values[0]=STR_END_DIALOG_DISABLE,key="videos_animation",Main_textContent(key+"_name",STR_VIDEOS_ANIMATION),Settings_value[key].values=[STR_YES,STR_NO],key="clip_auto_play_next",Main_textContent(key+"_name",STR_AUTO_PLAY_NEXT),Settings_value[key].values=[STR_NO,STR_YES],key="live_notification",Main_textContent(key+"_name",STR_NOW_LIVE_SHOW),Settings_value[key].values=[STR_NO,STR_YES],key="live_notification_time",Main_textContent(key+"_name",STR_NOW_DURATION),Settings_DivOptionChangeLang(key="single_click_exit",STR_SINGLE_EXIT,STR_SINGLE_EXIT_SUMMARY),Settings_value[key].values=[STR_NO,STR_YES],key="app_animations",Main_textContent(key+"_name",STR_APP_ANIMATIONS),Settings_value[key].values=[STR_NO,STR_YES],key="enter_refresh",Main_textContent(key+"_name",STR_ENTER_REFRESH),Settings_value[key].values=[STR_YES,STR_NO],Settings_value)Settings_value.hasOwnProperty(key)&&Main_textContent(key,Settings_Obj_values(key));Languages_SetLang()}function Settings_SetDefautls(){for(var key in Settings_value)Settings_value[key].defaultValue=Main_getItemInt(key,Settings_value[key].defaultValue),--Settings_value[key].defaultValue,Settings_value[key].defaultValue>Settings_Obj_length(key)&&(Settings_value[key].defaultValue=0);Settings_SetBuffers(0),Settings_SetClock(),Main_SetThumb(),Settings_Obj_default("app_animations")||Settings_SetAnimations(),Vod_DoAnimateThumb=Settings_Obj_default("videos_animation"),PlayClip_All_Forced=Settings_Obj_default("clip_auto_play_next"),UserLiveFeed_Notify=Settings_Obj_default("live_notification"),UserLiveFeed_NotifyTimeout=1e3*Settings_Obj_values("live_notification_time"),Play_SingleClickExit=Settings_Obj_default("single_click_exit"),Play_EndSettingsCounter=Settings_Obj_default("end_dialog_counter"),Settings_ShowCounter(Settings_Obj_default("show_screen_counter"))}function Settings_Obj_values(key){return Settings_value[key].values[Settings_Obj_default(key)]}function Settings_Obj_default(key){return Settings_value[key].defaultValue}function Settings_Obj_length(key){return Settings_value[key].values.length-1}function Settings_inputFocus(position){var key=Settings_value_keys[Settings_cursorY];Main_AddClass(key,"settings_value_focus"),Main_AddClass(key+"_div","settings_div_focus"),Settings_Setarrows(position),Settings_ScrollTable()}function Settings_RemoveinputFocus(){var key=Settings_value_keys[Settings_cursorY];document.getElementById(key+"arrow_left").style.opacity="0",document.getElementById(key+"arrow_right").style.opacity="0",Main_RemoveClass(key,"settings_value_focus"),Main_RemoveClass(key+"_div","settings_div_focus")}function Settings_ChangeSettigs(position){var key=Settings_value_keys[position];Main_setItem(key,Settings_Obj_default(key)+1),Main_textContent(key,Settings_Obj_values(key)),Settings_Setarrows(position),Settings_SetDefault(position)}function Settings_Setarrows(maxValue){var currentValue,key=Settings_value_keys[maxValue];Settings_Obj_length(key)&&(currentValue=Settings_Obj_default(key),maxValue=Settings_Obj_length(key),0<currentValue&&currentValue<maxValue?(document.getElementById(key+"arrow_left").style.opacity="1",document.getElementById(key+"arrow_right").style.opacity="1"):currentValue===maxValue?(document.getElementById(key+"arrow_left").style.opacity="1",document.getElementById(key+"arrow_right").style.opacity="0.2"):(document.getElementById(key+"arrow_left").style.opacity="0.2",document.getElementById(key+"arrow_right").style.opacity="1"))}function Settings_SetDefault(position){"videos_animation"===(position=Settings_value_keys[position])?Vod_DoAnimateThumb=Settings_Obj_default("videos_animation"):"clip_auto_play_next"===position?PlayClip_All_Forced=Settings_Obj_default("clip_auto_play_next"):"live_notification"===position?UserLiveFeed_Notify=Settings_Obj_default("live_notification"):"live_notification_time"===position?UserLiveFeed_NotifyTimeout=1e3*Settings_Obj_values("live_notification_time"):"single_click_exit"===position?Play_SingleClickExit=Settings_Obj_default("single_click_exit"):"app_animations"===position?Settings_SetAnimations():"buffer_live"===position?Settings_SetBuffers(1):"buffer_vod"===position?Settings_SetBuffers(2):"buffer_clip"===position?Settings_SetBuffers(3):"end_dialog_counter"===position?Play_EndSettingsCounter=Settings_Obj_default("end_dialog_counter"):"thumb_quality"===position?Main_SetThumb():"global_font_offset"===position?calculateFontSize():"show_screen_counter"===position?Settings_ShowCounter(Settings_Obj_default("show_screen_counter")):"clock_offset"===position&&(Settings_SetClock(),Main_updateclock())}function Settings_SetBuffers(whocall){try{whocall?1===whocall?Play_Buffer=Settings_Obj_values("buffer_live"):2===whocall?PlayVod_Buffer=Settings_Obj_values("buffer_vod"):3===whocall&&(PlayClip_Buffer=Settings_Obj_values("buffer_clip")):(Play_Buffer=Settings_Obj_values("buffer_live"),PlayVod_Buffer=Settings_Obj_values("buffer_vod"),PlayClip_Buffer=Settings_Obj_values("buffer_clip"))}catch(e){}}function Settings_SetAnimations(){var i,array,animate=Settings_Obj_default("app_animations"),mtransition=animate?"":"none";["screen_holder","screen_holder_channel","screen_holder_switch","screen_holder_user","screen_holder_games","animate_height_transition_channel","animate_height_transition_games","animate_height_transition","side_panel_holder_ani","scenefeed_background","user_feed_notify","user_feed_scroll_ani","side_panel_fix","side_panel_movel","side_panel","user_feed"].forEach(function(classe){for(array=document.getElementsByClassName(classe),i=0;i<array.length;i++)array[i].style.transition=mtransition}),UserLiveFeed_FeedRemoveFocus(),array=document.getElementsByClassName(Main_classThumb);try{Array.prototype.forEach.call(array,function(el){el.classList.remove(Main_classThumb)})}catch(e){}Main_classThumb=animate?"stream_thumbnail_focused":"stream_thumbnail_focused_no_ani",UserLiveFeed_FocusClass=animate?"feed_thumbnail_focused":"feed_thumbnail_focused_no_ani",Screens_SettingDoAnimations=animate}function Settings_ShowCounter(show){(show?Main_ShowElement:Main_HideElement)("dialog_counter_text")}function Settings_SetClock(){var time=Settings_Obj_default("clock_offset");Main_ClockOffset=time<48?-9e5*(48-time):9e5*(time-48)}var Settings_CurY=0;function Settings_ScrollTable(){var position,doc;Settings_CurY<Settings_cursorY&&13===Settings_cursorY?((doc=document.getElementById("settings_scroll")).scrollTop=doc.scrollHeight,Settings_Obj_default("app_animations")&&(position=doc.scrollTop,doc.scrollTop=0,scrollTo(doc,position,450))):Settings_cursorY<Settings_CurY&&12===Settings_cursorY&&(doc=document.getElementById("settings_scroll"),Settings_Obj_default("app_animations")?scrollTo(doc,0,450):doc.scrollTop=0),Settings_CurY=Settings_cursorY}function Settings_ScrollTableReset(){document.getElementById("settings_scroll").scrollTop=0,Settings_CurY=0}function scrollTo(element,to,duration){var start=element.scrollTop,change=to-start,currentTime=0,animateScroll=function(){currentTime+=3;var val=Math.easeInOutQuad(currentTime,start,change,duration);element.scrollTop=val,currentTime<duration&&setTimeout(animateScroll,3)};animateScroll()}function Settings_handleKeyDown(event){var key;switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(Settings_exit(),Main_SwitchScreen());break;case KEY_LEFT:0<Settings_Obj_default(key=Settings_value_keys[Settings_cursorY])&&(--Settings_value[key].defaultValue,Settings_ChangeSettigs(Settings_cursorY));break;case KEY_RIGHT:Settings_Obj_default(key=Settings_value_keys[Settings_cursorY])<Settings_Obj_length(key)&&(Settings_value[key].defaultValue+=1,Settings_ChangeSettigs(Settings_cursorY));break;case KEY_UP:0<Settings_cursorY&&(Settings_RemoveinputFocus(),Settings_inputFocus(--Settings_cursorY));break;case KEY_DOWN:Settings_cursorY<Settings_positions_length-1&&(Settings_RemoveinputFocus(),Settings_inputFocus(++Settings_cursorY));break;case KEY_ENTER:Settings_cursorY||Languages_init()}}Math.easeInOutQuad=function(t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b};var Languages_cursorY=0,Languages_Selected="",Languages_value={All:{values:["off","on"],defaultValue:2,set_values:""},"Bulgarian [BG]":{values:["off","on"],defaultValue:1,set_values:"bg"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh"}},Languages_Extra={en:"en,en-gb",es:"es,es-mx",pt:"pt,pt-br"},Languages_value_keys=[],Languages_positions_length=0;function Languages_init(){document.body.removeEventListener("keydown",Settings_handleKeyDown),Main_HideElement("settings_main"),Main_ShowElement("settings_lang"),Languages_HideShowAll(),ScreensObj_SetTopLable(STR_SETTINGS+STR_SPACE+STR_CONTENT_LANG),document.body.addEventListener("keydown",Languages_handleKeyDown,!1),Languages_inputFocus(Languages_cursorY=0),Languages_ResetLang()}function Languages_exit(){document.body.removeEventListener("keydown",Languages_handleKeyDown),document.body.addEventListener("keydown",Settings_handleKeyDown,!1),Settings_ScrollTableReset(),Main_ShowElement("settings_main"),Main_HideElement("settings_lang"),Languages_RemoveinputFocus(),Languages_SetLang(),Languages_ResetLang()}function Languages_ResetLang(){""===Main_ContentLang&&(Languages_Selected=STR_LANG_ALL,Languages_value.All.defaultValue=1,Languages_ChangeSettigs(0),Main_AddClass(Languages_value_keys[0],"red_text"),Languages_HideShowAll()),Settings_DivOptionChangeLang("content_lang",STR_CONTENT_LANG,Languages_Selected)}function Languages_SetLang(){if(Main_ContentLang="",!Languages_Obj_default("All")){for(var key in Languages_value)Languages_Obj_default(key)&&(Main_ContentLang+=","+Languages_value[key].set_values);Main_ContentLang=Main_ContentLang.slice(1),Main_A_includes_B(Main_ContentLang,",")&&(Languages_ResetAll(),Main_ContentLang="")}Languages_Selected=""===Main_ContentLang?STR_LANG_ALL:Main_ContentLang.toUpperCase()}function Languages_SetSettings(){var key,div="";for(key in Languages_value)Languages_value_keys.push(key),Languages_value[key].values=[STR_NO,STR_YES],div+=Languages_DivOptionNoSummary(key,key);Main_innerHTML("settings_lang",div),Languages_positions_length=Languages_value_keys.length}function Languages_DivOptionNoSummary(key,string){return'<div id="'+key+'_div" class="settings_div"><div id="'+key+'_name" class="settings_name">'+string+'</div><div class="settings_arraw_div"><div id="'+key+'arrow_left" class="left"></div></div><div id="'+key+'" class="'+(Languages_Obj_default(key)?"red_text ":"")+'strokedeline settings_value">'+Languages_Obj_values(key)+'</div><div class="settings_arraw_div"><div id="'+key+'arrow_right" class="right"></div></div></div>'}function Languages_SetDefautls(){for(var key in Languages_value)Languages_value[key].defaultValue=Main_getItemInt(key,Languages_value[key].defaultValue),--Languages_value[key].defaultValue;Languages_SetLang()}function Languages_Obj_values(key){return Languages_value[key].values[Languages_Obj_default(key)]}function Languages_Obj_default(key){return Languages_value[key].defaultValue}function Languages_Obj_length(key){return Languages_value[key].values.length-1}function Languages_inputFocus(position){var key=Languages_value_keys[Languages_cursorY];Main_AddClass(key,"settings_value_focus"),Main_AddClass(key+"_div","settings_div_focus"),Languages_Setarrows(position),Languages_ScrollTable(key)}function Languages_RemoveinputFocus(){var key=Languages_value_keys[Languages_cursorY];document.getElementById(key+"arrow_left").style.opacity="0",document.getElementById(key+"arrow_right").style.opacity="0",Main_RemoveClass(key,"settings_value_focus"),Main_RemoveClass(key+"_div","settings_div_focus")}function Languages_ScrollTable(){document.getElementById("settings_scroll").scrollTop=7<Languages_cursorY?document.getElementById(Languages_value_keys[Languages_cursorY-7]).offsetTop:0}function Languages_ChangeSettigs(position){Languages_ChangeSettigsEnd(position)}function Languages_ResetAll(){for(var key in Languages_value)Languages_Obj_default(key)&&(--Languages_value[key].defaultValue,Main_setItem(key,Languages_Obj_default(key)+1),Main_textContent(key,Languages_Obj_values(key)),Main_RemoveClass(key,"red_text"))}function Languages_ChangeSettigsEnd(position){Languages_ChangeSettigsEndKey(Languages_value_keys[position])}function Languages_ChangeSettigsEndKey(key){Main_setItem(key,Languages_Obj_default(key)+1),Main_textContent(key,Languages_Obj_values(key)),Languages_SetarrowsKey(key)}function Languages_Setarrows(position){Languages_SetarrowsKey(Languages_value_keys[position])}function Languages_SetarrowsKey(key){var currentValue=Languages_Obj_default(key),maxValue=Languages_Obj_length(key);0<currentValue&&currentValue<maxValue?(document.getElementById(key+"arrow_left").style.opacity="1",document.getElementById(key+"arrow_right").style.opacity="1"):currentValue===maxValue?(document.getElementById(key+"arrow_left").style.opacity="1",document.getElementById(key+"arrow_right").style.opacity="0.2"):(document.getElementById(key+"arrow_left").style.opacity="0.2",document.getElementById(key+"arrow_right").style.opacity="1")}function Languages_HideShowAll(){for(var key in Languages_value)-1===key.indexOf("All")&&(document.getElementById(key+"_div").style.display=Languages_Obj_default("All")?"none":"inline-block")}function Languages_handleKeyDown(event){var key;switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Languages_exit();break;case KEY_LEFT:0<Languages_Obj_default(key=Languages_value_keys[Languages_cursorY])&&(--Languages_value[key].defaultValue,Languages_ChangeSettigs(Languages_cursorY),Main_RemoveClass(Languages_value_keys[Languages_cursorY],"red_text"),-1!==key.indexOf("All")&&Languages_HideShowAll());break;case KEY_RIGHT:Languages_Obj_default(key=Languages_value_keys[Languages_cursorY])<Languages_Obj_length(key)&&(Main_A_includes_B(key,"All")||Languages_ResetAll(),Languages_value[key].defaultValue+=1,Languages_ChangeSettigs(Languages_cursorY),Main_AddClass(Languages_value_keys[Languages_cursorY],"red_text"),-1!==key.indexOf("All")&&Languages_HideShowAll());break;case KEY_UP:0<Languages_cursorY&&(Languages_RemoveinputFocus(),Languages_inputFocus(--Languages_cursorY));break;case KEY_DOWN:!Languages_Obj_default("All")&&Languages_cursorY<Languages_positions_length-1&&(Languages_RemoveinputFocus(),Languages_inputFocus(++Languages_cursorY))}}var Sidepannel_Callback,Sidepannel_UpdateThumbDoc,Sidepannel_PosFeed=0,Sidepannel_IsMain=!0,Sidepannel_MoveldefaultMargin=13.5,Sidepannel_FixdefaultMargin=5,Sidepannel_MoveldefaultWidth=Sidepannel_MoveldefaultMargin+Sidepannel_FixdefaultMargin-1;function Sidepannel_AddFocusMain(){Main_AddClass("side_panel_movel_new_"+Main_values.Sidepannel_Pos,"side_panel_new_icons_text")}function Sidepannel_RemoveFocusMain(){Main_RemoveClass("side_panel_movel_new_"+Main_values.Sidepannel_Pos,"side_panel_new_icons_text")}function Sidepannel_AddFocusFeed(skipAnimation){Sidepannel_GetSize()?(Main_AddClass(UserLiveFeed_side_ids[0]+Sidepannel_PosFeed,"side_panel_div_focused"),Sidepannel_Scroll(skipAnimation),Sidepannel_UpdateThumb()):document.getElementById("side_panel_warn").style.display="inline-block"}function Sidepannel_RemoveFocusFeed(){Main_RemoveClass(UserLiveFeed_side_ids[0]+Sidepannel_PosFeed,"side_panel_div_focused")}function Sidepannel_isShowing(){return-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")}function Sidepannel_UpdateThumb(){var info=JSON.parse(document.getElementById(UserLiveFeed_side_ids[8]+Sidepannel_PosFeed).getAttribute("side_panel_data"));Sidepannel_UpdateThumbDoc.onerror=function(){this.onerror=null,this.src=IMG_404_VIDEO},Sidepannel_UpdateThumbDoc.src=info[2]+Main_randomimg,Main_innerHTML("feed_thum_name",Sidepannel_partnerIcon(Main_ReplaceLargeFont(info[3]),info[9],info[8])),Main_innerHTML("feed_thum_quality",info[7]),Main_innerHTML("feed_thum_title",Main_ReplaceLargeFont(twemoji.parse(info[4]))),Main_innerHTML("feed_thum_game",""!==info[5]?STR_PLAYING+info[5]:""),Main_innerHTML("feed_thum_views",info[6]),Main_isElementShowing("side_panel_feed_holder")&&Sidepannel_isShowing()&&Main_ShowElement("side_panel_feed_thumb")}function Sidepannel_partnerIcon(name,partner,isrerun){return'<div class="partnericon_div"> '+name+STR_SPACE+STR_SPACE+"</div>"+(partner?'<img class="partnericon_img" alt="" src="'+IMG_PARTNER+'">'+STR_SPACE+STR_SPACE:"")+'<div class="partnericon_text" style="background: #'+(isrerun?"FFFFFF; color: #000000;":"E21212;")+'">'+STR_SPACE+STR_SPACE+(isrerun?STR_NOT_LIVE:STR_LIVE)+STR_SPACE+STR_SPACE+"</div>"}function Sidepannel_PreloadImgs(){for(var doc,i=0;i<Sidepannel_GetSize();i++)null!==(doc=document.getElementById(UserLiveFeed_side_ids[8]+i))&&((new Image).src=JSON.parse(doc.getAttribute("side_panel_data"))[2]+Main_randomimg)}function Sidepannel_GetSize(){return document.getElementById("side_panel_holder").getElementsByClassName("side_panel_feed").length}function Sidepannel_KeyEnterUser(){var hidepanel=!0;if(6===Main_values.Sidepannel_Pos&&!AddUser_UsernameArray[0].access_token)return Main_showWarningDialog(STR_NOKEY_VIDEO_WARN),void window.setTimeout(Main_HideWarningDialog,5e3);2===Main_values.Sidepannel_Pos?(Main_values.Sidepannel_IsUser=!1,Sidepannel_SetDefaultLables(),Sidepannel_UnSetTopOpacity(),Sidepannel_MainISuser()||(Sidepannel_RemoveFocusMain(),Main_values.Sidepannel_Pos++,Sidepannel_SetTopOpacity(Main_values.Main_Go),Sidepannel_AddFocusMain()),hidepanel=!1):3===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserLive):4===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserHost):5===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_usergames):6===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserVod):7===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserChannels):8===Main_values.Sidepannel_Pos?(Main_values.Main_selectedChannel_id=AddUser_UsernameArray[0].id,Main_values.Main_selectedChannelDisplayname=AddUser_UsernameArray[0].display_name||AddUser_UsernameArray[0].name,Main_values.Main_selectedChannel=AddUser_UsernameArray[0].name,Main_values.Main_BeforeChannel=Main_values.Main_Go,Main_values.Main_Go=Main_ChannelContent,Main_values.Main_BeforeChannelisSet=!0,AddCode_IsFollowing=!1,ChannelContent_UserChannels=!1,Main_ExitCurrent(Main_values.Main_BeforeChannel),Main_values.My_channel=!0,Main_SwitchScreen()):Sidepannel_KeyEnterBase(),hidepanel&&Sidepannel_Hide()}function Sidepannel_MainISuser(){return Main_values.Main_Go===Main_UserLive||Main_values.Main_Go===Main_UserHost||Main_values.Main_Go===Main_usergames||Main_values.Main_Go===Main_UserVod||Main_values.Main_Go===Main_UserChannels||Main_values.Main_Go===Main_ChannelContent}function Sidepannel_KeyEnterBase(){Main_values.Sidepannel_Pos?1===Main_values.Sidepannel_Pos?Main_values.Main_Go!==Main_Search?(Main_values.Search_isSearching||Main_values.Main_Go!==Main_ChannelContent&&Main_values.Main_Go!==Main_ChannelClip&&Main_values.Main_Go!==Main_ChannelVod||ChannelContent_SetChannelValue(),Main_OpenSearch()):document.body.addEventListener("keydown",Sidepannel_Callback,!1):9===Main_values.Sidepannel_Pos?Main_showSettings():10===Main_values.Sidepannel_Pos?(document.body.removeEventListener("keydown",Sidepannel_Callback,!1),document.body.addEventListener("keydown",Screens_handleKeyControls),Main_showAboutDialog()):11===Main_values.Sidepannel_Pos?(document.body.removeEventListener("keydown",Sidepannel_Callback,!1),document.body.addEventListener("keydown",Screens_handleKeyControls),Main_showControlsDialog()):12===Main_values.Sidepannel_Pos&&Main_showExitDialog(Sidepannel_Callback):(Main_values.Main_Before=Main_values.Main_Go,Main_ExitCurrent(Main_values.Main_Go),(AddUser_UserIsSet()?Users_init:AddUser_init)())}function Sidepannel_KeyEnter(){var hidepanel;Main_values.Sidepannel_IsUser?Sidepannel_KeyEnterUser():(hidepanel=!0,2===Main_values.Sidepannel_Pos?(AddUser_IsUserSet()?(Sidepannel_SetUserLables(),Sidepannel_UnSetTopOpacity(),Sidepannel_MainISuser()&&(Sidepannel_RemoveFocusMain(),Sidepannel_SetTopOpacity(Main_values.Main_Go),Sidepannel_AddFocusMain())):(Main_showWarningDialog(STR_NOKUSER_WARN),window.setTimeout(Main_HideWarningDialog,2e3)),hidepanel=!1):3===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Live):4===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Featured):5===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_games):6===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Vod):7===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Clip):Sidepannel_KeyEnterBase(),hidepanel&&Sidepannel_Hide())}function Sidepannel_Go(GoTo){GoTo===Main_values.Main_Go?(document.body.addEventListener("keydown",Sidepannel_Callback,!1),Main_SwitchScreenAction()):(Main_values.Main_Before=Main_values.Main_Go,Main_values.Main_Go=GoTo,Main_ExitCurrent(Main_values.Main_Before),Main_SwitchScreen())}function Sidepannel_Start(callback){Sidepannel_Callback=callback,document.body.removeEventListener("keydown",Sidepannel_Callback),(!Sidepannel_IsMain&&AddUser_UserIsSet()?Sidepannel_StartFeed:Sidepannel_StartMain)()}function Sidepannel_StartMain(){Main_RemoveClass("scenefeed",Screens_SettingDoAnimations?"scenefeed_background":"scenefeed_background_no_ani"),Sidepannel_IsMain=!0,Main_ShowElement("side_panel_fix"),document.getElementById("side_panel_movel").style.marginLeft=0,document.getElementById("side_panel_fix").style.marginLeft="",document.body.addEventListener("keydown",Sidepannel_handleKeyDownMain,!1),Sidepannel_AddFocusMain()}function Sidepannel_StartFeed(){Sidepannel_IsMain=!1,document.body.addEventListener("keydown",Sidepannel_handleKeyDown,!1),Main_RemoveClass("side_panel","side_panel_hide"),Sidepannel_ShowFeed(),Sidepannel_HideMain(!0)}function Sidepannel_ShowFeed(){Main_AddClass("scenefeed",Screens_SettingDoAnimations?"scenefeed_background":"scenefeed_background_no_ani"),Play_FeedOldUserName!==AddUser_UsernameArray[0].name&&(UserLiveFeed_status=!1),Play_FeedOldUserName=AddUser_UsernameArray[0].name,UserLiveFeed_ThumbNull(0,UserLiveFeed_ids[0])||(UserLiveFeed_status=!1),UserLiveFeed_status||UserLiveFeed_loadingData||UserLiveFeed_StartLoad(),null!==document.getElementById(UserLiveFeed_side_ids[0]+Sidepannel_PosFeed)&&(Sidepannel_AddFocusFeed(!0),window.setTimeout(Sidepannel_PreloadImgs,600))}function Sidepannel_HideMain(hideAll){var size=11<(size=AddUser_UsernameArray[0]?AddUser_UsernameArray[0].display_name.length:STR_USER_ADD)?size-11:0;hideAll&&(document.getElementById("side_panel_fix").style.marginLeft="-"+Sidepannel_FixdefaultMargin+"%"),document.getElementById("side_panel_movel").style.marginLeft="calc(-"+(hideAll?Sidepannel_MoveldefaultWidth+.5:Sidepannel_MoveldefaultMargin)+"% - "+size+"ch)"}function Sidepannel_Hide(){Sidepannel_HideMain(),Sidepannel_RemoveFocusMain(),Sidepannel_SetTopOpacity(Main_values.Main_Go),Main_ShowElement("side_panel_fix"),document.getElementById("side_panel_fix").style.marginLeft="",Main_AddClass("side_panel","side_panel_hide"),Main_HideElement("side_panel_feed_thumb"),Main_RemoveClass("scenefeed",Screens_SettingDoAnimations?"scenefeed_background":"scenefeed_background_no_ani"),document.body.removeEventListener("keydown",Sidepannel_handleKeyDown),document.body.removeEventListener("keydown",Sidepannel_handleKeyDownMain)}function Sidepannel_SetTopOpacity(Main_Go){Sidepannel_Pos_Screens[Main_Go]&&(Main_values.Sidepannel_Pos=Sidepannel_Pos_Screens[Main_Go]),Sidepannel_UnSetTopOpacity(),Main_values.Sidepannel_Pos&&Main_values.Sidepannel_Pos<9&&Main_AddClass("side_panel_new_"+Main_values.Sidepannel_Pos,"side_panel_new_icons_text")}var Sidepannel_Pos_Screens=[1,3,0,4,5,6,7,3,4,5,6,7,1,1,1,0,0,0,0,5,5,5];function Sidepannel_UnSetTopOpacity(){for(var i=1;i<9;i++)Main_RemoveClass("side_panel_new_"+i,"side_panel_new_icons_text")}function Sidepannel_SetUserLables(){Main_values.Sidepannel_IsUser=!0,Main_innerHTML("side_panel_movel_user_text",STR_SPACE+STR_USER_MENU+STR_SPACE),Main_ShowElement("side_panel_movel_user_text_holder"),Main_ShowElement("side_panel_movel_new_8"),Main_ShowElement("side_panel_new_8"),Main_innerHTML("side_panel_movel_new_2",STR_SPACE+STR_MAIN_MENU),Main_innerHTML("side_panel_movel_new_4",STR_SPACE+STR_LIVE_HOSTS),Main_innerHTML("side_panel_movel_new_5",STR_SPACE+STR_GAMES),Main_innerHTML("side_panel_movel_new_6",STR_SPACE+STR_VIDEOS),Main_innerHTML("side_panel_movel_new_7",STR_SPACE+STR_CHANNELS),Main_innerHTML("side_panel_movel_new_8",STR_SPACE+STR_USER_MY_CHANNEL),Sidepannel_SetIcons("side_panel_new_2","arrow-left"),Sidepannel_SetIcons("side_panel_new_4","users"),Sidepannel_SetIcons("side_panel_new_5","gamepad"),Sidepannel_SetIcons("side_panel_new_6","movie-play"),Sidepannel_SetIcons("side_panel_new_7","filmstrip")}function Sidepannel_SetDefaultLables(){AddUser_UsernameArray[0]?Sidepannel_SetUserlable(AddUser_UsernameArray[0].display_name):Sidepannel_SetUserlable(STR_USER_ADD),Main_HideElement("side_panel_movel_new_8"),Main_HideElement("side_panel_new_8"),Main_HideElement("side_panel_movel_user_text_holder"),Main_innerHTML("side_panel_movel_new_1",STR_SPACE+STR_SEARCH),Main_innerHTML("side_panel_movel_new_2",STR_SPACE+STR_USER_MENU),Main_innerHTML("side_panel_movel_new_3",STR_SPACE+STR_LIVE),Main_innerHTML("side_panel_movel_new_4",STR_SPACE+STR_FEATURED),Main_innerHTML("side_panel_movel_new_5",STR_SPACE+STR_GAMES),Main_innerHTML("side_panel_movel_new_6",STR_SPACE+STR_VIDEOS),Main_innerHTML("side_panel_movel_new_7",STR_SPACE+STR_CLIPS),Main_innerHTML("side_panel_movel_new_8",STR_SPACE+STR_USER_MY_CHANNEL),Main_innerHTML("side_panel_movel_new_9",STR_SPACE+STR_SETTINGS),Main_innerHTML("side_panel_movel_new_10",STR_SPACE+STR_ABOUT),Main_innerHTML("side_panel_movel_new_11",STR_SPACE+STR_CONTROLS),Main_innerHTML("side_panel_movel_new_12",STR_SPACE+STR_EXIT),Sidepannel_SetIcons("side_panel_new_1","search"),Sidepannel_SetIcons("side_panel_new_2","user"),Sidepannel_SetIcons("side_panel_new_3","play"),Sidepannel_SetIcons("side_panel_new_4","star"),Sidepannel_SetIcons("side_panel_new_5","gamepad"),Sidepannel_SetIcons("side_panel_new_6","movie-play"),Sidepannel_SetIcons("side_panel_new_7","movie"),Sidepannel_SetIcons("side_panel_new_8","user")}function Sidepannel_SetUserlable(text){Main_innerHTML("side_panel_movel_new_0",STR_SPACE+text+STR_BR+'<div style="font-size: 45%;display: inline-block; transform: translateY(-80%);">'+STR_SPACE+STR_SPACE+STR_USER_EXTRAS+"</div>")}function Sidepannel_SetIcons(div,icon){icon?Main_innerHTML(div,'<i class="icon icon-'+icon+' side_panel_new_icons_pad"></i>'):Main_textContent(div,"")}function Sidepannel_Scroll(skipAnimation){var value="0%",doc=document.getElementById("side_panel_holder");6<Sidepannel_PosFeed&&(Sidepannel_PosFeed<Sidepannel_GetSize()-6?value=-18.115*(Sidepannel_PosFeed-6)+"%":0<Sidepannel_GetSize()-6-6&&(value=-18.115*(Sidepannel_GetSize()-12)+"%")),!skipAnimation&&Screens_ChangeFocusAnimationFinished&&Screens_SettingDoAnimations&&!Screens_ChangeFocusAnimationFast?(Screens_ChangeFocusAnimationFinished=!1,Screens_ChangeFocusAnimationFast=!0,doc.style.transition="",doc.classList.add("side_panel_holder_ani"),window.setTimeout(function(){Screens_ChangeFocusAnimationFinished=!0},200)):(skipAnimation&&(Screens_ChangeFocusAnimationFast=!1),doc.style.transition="none",doc.classList.remove("side_panel_holder_ani")),doc.style.marginTop=value}function Sidepannel_handleKeyDown(event){switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Sidepannel_Hide(),Main_SwitchScreenAction();break;case KEY_RIGHT:Main_AddClass("side_panel","side_panel_hide"),Main_RemoveClass("scenefeed",Screens_SettingDoAnimations?"scenefeed_background":"scenefeed_background_no_ani"),Main_HideElement("side_panel_feed_thumb"),document.body.removeEventListener("keydown",Sidepannel_handleKeyDown),Sidepannel_StartMain();break;case KEY_INFO:case KEY_REFRESH:case KEY_LEFT:UserLiveFeed_loadingData||UserLiveFeed_FeedRefresh();break;case KEY_PG_UP:case KEY_UP:Screens_ChangeFocusAnimationFinished&&Sidepannel_PosFeed&&!UserLiveFeed_loadingData&&(Sidepannel_RemoveFocusFeed(),Sidepannel_PosFeed--,Sidepannel_AddFocusFeed());break;case KEY_PG_DOWN:case KEY_DOWN:Screens_ChangeFocusAnimationFinished&&Sidepannel_PosFeed<Sidepannel_GetSize()-1&&!UserLiveFeed_loadingData&&(Sidepannel_RemoveFocusFeed(),Sidepannel_PosFeed++,Sidepannel_AddFocusFeed());break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:case KEY_ENTER:var doc;UserLiveFeed_loadingData||((doc=document.getElementById("side_panel")).style.transition="none",Sidepannel_Hide(),Main_values.Play_isHost=!1,Play_UserLiveFeedPressed=!0,Main_ready(function(){Main_OpenLiveStream(Sidepannel_PosFeed,UserLiveFeed_side_ids,Sidepannel_handleKeyDown),Settings_Obj_default("app_animations")&&(doc.style.transition="")}))}}function Sidepannel_handleKeyDownMain(event){switch(event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:case KEY_RIGHT:Sidepannel_Hide(),Main_SwitchScreenAction();break;case KEY_LEFT:AddUser_UserIsSet()?(document.body.removeEventListener("keydown",Sidepannel_handleKeyDownMain),Main_ShowElement("side_panel_feed_thumb"),Sidepannel_StartFeed()):(Main_showWarningDialog(STR_NOKUSER_WARN),window.setTimeout(Main_HideWarningDialog,2e3));break;case KEY_PG_UP:case KEY_UP:Main_values.Sidepannel_Pos&&(Sidepannel_RemoveFocusMain(),Main_values.Sidepannel_Pos--,Main_values.Sidepannel_IsUser||8!==Main_values.Sidepannel_Pos||Main_values.Sidepannel_Pos--,Sidepannel_AddFocusMain());break;case KEY_PG_DOWN:case KEY_DOWN:Main_values.Sidepannel_Pos<12&&(Sidepannel_RemoveFocusMain(),Main_values.Sidepannel_Pos++,Main_values.Sidepannel_IsUser||8!==Main_values.Sidepannel_Pos||Main_values.Sidepannel_Pos++,Sidepannel_AddFocusMain());break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:case KEY_ENTER:Sidepannel_KeyEnter()}}var UserLiveFeed_Feedid,UserLiveFeed_loadingData=!1,UserLiveFeed_loadingDataTry=0,UserLiveFeed_loadingDataTimeout=3500,UserLiveFeed_loadChannelOffsset=0,UserLiveFeed_loadingDataTryMax=5,UserLiveFeed_dataEnded=!1,UserLiveFeed_followerChannels=[],UserLiveFeed_idObject={},UserLiveFeed_status=!1,UserLiveFeed_LastPos=null,UserSidePannel_LastPos=null,UserLiveFeed_token=null,UserLiveFeed_FocusClass="feed_thumbnail_focused",UserLiveFeed_PreventAddfocus=!1,UserLiveFeed_PreventHide=!1,UserLiveFeed_CheckNotifycation=!1,UserLiveFeed_WasLiveidObject={},UserLiveFeed_NotifyLiveidObject=[],UserLiveFeed_Notify=!0,UserLiveFeed_NotifyRunning=!1,UserLiveFeed_NotifyTimeout=3e3,UserLiveFeed_maxChannels=825,UserLiveFeed_ids=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],UserLiveFeed_side_ids=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function UserLiveFeed_StartLoad(PreventAddfocus){AddUser_UserIsSet()&&(UserLiveFeed_clearHideFeed(),UserLiveFeed_status?(UserLiveFeed_ThumbNull(Play_FeedPos,UserLiveFeed_ids[0])&&(UserLiveFeed_LastPos=JSON.parse(document.getElementById(UserLiveFeed_ids[8]+Play_FeedPos).getAttribute(Main_DataAttribute))[0]),UserLiveFeed_ThumbNull(Sidepannel_PosFeed,UserLiveFeed_side_ids[0])&&(UserSidePannel_LastPos=JSON.parse(document.getElementById(UserLiveFeed_side_ids[8]+Sidepannel_PosFeed).getAttribute(Main_DataAttribute))[0])):UserLiveFeed_LastPos=UserSidePannel_LastPos=null,UserLiveFeed_PreventAddfocus=PreventAddfocus,Main_empty("user_feed_scroll"),Main_HideElement("side_panel_feed_thumb"),Sidepannel_PosFeed=0,Main_empty("side_panel_holder"),document.getElementById("side_panel_warn").style.display="none",UserLiveFeed_status=!1,document.getElementById("user_feed_scroll").style.left="0.125em",Main_ShowElement("dialog_loading_feed"),Main_ShowElement("dialog_loading_side_feed"),UserLiveFeed_followerChannels=[],Play_FeedPos=UserLiveFeed_loadChannelOffsset=0,UserLiveFeed_idObject={},Main_updateclock(),UserLiveFeed_loadDataPrepare(),UserLiveFeed_CheckToken())}function UserLiveFeed_CheckToken(){(UserLiveFeed_token=AddUser_UsernameArray[0].access_token)?(UserLiveFeed_token=Main_OAuth+UserLiveFeed_token,UserLiveFeed_loadChannelUserLive()):(UserLiveFeed_loadDataPrepare(),UserLiveFeed_token=null,UserLiveFeed_loadChannels())}function UserLiveFeed_loadDataPrepare(){UserLiveFeed_loadingData=!0,UserLiveFeed_loadingDataTry=0,UserLiveFeed_loadingDataTimeout=3500}function UserLiveFeed_loadChannels(){var theUrl=Main_kraken_api+"users/"+encodeURIComponent(AddUser_UsernameArray[0].id)+"/follows/channels?limit=100&offset="+UserLiveFeed_loadChannelOffsset+"&sortby=last_broadcast"+Main_TwithcV5Flag;BasexmlHttpGet(theUrl,UserLiveFeed_loadingDataTimeout,2,null,UserLiveFeed_loadChannelLive,UserLiveFeed_loadDataError,!1)}function UserLiveFeed_loadDataError(){++UserLiveFeed_loadingDataTry<UserLiveFeed_loadingDataTryMax?(UserLiveFeed_loadingDataTimeout+=500,UserLiveFeed_loadChannels()):(UserLiveFeed_loadingData=!1,UserLiveFeed_GetSize()?(UserLiveFeed_dataEnded=!0,UserLiveFeed_loadDataSuccessFinish()):(Main_HideElement("dialog_loading_feed"),Main_HideElement("dialog_loading_side_feed"),UserLiveFeed_isFeedShow()&&(Play_showWarningDialog(STR_REFRESH_PROBLEM),window.setTimeout(function(){Play_HideWarningDialog()},2e3))))}function UserLiveFeed_loadChannelLive(end){var response=JSON.parse(end).follows,response_items=response.length;if(response_items){var x=0,max=UserLiveFeed_followerChannels.length+response_items,end=!1;for(UserLiveFeed_maxChannels<max&&(end=!0,response_items=Math.min(response_items,response_items-(max-UserLiveFeed_maxChannels)));x<response_items;x++)UserLiveFeed_followerChannels.push(response[x].channel._id);end?(UserLiveFeed_loadDataPrepare(),UserLiveFeed_loadChannelUserLive()):(UserLiveFeed_loadChannelOffsset+=response_items,UserLiveFeed_loadDataPrepare(),UserLiveFeed_loadChannels())}else UserLiveFeed_loadDataPrepare(),UserLiveFeed_loadChannelUserLive()}function UserLiveFeed_loadChannelUserLive(){var theUrl=Main_kraken_api+"streams/";theUrl+=UserLiveFeed_token?"followed?":"?channel="+UserLiveFeed_followerChannels.join()+"&",UserLiveFeed_loadChannelUserLiveGet(theUrl+="limit=100&offset=0&stream_type=all"+Main_TwithcV5Flag)}function UserLiveFeed_loadChannelUserLiveGet(theUrl){var xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",theUrl,!0),xmlHttp.timeout=UserLiveFeed_loadingDataTimeout,xmlHttp.setRequestHeader(Main_clientIdHeader,AddCode_clientId),xmlHttp.setRequestHeader(Main_AcceptHeader,Main_TwitchV5Json),UserLiveFeed_token&&xmlHttp.setRequestHeader(Main_Authorization,UserLiveFeed_token),xmlHttp.ontimeout=function(){},xmlHttp.onreadystatechange=function(){4===xmlHttp.readyState&&(200===xmlHttp.status?UserLiveFeed_loadDataSuccess(xmlHttp.responseText):!UserLiveFeed_token||401!==xmlHttp.status&&403!==xmlHttp.status?UserLiveFeed_loadDataErrorLive():AddCode_refreshTokens(0,0,UserLiveFeed_CheckToken,UserLiveFeed_loadDataRefreshTokenError))},xmlHttp.send(null)}function UserLiveFeed_loadDataRefreshTokenError(){(AddUser_UsernameArray[0].access_token?UserLiveFeed_loadDataErrorLive:UserLiveFeed_CheckToken)()}function UserLiveFeed_loadDataErrorLive(){++UserLiveFeed_loadingDataTry<UserLiveFeed_loadingDataTryMax?(UserLiveFeed_loadingDataTimeout+=500,UserLiveFeed_loadChannelUserLive()):(UserLiveFeed_loadingData=!1,Main_HideElement("dialog_loading_feed"),Main_HideElement("dialog_loading_side_feed"),UserLiveFeed_isFeedShow()&&(Play_showWarningDialog(STR_REFRESH_PROBLEM),window.setTimeout(function(){Play_HideWarningDialog()},2e3)))}function UserLiveFeed_loadDataSuccess(sorting){var response=JSON.parse(sorting).streams,response_items=response.length,sorting=Settings_Obj_default("live_feed_sort");response_items<Main_ItemsLimitVideo&&(UserLiveFeed_dataEnded=!0);var stream,id,doc=document.getElementById("user_feed_scroll"),docside=document.getElementById("side_panel_holder"),i=0;UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name]||(UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name]={},UserLiveFeed_CheckNotifycation=!1);var sorting_type1=Settings_FeedSort[sorting][0],sorting_type2=Settings_FeedSort[sorting][1];for(Settings_FeedSort[sorting][2]?sorting_type1?response.sort(function(a,b){return a[sorting_type1][sorting_type2]<b[sorting_type1][sorting_type2]?-1:a[sorting_type1][sorting_type2]>b[sorting_type1][sorting_type2]?1:0}):response.sort(function(a,b){return a[sorting_type2]<b[sorting_type2]?-1:a[sorting_type2]>b[sorting_type2]?1:0}):sorting_type1?response.sort(function(a,b){return a[sorting_type1][sorting_type2]>b[sorting_type1][sorting_type2]?-1:a[sorting_type1][sorting_type2]<b[sorting_type1][sorting_type2]?1:0}):response.sort(function(a,b){return a[sorting_type2]>b[sorting_type2]?-1:a[sorting_type2]<b[sorting_type2]?1:0});i<response_items;i++)id=(stream=response[i]).channel._id,UserLiveFeed_idObject[id]||(UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name][id]||UserLiveFeed_NotifyLiveidObject.push({name:stream.channel.display_name,logo:stream.channel.logo,title:Main_ReplaceLargeFont(twemoji.parse(stream.channel.status)),game:stream.game,rerun:Main_is_rerun(stream.broadcast_platform)}),UserLiveFeed_idObject[id]=1,null!==UserLiveFeed_LastPos&&UserLiveFeed_LastPos===stream.channel.name&&(Play_FeedPos=i),doc.appendChild(UserLiveFeed_CreatFeed(i,[stream.channel.name,id,Main_is_rerun(stream.broadcast_platform)],[stream.preview.template.replace("{width}x{height}",Main_VideoSize),stream.channel.display_name,stream.game,Main_addCommas(stream.viewers),stream.channel.status])),null!==UserSidePannel_LastPos&&UserSidePannel_LastPos===stream.channel.name&&(Sidepannel_PosFeed=i),docside.appendChild(UserLiveFeed_CreatSideFeed(i,[stream.channel.name,id,Main_is_rerun(stream.broadcast_platform)],[stream.channel.name,id,stream.preview.template.replace("{width}x{height}",Main_SidePannelSize),stream.channel.display_name,stream.channel.status,stream.game,STR_SINCE+Play_streamLiveAt(stream.created_at)+" "+STR_FOR+Main_addCommas(stream.viewers)+STR_SPACE+STR_VIEWER,Main_videoqualitylang(stream.video_height,stream.average_fps,stream.channel.broadcaster_language),Main_is_rerun(stream.broadcast_platform),stream.channel.partner],[stream.channel.logo,stream.channel.display_name,stream.channel.display_name,stream.game,Main_addCommas(stream.viewers)])));UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name]=JSON.parse(JSON.stringify(UserLiveFeed_idObject)),UserLiveFeed_loadDataSuccessFinish()}function UserLiveFeed_loadDataSuccessFinish(){UserLiveFeed_status=!(UserLiveFeed_loadingData=!1),Main_ready(function(){Main_HideElement("dialog_loading_feed"),Main_HideElement("dialog_loading_side_feed"),Sidepannel_AddFocusFeed(!0),UserLiveFeed_FeedAddFocus(!0),window.setTimeout(Sidepannel_PreloadImgs,600),UserLiveFeed_CheckNotifycation?UserLiveFeed_LiveNotification():(UserLiveFeed_NotifyLiveidObject=[],UserLiveFeed_CheckNotifycation=!0)})}function UserLiveFeed_LiveNotification(){!UserLiveFeed_NotifyRunning&&UserLiveFeed_Notify&&UserLiveFeed_NotifyLiveidObject.length?(UserLiveFeed_NotifyRunning=!0,UserLiveFeed_LiveNotificationShow(0)):UserLiveFeed_NotifyLiveidObject=[]}function UserLiveFeed_LiveNotificationShow(position){var img=document.getElementById("user_feed_notify_img");img.onload=function(){this.onload=null,this.onerror=null,UserLiveFeed_LiveNotificationOnload(position)},img.onerror=function(){this.onerror=null,this.onload=null,this.src=IMG_404_LOGO,UserLiveFeed_LiveNotificationOnload(position)},img.src=UserLiveFeed_NotifyLiveidObject[position].logo}function UserLiveFeed_LiveNotificationOnload(position){Main_innerHTML("user_feed_notify_name",'<i class="icon-'+(UserLiveFeed_NotifyLiveidObject[position].rerun?'refresh" style="':'circle" style="color: red;')+' font-size: 75%; "></i>'+STR_SPACE+UserLiveFeed_NotifyLiveidObject[position].name),Main_textContent("user_feed_notify_game",UserLiveFeed_NotifyLiveidObject[position].game),Main_innerHTML("user_feed_notify_title",UserLiveFeed_NotifyLiveidObject[position].title),Main_ready(function(){Main_RemoveClass("user_feed_notify","user_feed_notify_hide"),window.setTimeout(function(){UserLiveFeed_LiveNotificationHide(position)},UserLiveFeed_NotifyTimeout)})}function UserLiveFeed_LiveNotificationHide(position){Main_AddClass("user_feed_notify","user_feed_notify_hide"),position<UserLiveFeed_NotifyLiveidObject.length-1?window.setTimeout(function(){UserLiveFeed_LiveNotificationShow(position+1)},800):(UserLiveFeed_NotifyRunning=!1,UserLiveFeed_NotifyLiveidObject=[])}function UserLiveFeed_GetSize(){return document.getElementById("user_feed_scroll").getElementsByClassName("user_feed_thumb").length}function UserLiveFeed_CreatFeed(id,data,valuesArray){var div=document.createElement("div");return div.setAttribute("id",UserLiveFeed_ids[8]+id),div.setAttribute(Main_DataAttribute,JSON.stringify(data)),div.className="user_feed_thumb",div.innerHTML='<div id="'+UserLiveFeed_ids[0]+id+'" class="stream_thumbnail_player_feed" ><div class="stream_thumbnail_live_img"><img id="'+UserLiveFeed_ids[1]+id+'" alt="" class="stream_img" src="'+valuesArray[0]+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+IMG_404_VIDEO+'\'"></div><div id="'+UserLiveFeed_ids[2]+id+'" class="player_live_feed_text"><div class="stream_text_holder"><div style="line-height: 1.6ch;"><div id="'+UserLiveFeed_ids[3]+id+'" class="stream_info_live_name" style="width: 63%; display: inline-block;">'+Main_ReplaceLargeFont(valuesArray[1])+'</div><div "class="stream_info_live" style="width:36%; float: right; text-align: right; display: inline-block; font-size: 75%; "><i class="icon-'+(data[2]?'refresh" style="':'circle" style="color: red;')+' font-size: 75%; "></i>'+STR_SPACE+valuesArray[3]+'</div></div><div id="'+UserLiveFeed_ids[4]+id+'"class="stream_info_live_title">'+Main_ReplaceLargeFont(twemoji.parse(valuesArray[4]))+'</div><div id="'+UserLiveFeed_ids[5]+id+'"class="stream_info_live">'+valuesArray[2]+"</div></div></div></div>",div}function UserLiveFeed_CreatSideFeed(id,jsondata,data,valuesArray){var div=document.createElement("div");return div.setAttribute("id",UserLiveFeed_side_ids[8]+id),div.setAttribute(Main_DataAttribute,JSON.stringify(jsondata)),div.setAttribute("side_panel_data",JSON.stringify(data)),div.className="side_panel_feed",div.innerHTML='<div id="'+UserLiveFeed_side_ids[0]+id+'" class="side_panel_div"><div id="'+UserLiveFeed_side_ids[2]+id+'" style="width: 100%;"><div id="'+UserLiveFeed_side_ids[3]+id+'" style="display: none;">'+valuesArray[1]+'</div><div class="side_panel_iner_div1"><img id="'+UserLiveFeed_side_ids[1]+id+'" class="side_panel_channel_img" src="'+valuesArray[0]+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+'\'"></div><div class="side_panel_iner_div2"><div id="'+UserLiveFeed_side_ids[4]+id+'" class="side_panel_new_title">'+Main_ReplaceLargeFont(valuesArray[2])+'</div><div id="'+UserLiveFeed_side_ids[5]+id+'" class="side_panel_new_game">'+valuesArray[3]+'</div></div><div class="side_panel_iner_div3"><div style="text-align: center;"><i class="icon-'+(jsondata[2]?'refresh" style="':'circle" style="color: red;')+' font-size: 55%; "></i><div style="font-size: 58%;">'+valuesArray[4]+"</div></div></div></div></div></div>",div}function UserLiveFeed_isFeedShow(){return-1===document.getElementById("user_feed").className.indexOf("user_feed_hide")}function UserLiveFeed_ShowFeed(PreventAddfocus){var hasuser=AddUser_UserIsSet();hasuser&&(Play_FeedOldUserName!==AddUser_UsernameArray[0].name&&(UserLiveFeed_status=!1),Play_FeedOldUserName=AddUser_UsernameArray[0].name),hasuser&&UserLiveFeed_ThumbNull(0,UserLiveFeed_ids[0])||(UserLiveFeed_status=!1),UserLiveFeed_status||UserLiveFeed_loadingData||UserLiveFeed_StartLoad(PreventAddfocus),hasuser&&(Main_isElementShowing("scene2")&&UserLiveFeed_Show(PreventAddfocus),PreventAddfocus?(UserLiveFeed_FeedRemoveFocus(),UserLiveFeed_FeedSetPos(!0)):UserLiveFeed_FeedAddFocus(!0))}function UserLiveFeed_Show(notransition){var doc;notransition?((doc=document.getElementById("user_feed")).style.transition="none",doc.classList.remove("user_feed_hide"),Main_ready(function(){Settings_Obj_default("app_animations")&&(doc.style.transition="")})):Main_RemoveClass("user_feed","user_feed_hide")}function UserLiveFeed_Hide(notransition){var doc;notransition?((doc=document.getElementById("user_feed")).style.transition="none",doc.classList.add("user_feed_hide"),Main_ready(function(){Settings_Obj_default("app_animations")&&(doc.style.transition="")})):Main_AddClass("user_feed","user_feed_hide")}function UserLiveFeed_ResetFeedId(){UserLiveFeed_clearHideFeed(),UserLiveFeed_PreventHide||UserLiveFeed_setHideFeed()}function UserLiveFeed_clearHideFeed(){window.clearTimeout(UserLiveFeed_Feedid)}function UserLiveFeed_setHideFeed(){UserLiveFeed_isFeedShow()&&(UserLiveFeed_Feedid=window.setTimeout(UserLiveFeed_Hide,5500))}function UserLiveFeed_FeedRefresh(PreventAddfocus){UserLiveFeed_clearHideFeed(),UserLiveFeed_loadingData?window.setTimeout(function(){UserLiveFeed_loadingData=!1},15e3):UserLiveFeed_StartLoad(PreventAddfocus)}function UserLiveFeed_FeedAddFocus(skipAnimation){UserLiveFeed_ResetFeedId(),UserLiveFeed_ThumbNull(Play_FeedPos,UserLiveFeed_ids[0])&&(UserLiveFeed_PreventAddfocus?UserLiveFeed_PreventAddfocus=!1:Main_AddClass(UserLiveFeed_ids[0]+Play_FeedPos,UserLiveFeed_FocusClass),UserLiveFeed_FeedSetPos(skipAnimation))}function UserLiveFeed_FeedRemoveFocus(){UserLiveFeed_ThumbNull(Play_FeedPos,UserLiveFeed_ids[0])&&Main_RemoveClass(UserLiveFeed_ids[0]+Play_FeedPos,UserLiveFeed_FocusClass)}function UserLiveFeed_FeedGetPos(){return Play_FeedPos<3?2.5:UserLiveFeed_ThumbNull(Play_FeedPos+2,UserLiveFeed_ids[0])?-1*document.getElementById(UserLiveFeed_ids[8]+(Play_FeedPos-2)).offsetLeft:UserLiveFeed_ThumbNull(Play_FeedPos+1,UserLiveFeed_ids[0])?-1*document.getElementById(UserLiveFeed_ids[8]+(Play_FeedPos-3)).offsetLeft:-1*document.getElementById(UserLiveFeed_ids[8]+(Play_FeedPos-(3<Play_FeedPos?4:3))).offsetLeft}function UserLiveFeed_FeedSetPos(skipAnimation){var position=UserLiveFeed_FeedGetPos(),doc=document.getElementById("user_feed_scroll");!skipAnimation&&Screens_ChangeFocusAnimationFinished&&Screens_SettingDoAnimations&&!Screens_ChangeFocusAnimationFast?(Screens_ChangeFocusAnimationFinished=!1,Screens_ChangeFocusAnimationFast=!0,doc.style.transition="",doc.classList.add("user_feed_scroll_ani"),window.setTimeout(function(){Screens_ChangeFocusAnimationFinished=!0},200)):(skipAnimation&&(Screens_ChangeFocusAnimationFast=!1),doc.style.transition="none",doc.classList.remove("user_feed_scroll_ani")),position&&(doc.style.left=position/BodyfontSize+"em")}function UserLiveFeed_ThumbNull(y,thumbnail){return null!==document.getElementById(thumbnail+y)}function UserLiveFeed_SetFeedPicText(){Main_innerHTML("icon_feed_refresh",'<div class="strokedelinebig" style="vertical-align: middle; display: inline-block;"><i class="icon-refresh" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedelinebig" style="vertical-align: middle; display: inline-block">'+STR_SPACE+STR_REFRESH+":"+STR_UP+STR_SPACE+STR_SPACE+"</div>")}function UserLiveFeed_SetHoldUp(){Main_IconLoad("icon_feed_refresh","icon-refresh",STR_REFRESH+":"+STR_HOLD_UP)}var Users_cursorY=0,Users_cursorX=0,Users_ColoumnsCount=8,Users_RemoveCursor=0,Users_RemoveDialogID=null,Users_beforeUser=1,Users_UserDialogID=null,Users_Isautentication=!0,Users_ShowAutetication=!1,Users_Userlastadded="",Users_ids=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],Users_status=!1,Users_loadingData=!0;function Users_init(){if(!AddUser_IsUserSet())return Main_values.Main_Go=Main_Live,Users_exit(),void Main_SwitchScreen();Main_values.Main_Before!==Main_Users&&(Users_beforeUser=Main_values.Main_Before),Main_ShowElement("label_side_panel"),Main_IconLoad("label_refresh","icon-user",STR_USER_TOP_LABLE),Main_values.Main_Go=Main_Users,Main_HideWarningDialog(),ScreensObj_SetTopLable(STR_USER,STR_MAIN_USER+" "+AddUser_UsernameArray[0].display_name),document.body.addEventListener("keydown",Users_handleKeyDown,!1),Users_status?(Main_YRst(Users_cursorY),Main_ShowElement(Users_ids[5]),Users_addFocus(),Main_SaveValues()):Users_StartLoad()}function Users_exit(){Main_HideElement("label_side_panel"),document.body.removeEventListener("keydown",Users_handleKeyDown),Main_HideElement(Users_ids[5]),Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE)}function Users_StartLoad(){Main_empty("stream_table_user"),Main_HideElement(Users_ids[5]),Main_showLoadDialog(),Main_HideWarningDialog(),Main_FirstLoad=!(Users_status=!1),Users_loadingData=!(Users_cursorY=Users_cursorX=0),Main_CounterDialogRst(),Main_ready(function(){Users_loadData()})}function Users_loadData(){var row=document.createElement("div"),doc=document.getElementById("stream_table_user"),x=1,y=0,div=document.createElement("div");div.setAttribute("id",Users_ids[4]+"0_0"),div.classList.add("stream_thumbnail_user_icon_holder"),div.innerHTML='<div id="'+Users_ids[0]+'0_0" class="stream_thumbnail_user" ><div class="stream_thumbnail_channel_img"></div><div  class="stream_thumbnail_user_text_holder"><div class="stream_info_user_name">'+STR_USER_ADD+'</div><div style="color:#FFFFFF;font-size: 17vh; text-align: center; transform: translateY(-24.5vh);"><i class="icon-user-plus" ></i></div></div></div>',row.appendChild(div);for(var user=0;user<AddUser_UsernameArray.length;user++)row.appendChild(Users_createCell(y+"_"+x,user)),5<++x&&(doc.appendChild(row),row=document.createElement("div"),y++,x=0);x<=5&&doc.appendChild(row),Users_loadDataSuccessFinish()}function Users_createCell(id,pos){var div=document.createElement("div");return div.setAttribute("id",Users_ids[4]+id),div.setAttribute(Main_DataAttribute,pos),div.classList.add("stream_thumbnail_user_icon_holder"),div.innerHTML='<div id="'+Users_ids[0]+id+'" class="stream_thumbnail_user" ><div class="stream_thumbnail_channel_img"><img id="'+Users_ids[1]+id+'" alt="" class="stream_img" src="'+AddUser_UsernameArray[pos].logo+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+'\'"></div><div  class="stream_thumbnail_user_text_holder"><div class="stream_info_user_name">'+AddUser_UsernameArray[pos].display_name+'</div><div class="stream_info_user_title">'+(AddUser_UsernameArray[pos].access_token?STR_USER_CODE_OK:STR_USER_CODE)+"</div></div></div>",div}function Users_loadDataSuccessFinish(){Main_ready(function(){Users_status||(Users_status=!0,Users_addFocus(),Main_HideLoadDialog(),Main_SaveValues()),Main_ShowElement(Users_ids[5]),Main_FirstLoad=!1,Users_loadingData=!1,Users_ShowAutetication&&(Users_ShowAutetication=!1,Users_showUserDialogPos=AddUser_UserFindpos(Users_Userlastadded),Users_Isautentication=!0,Users_showRemoveDialog())})}function Users_addFocus(forceScroll){Main_AddClass(Users_ids[0]+Users_cursorY+"_"+Users_cursorX,Main_classThumb),Main_CounterDialog(Users_cursorX,Users_cursorY,Main_ColoumnsCountChannel,AddUser_UsernameArray.length+1),Main_YchangeAddFocus(Users_cursorY)||forceScroll?1<Users_cursorY?Main_ThumbNull(Users_cursorY+1,0,Users_ids[0])&&Main_ScrollTableCalc(Users_ids[5],-1*document.getElementById(Users_ids[4]+Users_cursorY+"_"+Users_cursorX).offsetTop,39):Main_ScrollTable(Users_ids[5],0):Main_handleKeyUp()}function Users_removeFocus(){Main_addFocusFinish=!1,Main_RemoveClass(Users_ids[0]+Users_cursorY+"_"+Users_cursorX,Main_classThumb)}function Users_keyEnter(){Users_cursorX||Users_cursorY?Users_showUserDialog():(Main_values.Main_Before=Main_values.Main_Go,Main_HideElement(Users_ids[5]),document.body.removeEventListener("keydown",Users_handleKeyDown),AddUser_init())}function Users_clearUserDialog(){window.clearTimeout(Users_UserDialogID)}function Users_setUserDialog(){Users_UserDialogID=window.setTimeout(Users_HideUserDialog,2e4)}var Users_showUserDialogPos=0;function Users_showUserDialog(){Users_RemoveCursor=0,Users_setUserDialog(),Users_showUserDialogPos=parseInt(document.getElementById(Users_ids[4]+Users_cursorY+"_"+Users_cursorX).getAttribute(Main_DataAttribute)),Main_innerHTML("main_dialog_user_text",STR_USER_OPTION+" "+AddUser_UsernameArray[Users_showUserDialogPos].display_name),Main_innerHTML("main_dialog_user_key",AddUser_UsernameArray[Users_showUserDialogPos].access_token?STR_USER_CODE_OK:STR_USER_CODE),Main_ShowElement("main_dialog_user")}function Users_HideUserDialog(){Users_clearUserDialog(),Main_HideElement("main_dialog_user"),Users_RemoveCursor=0,Users_UserCursorSet()}function Users_isUserDialogShown(){return Main_isElementShowing("main_dialog_user")}function Users_UserCursorSet(){Main_RemoveClass("main_dialog_user_first","button_dialog_focused"),Main_RemoveClass("main_dialog_user_key","button_dialog_focused"),Main_RemoveClass("main_dialog_user_remove","button_dialog_focused"),Users_RemoveCursor?1===Users_RemoveCursor?Main_AddClass("main_dialog_user_key","button_dialog_focused"):Users_RemoveCursor&&Main_AddClass("main_dialog_user_remove","button_dialog_focused"):Main_AddClass("main_dialog_user_first","button_dialog_focused")}function Users_clearRemoveDialog(){window.clearTimeout(Users_RemoveDialogID)}function Users_setRemoveDialog(){Users_RemoveDialogID=window.setTimeout(Users_HideRemoveDialog,3e4)}function Users_showRemoveDialog(){Users_setRemoveDialog(),Users_Isautentication?Main_innerHTML("main_dialog_remove",STR_OAUTH_IN+" "+AddUser_UsernameArray[Users_showUserDialogPos].name+"?"):Main_innerHTML("main_dialog_remove",STR_REMOVE_USER+STR_BR+AddUser_UsernameArray[Users_showUserDialogPos].name+"?"),Main_ShowElement("main_remove_dialog")}function Users_HideRemoveDialog(){Users_clearRemoveDialog(),Main_HideElement("main_remove_dialog"),Users_RemoveCursor=0,Users_RemoveCursorSet()}function Users_isRemoveDialogShown(){return Main_isElementShowing("main_remove_dialog")}function Users_RemoveCursorSet(){Users_RemoveCursor?(Main_RemoveClass("remove_cancel","button_dialog_focused"),Main_AddClass("remove_yes","button_dialog_focused")):(Main_AddClass("remove_cancel","button_dialog_focused"),Main_RemoveClass("remove_yes","button_dialog_focused"))}function Users_handleKeyDown(event){var i;if(!Main_FirstLoad&&!Main_CantClick())switch(Main_keyClickDelayStart(),event.keyCode){case KEY_RETURN_Q:case KEY_KEYBOARD_BACKSPACE:case KEY_RETURN:Users_isRemoveDialogShown()?Users_HideRemoveDialog():Users_isUserDialogShown()?Users_HideUserDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(Users_exit(),Sidepannel_RemoveFocusMain(),Main_values.Main_Go=Users_beforeUser,Sidepannel_SetTopOpacity(Main_values.Main_Go),Main_SwitchScreenAction());break;case KEY_LEFT:if(Users_isRemoveDialogShown())--Users_RemoveCursor<0&&(Users_RemoveCursor=1),Users_RemoveCursorSet(),Users_clearRemoveDialog(),Users_setRemoveDialog();else if(Users_isUserDialogShown())--Users_RemoveCursor<0&&(Users_RemoveCursor=2),Users_UserCursorSet(),Users_clearUserDialog(),Users_setUserDialog();else if(Users_cursorX)if(Main_ThumbNull(Users_cursorY,Users_cursorX-1,Users_ids[0]))Users_removeFocus(),Users_cursorX--,Users_addFocus();else if(Main_ThumbNull(Users_cursorY-1,0,Users_ids[0])){for(i=Users_ColoumnsCount-1;-1<i;i--)if(Main_ThumbNull(Users_cursorY-1,i,Users_ids[0])){Users_removeFocus(),Users_cursorY--,Users_cursorX=i,Users_addFocus();break}}else Users_removeFocus(),Users_cursorX=Users_ColoumnsCount-1,Users_addFocus();else Users_removeFocus(),Sidepannel_Start(Users_handleKeyDown);break;case KEY_RIGHT:Users_isRemoveDialogShown()?(1<++Users_RemoveCursor&&(Users_RemoveCursor=0),Users_RemoveCursorSet(),Users_clearRemoveDialog(),Users_setRemoveDialog()):Users_isUserDialogShown()?(2<++Users_RemoveCursor&&(Users_RemoveCursor=0),Users_UserCursorSet(),Users_clearUserDialog(),Users_setUserDialog()):(Main_ThumbNull(Users_cursorY,Users_cursorX+1,Users_ids[0])?(Users_removeFocus(),Users_cursorX++):Users_cursorX=(Main_ThumbNull(Users_cursorY+1,0,Users_ids[0])?(Users_removeFocus(),Users_cursorY++):Users_removeFocus(),0),Users_addFocus());break;case KEY_UP:if(Users_isRemoveDialogShown()||Users_isUserDialogShown())break;if(Users_cursorY)for(i=0;i<Users_ColoumnsCount;i++)if(Main_ThumbNull(Users_cursorY-1,Users_cursorX-i,Users_ids[0])){Users_removeFocus(),Users_cursorY--,Users_cursorX-=i,Users_addFocus();break}break;case KEY_DOWN:if(Users_isRemoveDialogShown()||Users_isUserDialogShown())break;for(i=0;i<Users_ColoumnsCount;i++)if(Main_ThumbNull(Users_cursorY+1,Users_cursorX-i,Users_ids[0])){Users_removeFocus(),Users_cursorY++,Users_cursorX-=i,Users_addFocus();break}break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_KEYBOARD_SPACE:case KEY_ENTER:var temp_RemoveCursor=Users_RemoveCursor;Users_isRemoveDialogShown()?(Users_HideRemoveDialog(),Users_Isautentication?temp_RemoveCursor&&(Main_values.Users_AddcodePosition=Users_showUserDialogPos,Main_values.Main_Before=Main_values.Main_Go,Main_HideElement(Users_ids[5]),document.body.removeEventListener("keydown",Users_handleKeyDown),Main_SaveValues(),AddCode_init()):temp_RemoveCursor&&(document.body.removeEventListener("keydown",Users_handleKeyDown),Users_exit(),AddUser_removeUser(Users_showUserDialogPos))):Users_isUserDialogShown()?(Users_HideUserDialog(),temp_RemoveCursor?1===temp_RemoveCursor?AddUser_UsernameArray[Users_showUserDialogPos].access_token?(Main_showWarningDialog(STR_USER_CODE_OK),window.setTimeout(Main_HideWarningDialog,1500)):(Users_Isautentication=!0,Users_showRemoveDialog()):(Users_Isautentication=!1,Users_showRemoveDialog()):AddUser_UserMakeOne(Users_showUserDialogPos)):Users_keyEnter();break;case KEY_INFO:case KEY_REFRESH:Main_ReloadScreen()}}window.parseIRC=function(data){var message={raw:data,tags:{},prefix:null,command:null,params:[]},position=0,nextspace=0;if(64===data.charCodeAt(0)){if(-1===(nextspace=data.indexOf(" ")))return null;for(var rawTags=data.slice(1,nextspace).split(";"),i=0;i<rawTags.length;i++){var pair=rawTags[i].split("=");message.tags[pair[0]]=pair[1]||!0}position=nextspace+1}for(;32===data.charCodeAt(position);)position++;if(58===data.charCodeAt(position)){if(-1===(nextspace=data.indexOf(" ",position)))return null;for(message.prefix=data.slice(position+1,nextspace),position=nextspace+1;32===data.charCodeAt(position);)position++}if(-1===(nextspace=data.indexOf(" ",position)))return data.length>position?(message.command=data.slice(position),message):null;for(message.command=data.slice(position,nextspace),position=nextspace+1;32===data.charCodeAt(position);)position++;for(;position<data.length;){if(nextspace=data.indexOf(" ",position),58===data.charCodeAt(position)){message.params.push(data.slice(position+1));break}if(-1===nextspace){if(-1===nextspace){message.params.push(data.slice(position));break}}else for(message.params.push(data.slice(position,nextspace)),position=nextspace+1;32===data.charCodeAt(position);)position++}return message};function extraEmoticonize(message,emote){return message.replace(emote.code,extraEmoteTemplate(emote))}function extraEmoteTemplate(emote){return'<img class="emoticon" alt="" src="'+emote["4x"]+'"/>'}function emoteURL(id){return"https://static-cdn.jtvnw.net/emoticons/v1/"+id+"/3.0"}function emoteTemplate(url){return'<img class="emoticon" alt="" src="'+url+'"/>'}function mescape(message){return message.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function extraMessageTokenize(message,bits){for(var emote,tokenizedString=message.split(" "),i=0;i<tokenizedString.length;i++)message=tokenizedString[i],(emote=bits?findCheerInToken(message):0)?tokenizedString[i]=emoteTemplate(emote):(emote=extraEmotes[message.replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,"")]||extraEmotes[message],tokenizedString[i]=emote?extraEmoticonize(message,emote):mescape(message));return tokenizedString.join(" ")+(bits?" "+bits+" bits":"")}function calculateColorReplacement(color){var c,i,rgb="#";if("#000000"===color)return"#2cffa2";for((color=String(color).replace(/[^0-9a-f]/gi,"")).length<6&&(color=color[0]+color[0]+color[1]+color[1]+color[2]+color[2]),i=0;i<3;i++)(c=parseInt(color.substr(2*i,2),16))<10&&(c=10),rgb+=("00"+(c=Math.round(Math.min(Math.max(0,c+"0.25"*c),255)).toString(16))).substr(c.length);return rgb}function findCheerInToken(message){for(var cheerPrefixes=Object.keys(cheers[ChatLive_selectedChannel_id]),tokenLower=message.toLowerCase(),index=-1,i=0;i<cheerPrefixes.length;i++){if(-1!==message.indexOf(cheerPrefixes[i]))return getCheer(cheerPrefixes[i],parseInt(message.substr(cheerPrefixes[i].length),10));-1!==tokenLower.indexOf(cheerPrefixes[i].toLowerCase())&&(index=i)}return-1<index?getCheer(cheerPrefixes[index],parseInt(tokenLower.substr(cheerPrefixes[index].toLowerCase().length),10)):null}function getCheer(prefix,amount){for(var amounts=cheers[ChatLive_selectedChannel_id][prefix],amountsArray=Object.keys(amounts),length=amountsArray.length;length--;)if(amount>=amountsArray[length])return amounts[amountsArray[length]];return amounts[amountsArray[0]]}function emoticonize(message,emotes){if(!emotes)return[message];var emote,i,tokenizedMessage=[],emotesList=Object.keys(emotes),replacements=[];return emotesList.forEach(function(id){for(emote=emotes[id],i=emote.length-1;0<=i;i--)replacements.push({id:id,first:emote[i][0],last:emote[i][1]})}),replacements.sort(function(a,b){return b.first-a.first}),message=punycode.ucs2.decode(message),replacements.forEach(function(replacement){tokenizedMessage.unshift(punycode.ucs2.encode(message.slice(replacement.last+1))),tokenizedMessage.unshift([emoteTemplate(emoteURL(replacement.id))]),message=message.slice(0,replacement.first)}),tokenizedMessage.unshift(punycode.ucs2.encode(message)),tokenizedMessage}function transformBadges(sets){return Object.keys(sets).map(function(b){var badge=sets[b];return badge.type=b,badge.versions=Object.keys(sets[b].versions).map(function(v){var version=sets[b].versions[v];return version.type=v,version}),badge})}function tagCSS(type,version,url,doc){var style=document.createElement("style");style.type="text/css",style.innerHTML="."+type+"-"+version+' { background-image: url("'+url.replace("http:","https:")+'"); }',(doc||document.head).appendChild(style)}!function(root){var punycode="object"==typeof global&&global;punycode.global!==punycode&&punycode.window!==punycode&&punycode.self!==punycode||(root=punycode);var maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return 1<parts.length&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)55296<=(value=string.charCodeAt(counter++))&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return 65535<value&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!==flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);baseMinusTMin*tMax>>1<delta;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,j,index,oldi,w,k,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias,basic=input.lastIndexOf(delimiter);for(basic<0&&(basic=0),j=0;j<basic;++j)128<=input.charCodeAt(j)&&error("not-basic"),output.push(input.charCodeAt(j));for(index=0<basic?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;inputLength<=index&&error("invalid-input"),baseMinusT=input.charCodeAt(index++),(base<=(baseMinusT=baseMinusT-48<10?baseMinusT-22:baseMinusT-65<26?baseMinusT-65:baseMinusT-97<26?baseMinusT-97:base)||baseMinusT>floor((maxInt-i)/w))&&error("overflow"),i+=baseMinusT*w,!(baseMinusT<(baseMinusT=k<=bias?tMin:bias+tMax<=k?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-baseMinusT))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0===oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){for(var delta,handledCPCount,basicLength,m,q,k,t,currentValue,handledCPCountPlusOne,baseMinusT,qMinusT,output=[],inputLength=(input=ucs2decode(input)).length,n=initialN,bias=initialBias,j=delta=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)n<=(currentValue=input[j])&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue===n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:bias+tMax<=k?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount===basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},root.punycode=punycode}(this);!function(global){function ReconnectingWebSocket(url,protocols,options){var key,settings={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:50,binaryType:"blob"};for(key in options=options||{},settings)void 0!==options[key]?this[key]=options[key]:this[key]=settings[key];this.url=url,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var ws,self=this,forcedClose=!1,timedOut=!1,eventTarget=document.createElement("div");function generateEvent(s,args){var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(s,!1,!1,args),evt}eventTarget.addEventListener("open",function(event){self.onopen(event)}),eventTarget.addEventListener("close",function(event){self.onclose(event)}),eventTarget.addEventListener("connecting",function(event){self.onconnecting(event)}),eventTarget.addEventListener("message",function(event){self.onmessage(event)}),eventTarget.addEventListener("error",function(event){self.onerror(event)}),eventTarget.addEventListener("maxAttemptsExceed",function(event){self.onmaxattemptsexceed(event)}),this.addEventListener=eventTarget.addEventListener.bind(eventTarget),this.removeEventListener=eventTarget.removeEventListener.bind(eventTarget),this.dispatchEvent=eventTarget.dispatchEvent.bind(eventTarget),this.open=function(reconnectAttempt){var localWs,timeout;reconnectAttempt&&this.reconnectAttempts>this.maxReconnectAttempts||((ws=new WebSocket(self.url,protocols||[])).binaryType=this.binaryType,reconnectAttempt||(eventTarget.dispatchEvent(generateEvent("connecting")),this.reconnectAttempts=0),(self.debug||ReconnectingWebSocket.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",self.url),localWs=ws,timeout=setTimeout(function(){(self.debug||ReconnectingWebSocket.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",self.url),timedOut=!0,localWs.close(),timedOut=!1},self.timeoutInterval),ws.onopen=function(){clearTimeout(timeout),(self.debug||ReconnectingWebSocket.debugAll)&&console.debug("ReconnectingWebSocket","onopen",self.url),self.protocol=ws.protocol,self.readyState=WebSocket.OPEN,self.reconnectAttempts=0;var e=generateEvent("open");e.isReconnect=reconnectAttempt,reconnectAttempt=!1,eventTarget.dispatchEvent(e)},ws.onclose=function(event){var mtimeout;clearTimeout(timeout),ws=null,forcedClose?(self.readyState=WebSocket.CLOSED,eventTarget.dispatchEvent(generateEvent("close"))):(self.readyState=WebSocket.CONNECTING,(mtimeout=generateEvent("connecting")).code=event.code,mtimeout.reason=event.reason,mtimeout.wasClean=event.wasClean,eventTarget.dispatchEvent(mtimeout),reconnectAttempt||timedOut||((self.debug||ReconnectingWebSocket.debugAll)&&console.debug("ReconnectingWebSocket","onclose",self.url),eventTarget.dispatchEvent(generateEvent("close"))),mtimeout=self.reconnectInterval*Math.pow(self.reconnectDecay,self.reconnectAttempts),setTimeout(function(){self.reconnectAttempts++,self.open(!0)},mtimeout>self.maxReconnectInterval?self.maxReconnectInterval:mtimeout))},ws.onmessage=function(event){(self.debug||ReconnectingWebSocket.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",self.url,event.data);var e=generateEvent("message");e.data=event.data,eventTarget.dispatchEvent(e)},ws.onerror=function(event){(self.debug||ReconnectingWebSocket.debugAll)&&console.debug("ReconnectingWebSocket","onerror",self.url,event),eventTarget.dispatchEvent(generateEvent("error"))})},!0===this.automaticOpen&&this.open(!1),this.send=function(data){if(ws)return(self.debug||ReconnectingWebSocket.debugAll)&&console.debug("ReconnectingWebSocket","send",self.url,data),ws.send(data);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(code,reason){void 0===code&&(code=1e3),forcedClose=!0,ws&&ws.close(code,reason)},this.refresh=function(){ws&&ws.close()}}global.ReconnectingWebSocket="WebSocket"in window?(ReconnectingWebSocket.prototype.onopen=function(){},ReconnectingWebSocket.prototype.onclose=function(){},ReconnectingWebSocket.prototype.onconnecting=function(){},ReconnectingWebSocket.prototype.onmessage=function(){},ReconnectingWebSocket.prototype.onerror=function(){},ReconnectingWebSocket.prototype.onmaxattemptsexceed=function(){},ReconnectingWebSocket.debugAll=!1,ReconnectingWebSocket.CONNECTING=WebSocket.CONNECTING,ReconnectingWebSocket.OPEN=WebSocket.OPEN,ReconnectingWebSocket.CLOSING=WebSocket.CLOSING,ReconnectingWebSocket.CLOSED=WebSocket.CLOSED,ReconnectingWebSocket):void 0}(this);var twemoji=function(){var twemoji={parse:function(str,dontremove,emoticon){if(!str)return"";dontremove||(str=str.replace(/</g,"&lt;").replace(/>/g,"&gt;"));return replace(str=str.replace(/(\r\n|\n|\r)/gm,""),function(rawText){var iconId=grabTheRightIcon(rawText);return iconId?'<img class="'+(emoticon?"emoticon":"emoji")+'" alt="" src="https://twemoji.maxcdn.com/2/72x72/'+iconId+'.png"/>':rawText})},parseIcon:function(str){return str?replace(str,function(rawText){var iconId=grabTheRightIcon(rawText);return iconId?"https://twemoji.maxcdn.com/2/72x72/"+iconId+".png":rawText}):""},replace:replace},re=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,UFE0Fg=/\uFE0F/g,U200D=String.fromCharCode(8205);return twemoji;function grabTheRightIcon(rawText){for(var unicodeSurrogates=rawText&&(rawText.indexOf(U200D)<0?rawText.replace(UFE0Fg,""):rawText),r=[],c=0,p=0,i=0;i<unicodeSurrogates.length;)c=unicodeSurrogates.charCodeAt(i++),p?(r.push((65536+(p-55296<<10)+(c-56320)).toString(16)),p=0):55296<=c&&c<=56319?p=c:r.push(c.toString(16));return r.join("-")}function replace(text,callback){return String(text).replace(re,callback)}}();
    /**
     * Define the public API
     * and all function need to be called outiside the API
     * smartTwitchTV + all functions called by java
     */
    smartTwitchTV = {
        'mainstart': Main_Start, //Main_Start id Main_Start() func from app/specific/Main.js
    };

    /** Expose `smartTwitchTV` */
    root.smartTwitchTV = smartTwitchTV;
}(this));

smartTwitchTV.mainstart();
